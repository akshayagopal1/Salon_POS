import{r as d,i as U,aP as i,c as p,aK as x,B as z,C as B,D as n,E as l,u as a,aq as c,ar as f,ag as y,aT as E}from"./index-BSAhIZmI.js";import{e as G,_ as s}from"./Pos-BCPVCKkp.js";const R={class:"grid grid-cols-2 gap-5 w-full place-items-stretch",style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},O={__name:"CustomerForm",setup(I){const u=d(!0),g=U("base"),t=d({customer_name:"",mobile_no:"",email_id:"",gender:"",customer_type:"Individual",customer_group:"",territory:"",posa_referral_company:g.pos_profile.company,gst_category:"Unregistered"}),b=i({doctype:"Gender",fields:["name"],pageLength:10,auto:!0,transform:r=>r.map(e=>e.name)}),v=i({doctype:"Territory",fields:["name"],filters:{is_group:0},pageLength:5e3,orderBy:"name",auto:!0,transform:r=>r.map(e=>e.name)}),V=i({doctype:"Customer Group",fields:["name"],filters:{is_group:0},pageLength:1e3,orderBy:"name",auto:!0,transform:r=>r.map(e=>e.name)}),C=p(()=>b.data||[]),_=p(()=>V.data||[]),S=p(()=>v.data||[]),m=()=>{u.value=!1},k=x({method:"POST",url:"frappe.client.insert",makeParams(){var r,e,o;return{doc:{doctype:"Customer",...t.value,gender:((r=t.value.gender)==null?void 0:r.value)??null,customer_group:((e=t.value.customer_group)==null?void 0:e.value)??null,territory:((o=t.value.territory)==null?void 0:o.value)??null}}},onSuccess(r){G.emit("customerCreated",r),m()},onError(r){console.error("Error:",r)}});return(r,e)=>(B(),z(a(E),{options:{size:"2xl"},modelValue:u.value,"onUpdate:modelValue":e[7]||(e[7]=o=>u.value=o),onClose:m,onAfterLeave:m},{"body-title":n(()=>[...e[8]||(e[8]=[y("h3",{style:{color:"#4e60ac !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},"Create Customer",-1)])]),"body-content":n(()=>[y("div",R,[l(a(s),{type:"text",label:"Customer Name",modelValue:t.value.customer_name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.customer_name=o),placeholder:"Enter Customer Name",size:"sm"},null,8,["modelValue"]),l(a(s),{type:"text",label:"Mobile Number",modelValue:t.value.mobile_no,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.mobile_no=o),placeholder:"Enter Mobile Number",size:"sm"},null,8,["modelValue"]),l(a(s),{type:"email",label:"Email ID",modelValue:t.value.email_id,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.email_id=o),placeholder:"Enter Email ID",size:"sm"},null,8,["modelValue"]),l(a(s),{type:"autocomplete",label:"Gender",modelValue:t.value.gender,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.gender=o),options:C.value,placeholder:"Select Gender",size:"sm"},null,8,["modelValue","options"]),l(a(s),{type:"autocomplete",label:"Customer Group",modelValue:t.value.customer_group,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.customer_group=o),options:_.value,placeholder:"Select Customer Group",size:"sm"},null,8,["modelValue","options"]),l(a(s),{type:"autocomplete",label:"Territory",modelValue:t.value.territory,"onUpdate:modelValue":e[5]||(e[5]=o=>t.value.territory=o),options:S.value,placeholder:"Select Territory",size:"sm"},null,8,["modelValue","options"])])]),actions:n(()=>[l(a(c),{variant:"solid",onClick:e[6]||(e[6]=o=>a(k).fetch({})),style:{"background-color":"#4e60ac !important","border-color":"#4e60ac !important",color:"white !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},{default:n(()=>[...e[9]||(e[9]=[f("Submit",-1)])]),_:1}),l(a(c),{class:"ml-2",onClick:m,style:{"background-color":"#7c8bca !important","border-color":"#7c8bca !important",color:"white !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},{default:n(()=>[...e[10]||(e[10]=[f("Close",-1)])]),_:1})]),_:1},8,["modelValue"]))}};export{O as default};
//# sourceMappingURL=CustomerForm-Bo7HeeTE.js.map
