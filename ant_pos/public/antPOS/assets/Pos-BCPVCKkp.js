const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Open-Shift-DS8nm0F9.js","assets/index-BSAhIZmI.js","assets/index-SsbC_DSy.css","assets/CustomerForm-Bo7HeeTE.js","assets/Held-DG8zE_4u.js","assets/Return-CyIzARck.js","assets/CloseShift-C5luRPMq.js","assets/Settings-CTPjgMCI.js","assets/Attendance-DDOoJbjH.js"])))=>i.map(i=>d[i]);
import{c as V,u as i,s as lo,w as ee,t as jt,o as ao,r as B,a as Oe,b as so,i as se,d as Ie,e as ye,f as rn,h as Pe,F as ne,g as K,p as Te,j as _t,n as he,k as ge,l as ro,m as io,q as uo,v as ht,x as st,y as Je,z as un,A as je,B as T,C as h,D as E,E as M,P as xt,G as z,H as re,I as pe,J as dn,K as co,L as Ut,M as Mt,N as fo,O as cn,Q as me,R as fn,S as pn,T as mn,U as vn,V as po,W as mo,X as vo,Y as go,Z as ho,_ as ot,$ as Z,a0 as yo,a1 as bo,a2 as Ae,a3 as gn,a4 as Me,a5 as It,a6 as hn,a7 as rt,a8 as _o,a9 as xo,aa as yn,ab as wo,ac as ko,ad as bn,ae as So,af as Co,ag as x,ah as U,ai as Ce,aj as A,ak as H,al as Oo,am as oe,an as ue,ao as G,ap as $e,aq as le,ar as ce,as as Et,at as wt,au as Fe,av as it,aw as $o,ax as _e,ay as qo,az as yt,aA as gt,aB as _n,aC as Po,aD as Mo,aE as Io,aF as Eo,aG as Do,aH as Ao,aI as Vo,aJ as Ro,aK as De,aL as Fo,aM as To,aN as Bo,aO as No,aP as kt,aQ as Lo,aR as zo,aS as Le}from"./index-BSAhIZmI.js";function Ge(e,n,t){let o=t.initialDeps??[],a;function s(){var r,l,u,p;let f;t.key&&((r=t.debug)!=null&&r.call(t))&&(f=Date.now());const c=e();if(!(c.length!==o.length||c.some((q,S)=>o[S]!==q)))return a;o=c;let k;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(k=Date.now()),a=n(...c),t.key&&((u=t.debug)!=null&&u.call(t))){const q=Math.round((Date.now()-f)*100)/100,S=Math.round((Date.now()-k)*100)/100,g=S/16,I=(P,y)=>{for(P=String(P);P.length<y;)P=" "+P;return P};console.info(`%c⏱ ${I(S,5)} /${I(q,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(p=t==null?void 0:t.onChange)==null||p.call(t,a),a}return s.updateDeps=r=>{o=r},s}function Kt(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const jo=(e,n)=>Math.abs(e-n)<1.01,Uo=(e,n,t)=>{let o;return function(...a){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,a),t)}},Wt=e=>{const{offsetWidth:n,offsetHeight:t}=e;return{width:n,height:t}},Ko=e=>e,Wo=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let a=n;a<=t;a++)o.push(a);return o},Go=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const a=r=>{const{width:l,height:u}=r;n({width:Math.round(l),height:Math.round(u)})};if(a(Wt(t)),!o.ResizeObserver)return()=>{};const s=new o.ResizeObserver(r=>{const l=()=>{const u=r[0];if(u!=null&&u.borderBoxSize){const p=u.borderBoxSize[0];if(p){a({width:p.inlineSize,height:p.blockSize});return}}a(Wt(t))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(t,{box:"border-box"}),()=>{s.unobserve(t)}},Gt={passive:!0},Ht=typeof window>"u"?!0:"onscrollend"in window,Ho=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let a=0;const s=e.options.useScrollendEvent&&Ht?()=>{}:Uo(o,()=>{n(a,!1)},e.options.isScrollingResetDelay),r=f=>()=>{const{horizontal:c,isRtl:m}=e.options;a=c?t.scrollLeft*(m&&-1||1):t.scrollTop,s(),n(a,f)},l=r(!0),u=r(!1);u(),t.addEventListener("scroll",l,Gt);const p=e.options.useScrollendEvent&&Ht;return p&&t.addEventListener("scrollend",u,Gt),()=>{t.removeEventListener("scroll",l),p&&t.removeEventListener("scrollend",u)}},Yo=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},Xo=(e,{adjustments:n=0,behavior:t},o)=>{var a,s;const r=e+n;(s=(a=o.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[o.options.horizontal?"left":"top"]:r,behavior:t})};class Jo{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const r=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()})}));return{disconnect:()=>{var a;(a=o())==null||a.disconnect(),t=null},observe:a=>{var s;return(s=o())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=o())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,a])=>{typeof a>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ko,rangeExtractor:Wo,onChange:()=>{},measureElement:Yo,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var o,a;(a=(o=this.options).onChange)==null||a.call(o,this,t)},this.maybeNotify=Ge(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const a=new Map,s=new Map;for(let r=o-1;r>=0;r--){const l=t[r];if(a.has(l.lane))continue;const u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((r,l)=>r.end===l.end?r.index-l.index:r.end-l.end)[0]:void 0},this.getMeasurementOptions=Ge(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,a,s,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:a,getItemKey:s,enabled:r}),{key:!1}),this.getMeasurements=Ge(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:a,getItemKey:s,enabled:r},l)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const p=this.measurementsCache.slice(0,u);for(let f=u;f<t;f++){const c=s(f),m=this.options.lanes===1?p[f-1]:this.getFurthestMeasurement(p,f),k=m?m.end+this.options.gap:o+a,q=l.get(c),S=typeof q=="number"?q:this.options.estimateSize(f),g=k+S,I=m?m.lane:f%this.options.lanes;p[f]={index:f,start:k,size:S,end:g,key:c,lane:I}}return this.measurementsCache=p,p},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ge(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,o,a,s)=>this.range=t.length>0&&o>0?Qo({measurements:t,outerSize:o,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ge(()=>{let t=null,o=null;const a=this.calculateRange();return a&&(t=a.startIndex,o=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,o]},(t,o,a,s,r)=>s===null||r===null?[]:t({startIndex:s,endIndex:r,overscan:o,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,a=t.getAttribute(o);return a?parseInt(a,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const a=this.indexFromElement(t),s=this.measurementsCache[a];if(!s)return;const r=s.key,l=this.elementsCache.get(r);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(r,t)),t.isConnected&&this.resizeItem(a,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const a=this.measurementsCache[t];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,r=o-s;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,r,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,a)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(a))});return}this._measureElement(t,void 0)},this.getVirtualItems=Ge(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,o)=>{const a=[];for(let s=0,r=t.length;s<r;s++){const l=t[s],u=o[l];a.push(u)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return Kt(o[xn(0,o.length-1,a=>Kt(o[a]).start,t)])},this.getOffsetForAlignment=(t,o,a=0)=>{const s=this.getSize(),r=this.getScrollOffset();o==="auto"&&(o=t>=r+s?"end":"start"),o==="center"?t+=(a-s)/2:o==="end"&&(t-=s);const l=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=this.measurementsCache[t];if(!a)return;const s=this.getSize(),r=this.getScrollOffset();if(o==="auto")if(a.end>=r+s-this.options.scrollPaddingEnd)o="end";else if(a.start<=r+this.options.scrollPaddingStart)o="start";else return[r,o];const l=o==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o,a.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:o="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:o="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let s=0;const r=10,l=p=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(t,p);if(!f){console.warn("Failed to get offset for index:",t);return}const[c,m]=f;this._scrollToOffset(c,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const k=this.getScrollOffset(),q=this.getOffsetForIndex(t,m);if(!q){console.warn("Failed to get offset for index:",t);return}jo(q[0],k)||u(m)})},u=p=>{this.targetWindow&&(s++,s<r?this.targetWindow.requestAnimationFrame(()=>l(p)):console.warn(`Failed to scroll to index ${t} after ${r} attempts.`))};l(o)},this.scrollBy=(t,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let a;if(o.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((t=o[o.length-1])==null?void 0:t.end)??0;else{const s=Array(this.options.lanes).fill(null);let r=o.length-1;for(;r>=0&&s.some(l=>l===null);){const l=o[r];s[l.lane]===null&&(s[l.lane]=l.end),r--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:o,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const xn=(e,n,t,o)=>{for(;e<=n;){const a=(e+n)/2|0,s=t(a);if(s<o)e=a+1;else if(s>o)n=a-1;else return a}return e>0?e-1:0};function Qo({measurements:e,outerSize:n,scrollOffset:t,lanes:o}){const a=e.length-1,s=u=>e[u].start;if(e.length<=o)return{startIndex:0,endIndex:a};let r=xn(0,a,s,t),l=r;if(o===1)for(;l<a&&e[l].end<t+n;)l++;else if(o>1){const u=Array(o).fill(0);for(;l<a&&u.some(f=>f<t+n);){const f=e[l];u[f.lane]=f.end,l++}const p=Array(o).fill(t+n);for(;r>=0&&p.some(f=>f>=t);){const f=e[r];p[f.lane]=f.start,r--}r=Math.max(0,r-r%o),l=Math.min(a,l+(o-1-l%o))}return{startIndex:r,endIndex:l}}function Zo(e){const n=new Jo(i(e)),t=lo(n),o=n._didMount();return ee(()=>i(e).getScrollElement(),a=>{a&&n._willUpdate()},{immediate:!0}),ee(()=>i(e),a=>{n.setOptions({...a,onChange:(s,r)=>{var l;jt(t),(l=a.onChange)==null||l.call(a,s,r)}}),n._willUpdate(),jt(t)},{immediate:!0}),ao(o),t}function el(e){return Zo(V(()=>({observeElementRect:Go,observeElementOffset:Ho,scrollToFn:Xo,...i(e)})))}function wn(e,n,t){let o=B(t==null?void 0:t.value),a=V(()=>e.value!==void 0);return[V(()=>a.value?e.value:o.value),function(s){return a.value||(o.value=s),n==null?void 0:n(s)}]}function tl(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(n=>setTimeout(()=>{throw n}))}function bt(){let e=[],n={addEventListener(t,o,a,s){return t.addEventListener(o,a,s),n.add(()=>t.removeEventListener(o,a,s))},requestAnimationFrame(...t){let o=requestAnimationFrame(...t);n.add(()=>cancelAnimationFrame(o))},nextFrame(...t){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...t)})},setTimeout(...t){let o=setTimeout(...t);n.add(()=>clearTimeout(o))},microTask(...t){let o={current:!0};return tl(()=>{o.current&&t[0]()}),n.add(()=>{o.current=!1})},style(t,o,a){let s=t.style.getPropertyValue(o);return Object.assign(t.style,{[o]:a}),this.add(()=>{Object.assign(t.style,{[o]:s})})},group(t){let o=bt();return t(o),this.add(()=>o.dispose())},add(t){return e.push(t),()=>{let o=e.indexOf(t);if(o>=0)for(let a of e.splice(o,1))a()}},dispose(){for(let t of e.splice(0))t()}};return n}function nl(){let e=bt();return Oe(()=>e.dispose()),e}function ol(){let e=nl();return n=>{e.dispose(),e.nextFrame(n)}}var Yt;let ll=Symbol("headlessui.useid"),al=0;const Ue=(Yt=so)!=null?Yt:function(){return se(ll,()=>`${++al}`)()};function J(e){var n;if(e==null||e.value==null)return null;let t=(n=e.value.$el)!=null?n:e.value;return t instanceof Node?t:null}function Ee(e,n,...t){if(e in n){let a=n[e];return typeof a=="function"?a(...t):a}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Ee),o}var sl=Object.defineProperty,rl=(e,n,t)=>n in e?sl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Xt=(e,n,t)=>(rl(e,typeof n!="symbol"?n+"":n,t),t);let il=class{constructor(){Xt(this,"current",this.detect()),Xt(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Dt=new il;function Xe(e){if(Dt.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let n=J(e);if(n)return n.ownerDocument}return document}let Ot=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var tt=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(tt||{}),$t=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))($t||{}),ul=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(ul||{});function dl(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Ot)).sort((n,t)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var kn=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(kn||{});function cl(e,n=0){var t;return e===((t=Xe(e))==null?void 0:t.body)?!1:Ee(n,{0(){return e.matches(Ot)},1(){let o=e;for(;o!==null;){if(o.matches(Ot))return!0;o=o.parentElement}return!1}})}var fl=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(fl||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let pl=["textarea","input"].join(",");function ml(e){var n,t;return(t=(n=e==null?void 0:e.matches)==null?void 0:n.call(e,pl))!=null?t:!1}function At(e,n=t=>t){return e.slice().sort((t,o)=>{let a=n(t),s=n(o);if(a===null||s===null)return 0;let r=a.compareDocumentPosition(s);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Jt(e,n,{sorted:t=!0,relativeTo:o=null,skipElements:a=[]}={}){var s;let r=(s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?s:document,l=Array.isArray(e)?t?At(e):e:dl(e);a.length>0&&l.length>1&&(l=l.filter(q=>!a.includes(q))),o=o??r.activeElement;let u=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,l.indexOf(o))-1;if(n&4)return Math.max(0,l.indexOf(o))+1;if(n&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=n&32?{preventScroll:!0}:{},c=0,m=l.length,k;do{if(c>=m||c+m<=0)return 0;let q=p+c;if(n&16)q=(q+m)%m;else{if(q<0)return 3;if(q>=m)return 1}k=l[q],k==null||k.focus(f),c+=u}while(k!==r.activeElement);return n&6&&ml(k)&&k.select(),2}function vl(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function gl(){return/Android/gi.test(window.navigator.userAgent)}function Sn(){return vl()||gl()}function pt(e,n,t){Dt.isServer||Ie(o=>{document.addEventListener(e,n,t),o(()=>document.removeEventListener(e,n,t))})}function hl(e,n,t){Dt.isServer||Ie(o=>{window.addEventListener(e,n,t),o(()=>window.removeEventListener(e,n,t))})}function yl(e,n,t=V(()=>!0)){function o(s,r){if(!t.value||s.defaultPrevented)return;let l=r(s);if(l===null||!l.getRootNode().contains(l))return;let u=function p(f){return typeof f=="function"?p(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let p of u){if(p===null)continue;let f=p instanceof HTMLElement?p:J(p);if(f!=null&&f.contains(l)||s.composed&&s.composedPath().includes(f))return}return!cl(l,kn.Loose)&&l.tabIndex!==-1&&s.preventDefault(),n(s,l)}let a=B(null);pt("pointerdown",s=>{var r,l;t.value&&(a.value=((l=(r=s.composedPath)==null?void 0:r.call(s))==null?void 0:l[0])||s.target)},!0),pt("mousedown",s=>{var r,l;t.value&&(a.value=((l=(r=s.composedPath)==null?void 0:r.call(s))==null?void 0:l[0])||s.target)},!0),pt("click",s=>{Sn()||a.value&&(o(s,()=>a.value),a.value=null)},!0),pt("touchend",s=>o(s,()=>s.target instanceof HTMLElement?s.target:null),!0),hl("blur",s=>o(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Qt(e,n){if(e)return e;let t=n??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function bl(e,n){let t=B(Qt(e.value.type,e.value.as));return ye(()=>{t.value=Qt(e.value.type,e.value.as)}),Ie(()=>{var o;t.value||J(n)&&J(n)instanceof HTMLButtonElement&&!((o=J(n))!=null&&o.hasAttribute("type"))&&(t.value="button")}),t}function Zt(e){return[e.screenX,e.screenY]}function _l(){let e=B([-1,-1]);return{wasMoved(n){let t=Zt(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=Zt(n)}}}function Cn({container:e,accept:n,walk:t,enabled:o}){Ie(()=>{let a=e.value;if(!a||o!==void 0&&!o.value)return;let s=Xe(e);if(!s)return;let r=Object.assign(u=>n(u),{acceptNode:n}),l=s.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,r,!1);for(;l.nextNode();)t(l.currentNode)})}var lt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(lt||{}),xl=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(xl||{});function Ve({visible:e=!0,features:n=0,ourProps:t,theirProps:o,...a}){var s;let r=$n(o,t),l=Object.assign(a,{props:r});if(e||n&2&&r.static)return St(l);if(n&1){let u=(s=r.unmount)==null||s?0:1;return Ee(u,{0(){return null},1(){return St({...a,props:{...r,hidden:!0,style:{display:"none"}}})}})}return St(l)}function St({props:e,attrs:n,slots:t,slot:o,name:a}){var s,r;let{as:l,...u}=ut(e,["unmount","static"]),p=(s=t.default)==null?void 0:s.call(t,o),f={};if(o){let c=!1,m=[];for(let[k,q]of Object.entries(o))typeof q=="boolean"&&(c=!0),q===!0&&m.push(k);c&&(f["data-headlessui-state"]=m.join(" "))}if(l==="template"){if(p=On(p??[]),Object.keys(u).length>0||Object.keys(n).length>0){let[c,...m]=p??[];if(!wl(c)||m.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(n)).map(S=>S.trim()).filter((S,g,I)=>I.indexOf(S)===g).sort((S,g)=>S.localeCompare(g)).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`));let k=$n((r=c.props)!=null?r:{},u,f),q=rn(c,k,!0);for(let S in k)S.startsWith("on")&&(q.props||(q.props={}),q.props[S]=k[S]);return q}return Array.isArray(p)&&p.length===1?p[0]:p}return Pe(l,Object.assign({},u,f),{default:()=>p})}function On(e){return e.flatMap(n=>n.type===ne?On(n.children):[n])}function $n(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},t={};for(let o of e)for(let a in o)a.startsWith("on")&&typeof o[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(o[a])):n[a]=o[a];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(t).map(o=>[o,void 0])));for(let o in t)Object.assign(n,{[o](a,...s){let r=t[o];for(let l of r){if(a instanceof Event&&a.defaultPrevented)return;l(a,...s)}}});return n}function qn(e){let n=Object.assign({},e);for(let t in n)n[t]===void 0&&delete n[t];return n}function ut(e,n=[]){let t=Object.assign({},e);for(let o of n)o in t&&delete t[o];return t}function wl(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var Vt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Vt||{});let Pn=K({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:n,attrs:t}){return()=>{var o;let{features:a,...s}=e,r={"aria-hidden":(a&2)===2?!0:(o=s["aria-hidden"])!=null?o:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return Ve({ourProps:r,theirProps:s,slot:{},attrs:t,slots:n,name:"Hidden"})}}}),Mn=Symbol("Context");var at=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(at||{});function kl(){return se(Mn,null)}function Sl(e){Te(Mn,e)}var ie=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ie||{}),In=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(In||{});function Cl(e){function n(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let ze=[];Cl(()=>{function e(n){n.target instanceof HTMLElement&&n.target!==document.body&&ze[0]!==n.target&&(ze.unshift(n.target),ze=ze.filter(t=>t!=null&&t.isConnected),ze.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Ol(e){throw new Error("Unexpected object: "+e)}var fe=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(fe||{});function en(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),a=o??-1;switch(e.focus){case 0:{for(let s=0;s<t.length;++s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 1:{a===-1&&(a=t.length);for(let s=a-1;s>=0;--s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 2:{for(let s=a+1;s<t.length;++s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 3:{for(let s=t.length-1;s>=0;--s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 4:{for(let s=0;s<t.length;++s)if(n.resolveId(t[s],s,t)===e.id)return s;return o}case 5:return null;default:Ol(e)}}function Rt(e={},n=null,t=[]){for(let[o,a]of Object.entries(e))Dn(t,En(n,o),a);return t}function En(e,n){return e?e+"["+n+"]":n}function Dn(e,n,t){if(Array.isArray(t))for(let[o,a]of t.entries())Dn(e,En(n,o.toString()),a);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Rt(t,n,e)}function $l(e){var n,t;let o=(n=e==null?void 0:e.form)!=null?n:e.closest("form");if(o){for(let a of o.elements)if(a!==e&&(a.tagName==="INPUT"&&a.type==="submit"||a.tagName==="BUTTON"&&a.type==="submit"||a.nodeName==="INPUT"&&a.type==="image")){a.click();return}(t=o.requestSubmit)==null||t.call(o)}}var ql={};function Pl(e,n){return e===n}var Ml=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ml||{}),Il=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Il||{}),El=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(El||{});let An=Symbol("ComboboxContext");function Qe(e){let n=se(An,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Qe),t}return n}let Vn=Symbol("VirtualContext"),Dl=K({name:"VirtualProvider",setup(e,{slots:n}){let t=Qe("VirtualProvider"),o=V(()=>{let l=J(t.optionsRef);if(!l)return{start:0,end:0};let u=window.getComputedStyle(l);return{start:parseFloat(u.paddingBlockStart||u.paddingTop),end:parseFloat(u.paddingBlockEnd||u.paddingBottom)}}),a=el(V(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return J(t.optionsRef)},overscan:12}))),s=V(()=>{var l;return(l=t.virtual.value)==null?void 0:l.options}),r=B(0);return ee([s],()=>{r.value+=1}),Te(Vn,t.virtual.value?a:null),()=>[Pe("div",{style:{position:"relative",width:"100%",height:`${a.value.getTotalSize()}px`},ref:l=>{if(l){if(typeof process<"u"&&ql.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&a.value.scrollToIndex(t.activeOptionIndex.value)}}},a.value.getVirtualItems().map(l=>rn(n.default({option:t.virtual.value.options[l.index],open:t.comboboxState.value===0})[0],{key:`${r.value}-${l.index}`,"data-index":l.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":l.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${l.start}px)`,overflowAnchor:"none"}})))]}}),Rn=K({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:o}){let a=B(1),s=B(null),r=B(null),l=B(null),u=B(null),p=B({static:!1,hold:!1}),f=B([]),c=B(null),m=B(2),k=B(!1);function q(_=C=>C){let C=c.value!==null?f.value[c.value]:null,j=_(f.value.slice()),W=j.length>0&&j[0].dataRef.order.value!==null?j.sort((D,R)=>D.dataRef.order.value-R.dataRef.order.value):At(j,D=>J(D.dataRef.domRef)),F=C?W.indexOf(C):null;return F===-1&&(F=null),{options:W,activeOptionIndex:F}}let S=V(()=>e.multiple?1:0),g=V(()=>e.nullable),[I,P]=wn(V(()=>e.modelValue),_=>o("update:modelValue",_),V(()=>e.defaultValue)),y=V(()=>I.value===void 0?Ee(S.value,{1:[],0:void 0}):I.value),d=null,b=null;function O(_){return Ee(S.value,{0(){return P==null?void 0:P(_)},1:()=>{let C=ge(w.value.value).slice(),j=ge(_),W=C.findIndex(F=>w.compare(j,ge(F)));return W===-1?C.push(j):C.splice(W,1),P==null?void 0:P(C)}})}let $=V(()=>{});ee([$],([_],[C])=>{if(w.virtual.value&&_&&C&&c.value!==null){let j=_.indexOf(C[c.value]);j!==-1?c.value=j:c.value=null}});let w={comboboxState:a,value:y,mode:S,compare(_,C){if(typeof e.by=="string"){let j=e.by;return(_==null?void 0:_[j])===(C==null?void 0:C[j])}return e.by===null?Pl(_,C):e.by(_,C)},calculateIndex(_){return w.virtual.value?e.by===null?w.virtual.value.options.indexOf(_):w.virtual.value.options.findIndex(C=>w.compare(C,_)):f.value.findIndex(C=>w.compare(C.dataRef.value,_))},defaultValue:V(()=>e.defaultValue),nullable:g,immediate:V(()=>!1),virtual:V(()=>null),inputRef:r,labelRef:s,buttonRef:l,optionsRef:u,disabled:V(()=>e.disabled),options:f,change(_){P(_)},activeOptionIndex:V(()=>{if(k.value&&c.value===null&&(w.virtual.value?w.virtual.value.options.length>0:f.value.length>0)){if(w.virtual.value){let C=w.virtual.value.options.findIndex(j=>{var W;return!((W=w.virtual.value)!=null&&W.disabled(j))});if(C!==-1)return C}let _=f.value.findIndex(C=>!C.dataRef.disabled);if(_!==-1)return _}return c.value}),activationTrigger:m,optionsPropsRef:p,closeCombobox(){k.value=!1,!e.disabled&&a.value!==1&&(a.value=1,c.value=null)},openCombobox(){if(k.value=!0,!e.disabled&&a.value!==0){if(w.value.value){let _=w.calculateIndex(w.value.value);_!==-1&&(c.value=_)}a.value=0}},setActivationTrigger(_){m.value=_},goToOption(_,C,j){k.value=!1,d!==null&&cancelAnimationFrame(d),d=requestAnimationFrame(()=>{if(e.disabled||u.value&&!p.value.static&&a.value===1)return;if(w.virtual.value){c.value=_===fe.Specific?C:en({focus:_},{resolveItems:()=>w.virtual.value.options,resolveActiveIndex:()=>{var D,R;return(R=(D=w.activeOptionIndex.value)!=null?D:w.virtual.value.options.findIndex(L=>{var N;return!((N=w.virtual.value)!=null&&N.disabled(L))}))!=null?R:null},resolveDisabled:D=>w.virtual.value.disabled(D),resolveId(){throw new Error("Function not implemented.")}}),m.value=j??2;return}let W=q();if(W.activeOptionIndex===null){let D=W.options.findIndex(R=>!R.dataRef.disabled);D!==-1&&(W.activeOptionIndex=D)}let F=_===fe.Specific?C:en({focus:_},{resolveItems:()=>W.options,resolveActiveIndex:()=>W.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});c.value=F,m.value=j??2,f.value=W.options})},selectOption(_){let C=f.value.find(W=>W.id===_);if(!C)return;let{dataRef:j}=C;O(j.value)},selectActiveOption(){if(w.activeOptionIndex.value!==null){if(w.virtual.value)O(w.virtual.value.options[w.activeOptionIndex.value]);else{let{dataRef:_}=f.value[w.activeOptionIndex.value];O(_.value)}w.goToOption(fe.Specific,w.activeOptionIndex.value)}},registerOption(_,C){let j=_t({id:_,dataRef:C});if(w.virtual.value){f.value.push(j);return}b&&cancelAnimationFrame(b);let W=q(F=>(F.push(j),F));c.value===null&&w.isSelected(C.value.value)&&(W.activeOptionIndex=W.options.indexOf(j)),f.value=W.options,c.value=W.activeOptionIndex,m.value=2,W.options.some(F=>!J(F.dataRef.domRef))&&(b=requestAnimationFrame(()=>{let F=q();f.value=F.options,c.value=F.activeOptionIndex}))},unregisterOption(_,C){if(d!==null&&cancelAnimationFrame(d),C&&(k.value=!0),w.virtual.value){f.value=f.value.filter(W=>W.id!==_);return}let j=q(W=>{let F=W.findIndex(D=>D.id===_);return F!==-1&&W.splice(F,1),W});f.value=j.options,c.value=j.activeOptionIndex,m.value=2},isSelected(_){return Ee(S.value,{0:()=>w.compare(ge(w.value.value),ge(_)),1:()=>ge(w.value.value).some(C=>w.compare(ge(C),ge(_)))})},isActive(_){return c.value===w.calculateIndex(_)}};yl([r,l,u],()=>w.closeCombobox(),V(()=>a.value===0)),Te(An,w),Sl(V(()=>Ee(a.value,{0:at.Open,1:at.Closed})));let v=V(()=>{var _;return(_=J(r))==null?void 0:_.closest("form")});return ye(()=>{ee([v],()=>{if(!v.value||e.defaultValue===void 0)return;function _(){w.change(e.defaultValue)}return v.value.addEventListener("reset",_),()=>{var C;(C=v.value)==null||C.removeEventListener("reset",_)}},{immediate:!0})}),()=>{var _,C,j;let{name:W,disabled:F,form:D,...R}=e,L={open:a.value===0,disabled:F,activeIndex:w.activeOptionIndex.value,activeOption:w.activeOptionIndex.value===null?null:w.virtual.value?w.virtual.value.options[(_=w.activeOptionIndex.value)!=null?_:0]:(j=(C=w.options.value[w.activeOptionIndex.value])==null?void 0:C.dataRef.value)!=null?j:null,value:y.value};return Pe(ne,[...W!=null&&y.value!=null?Rt({[W]:y.value}).map(([N,Y])=>Pe(Pn,qn({features:Vt.Hidden,key:N,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:D,disabled:F,name:N,value:Y}))):[],Ve({theirProps:{...t,...ut(R,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:L,slots:n,attrs:t,name:"Combobox"})])}}}),Al=K({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let s=(a=e.id)!=null?a:`headlessui-combobox-button-${Ue()}`,r=Qe("ComboboxButton");o({el:r.buttonRef,$el:r.buttonRef});function l(f){r.disabled.value||(r.comboboxState.value===0?r.closeCombobox():(f.preventDefault(),r.openCombobox()),he(()=>{var c;return(c=J(r.inputRef))==null?void 0:c.focus({preventScroll:!0})}))}function u(f){switch(f.key){case ie.ArrowDown:f.preventDefault(),f.stopPropagation(),r.comboboxState.value===1&&r.openCombobox(),he(()=>{var c;return(c=r.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case ie.ArrowUp:f.preventDefault(),f.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),he(()=>{r.value.value||r.goToOption(fe.Last)})),he(()=>{var c;return(c=r.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return;case ie.Escape:if(r.comboboxState.value!==0)return;f.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&f.stopPropagation(),r.closeCombobox(),he(()=>{var c;return(c=r.inputRef.value)==null?void 0:c.focus({preventScroll:!0})});return}}let p=bl(V(()=>({as:e.as,type:n.type})),r.buttonRef);return()=>{var f,c;let m={open:r.comboboxState.value===0,disabled:r.disabled.value,value:r.value.value},{...k}=e,q={ref:r.buttonRef,id:s,type:p.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(f=J(r.optionsRef))==null?void 0:f.id,"aria-expanded":r.comboboxState.value===0,"aria-labelledby":r.labelRef.value?[(c=J(r.labelRef))==null?void 0:c.id,s].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:u,onClick:l};return Ve({ourProps:q,theirProps:k,slot:m,attrs:n,slots:t,name:"ComboboxButton"})}}}),Fn=K({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:n,attrs:t,slots:o,expose:a}){var s;let r=(s=e.id)!=null?s:`headlessui-combobox-input-${Ue()}`,l=Qe("ComboboxInput"),u=V(()=>Xe(J(l.inputRef))),p={value:!1};a({el:l.inputRef,$el:l.inputRef});function f(){l.change(null);let b=J(l.optionsRef);b&&(b.scrollTop=0),l.goToOption(fe.Nothing)}let c=V(()=>{var b;let O=l.value.value;return J(l.inputRef)?typeof e.displayValue<"u"&&O!==void 0?(b=e.displayValue(O))!=null?b:"":typeof O=="string"?O:"":""});ye(()=>{ee([c,l.comboboxState,u],([b,O],[$,w])=>{if(p.value)return;let v=J(l.inputRef);v&&((w===0&&O===1||b!==$)&&(v.value=b),requestAnimationFrame(()=>{var _;if(p.value||!v||((_=u.value)==null?void 0:_.activeElement)!==v)return;let{selectionStart:C,selectionEnd:j}=v;Math.abs((j??0)-(C??0))===0&&C===0&&v.setSelectionRange(v.value.length,v.value.length)}))},{immediate:!0}),ee([l.comboboxState],([b],[O])=>{if(b===0&&O===1){if(p.value)return;let $=J(l.inputRef);if(!$)return;let w=$.value,{selectionStart:v,selectionEnd:_,selectionDirection:C}=$;$.value="",$.value=w,C!==null?$.setSelectionRange(v,_,C):$.setSelectionRange(v,_)}})});let m=B(!1);function k(){m.value=!0}function q(){bt().nextFrame(()=>{m.value=!1})}let S=ol();function g(b){switch(p.value=!0,S(()=>{p.value=!1}),b.key){case ie.Enter:if(p.value=!1,l.comboboxState.value!==0||m.value)return;if(b.preventDefault(),b.stopPropagation(),l.activeOptionIndex.value===null){l.closeCombobox();return}l.selectActiveOption(),l.mode.value===0&&l.closeCombobox();break;case ie.ArrowDown:return p.value=!1,b.preventDefault(),b.stopPropagation(),Ee(l.comboboxState.value,{0:()=>l.goToOption(fe.Next),1:()=>l.openCombobox()});case ie.ArrowUp:return p.value=!1,b.preventDefault(),b.stopPropagation(),Ee(l.comboboxState.value,{0:()=>l.goToOption(fe.Previous),1:()=>{l.openCombobox(),he(()=>{l.value.value||l.goToOption(fe.Last)})}});case ie.Home:if(b.shiftKey)break;return p.value=!1,b.preventDefault(),b.stopPropagation(),l.goToOption(fe.First);case ie.PageUp:return p.value=!1,b.preventDefault(),b.stopPropagation(),l.goToOption(fe.First);case ie.End:if(b.shiftKey)break;return p.value=!1,b.preventDefault(),b.stopPropagation(),l.goToOption(fe.Last);case ie.PageDown:return p.value=!1,b.preventDefault(),b.stopPropagation(),l.goToOption(fe.Last);case ie.Escape:if(p.value=!1,l.comboboxState.value!==0)return;b.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&b.stopPropagation(),l.nullable.value&&l.mode.value===0&&l.value.value===null&&f(),l.closeCombobox();break;case ie.Tab:if(p.value=!1,l.comboboxState.value!==0)return;l.mode.value===0&&l.activationTrigger.value!==1&&l.selectActiveOption(),l.closeCombobox();break}}function I(b){n("change",b),l.nullable.value&&l.mode.value===0&&b.target.value===""&&f(),l.openCombobox()}function P(b){var O,$,w;let v=(O=b.relatedTarget)!=null?O:ze.find(_=>_!==b.currentTarget);if(p.value=!1,!(($=J(l.optionsRef))!=null&&$.contains(v))&&!((w=J(l.buttonRef))!=null&&w.contains(v))&&l.comboboxState.value===0)return b.preventDefault(),l.mode.value===0&&(l.nullable.value&&l.value.value===null?f():l.activationTrigger.value!==1&&l.selectActiveOption()),l.closeCombobox()}function y(b){var O,$,w;let v=(O=b.relatedTarget)!=null?O:ze.find(_=>_!==b.currentTarget);($=J(l.buttonRef))!=null&&$.contains(v)||(w=J(l.optionsRef))!=null&&w.contains(v)||l.disabled.value||l.immediate.value&&l.comboboxState.value!==0&&(l.openCombobox(),bt().nextFrame(()=>{l.setActivationTrigger(1)}))}let d=V(()=>{var b,O,$,w;return(w=($=(O=e.defaultValue)!=null?O:l.defaultValue.value!==void 0?(b=e.displayValue)==null?void 0:b.call(e,l.defaultValue.value):null)!=null?$:l.defaultValue.value)!=null?w:""});return()=>{var b,O,$,w,v,_,C;let j={open:l.comboboxState.value===0},{displayValue:W,onChange:F,...D}=e,R={"aria-controls":(b=l.optionsRef.value)==null?void 0:b.id,"aria-expanded":l.comboboxState.value===0,"aria-activedescendant":l.activeOptionIndex.value===null?void 0:l.virtual.value?(O=l.options.value.find(L=>!l.virtual.value.disabled(L.dataRef.value)&&l.compare(L.dataRef.value,l.virtual.value.options[l.activeOptionIndex.value])))==null?void 0:O.id:($=l.options.value[l.activeOptionIndex.value])==null?void 0:$.id,"aria-labelledby":(_=(w=J(l.labelRef))==null?void 0:w.id)!=null?_:(v=J(l.buttonRef))==null?void 0:v.id,"aria-autocomplete":"list",id:r,onCompositionstart:k,onCompositionend:q,onKeydown:g,onInput:I,onFocus:y,onBlur:P,role:"combobox",type:(C=t.type)!=null?C:"text",tabIndex:0,ref:l.inputRef,defaultValue:d.value,disabled:l.disabled.value===!0?!0:void 0};return Ve({ourProps:R,theirProps:D,slot:j,attrs:t,slots:o,features:lt.RenderStrategy|lt.Static,name:"ComboboxInput"})}}}),Tn=K({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:t,expose:o}){let a=Qe("ComboboxOptions"),s=`headlessui-combobox-options-${Ue()}`;o({el:a.optionsRef,$el:a.optionsRef}),Ie(()=>{a.optionsPropsRef.value.static=e.static}),Ie(()=>{a.optionsPropsRef.value.hold=e.hold});let r=kl(),l=V(()=>r!==null?(r.value&at.Open)===at.Open:a.comboboxState.value===0);Cn({container:V(()=>J(a.optionsRef)),enabled:V(()=>a.comboboxState.value===0),accept(p){return p.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function u(p){p.preventDefault()}return()=>{var p,f,c;let m={open:a.comboboxState.value===0},k={"aria-labelledby":(c=(p=J(a.labelRef))==null?void 0:p.id)!=null?c:(f=J(a.buttonRef))==null?void 0:f.id,id:s,ref:a.optionsRef,role:"listbox","aria-multiselectable":a.mode.value===1?!0:void 0,onMousedown:u},q=ut(e,["hold"]);return Ve({ourProps:k,theirProps:q,slot:m,attrs:n,slots:a.virtual.value&&a.comboboxState.value===0?{...t,default:()=>[Pe(Dl,{},t.default)]}:t,features:lt.RenderStrategy|lt.Static,visible:l.value,name:"ComboboxOptions"})}}}),Bn=K({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:n,attrs:t,expose:o}){let a=Qe("ComboboxOption"),s=`headlessui-combobox-option-${Ue()}`,r=B(null),l=V(()=>e.disabled);o({el:r,$el:r});let u=V(()=>{var P;return a.virtual.value?a.activeOptionIndex.value===a.calculateIndex(e.value):a.activeOptionIndex.value===null?!1:((P=a.options.value[a.activeOptionIndex.value])==null?void 0:P.id)===s}),p=V(()=>a.isSelected(e.value)),f=se(Vn,null),c=V(()=>({disabled:e.disabled,value:e.value,domRef:r,order:V(()=>e.order)}));ye(()=>a.registerOption(s,c)),Oe(()=>a.unregisterOption(s,u.value)),Ie(()=>{let P=J(r);P&&(f==null||f.value.measureElement(P))}),Ie(()=>{a.comboboxState.value===0&&u.value&&(a.virtual.value||a.activationTrigger.value!==0&&he(()=>{var P,y;return(y=(P=J(r))==null?void 0:P.scrollIntoView)==null?void 0:y.call(P,{block:"nearest"})}))});function m(P){P.preventDefault(),P.button===In.Left&&(l.value||(a.selectOption(s),Sn()||requestAnimationFrame(()=>{var y;return(y=J(a.inputRef))==null?void 0:y.focus({preventScroll:!0})}),a.mode.value===0&&a.closeCombobox()))}function k(){var P;if(e.disabled||(P=a.virtual.value)!=null&&P.disabled(e.value))return a.goToOption(fe.Nothing);let y=a.calculateIndex(e.value);a.goToOption(fe.Specific,y)}let q=_l();function S(P){q.update(P)}function g(P){var y;if(!q.wasMoved(P)||e.disabled||(y=a.virtual.value)!=null&&y.disabled(e.value)||u.value)return;let d=a.calculateIndex(e.value);a.goToOption(fe.Specific,d,0)}function I(P){var y;q.wasMoved(P)&&(e.disabled||(y=a.virtual.value)!=null&&y.disabled(e.value)||u.value&&(a.optionsPropsRef.value.hold||a.goToOption(fe.Nothing)))}return()=>{let{disabled:P}=e,y={active:u.value,selected:p.value,disabled:P},d={id:s,ref:r,role:"option",tabIndex:P===!0?void 0:-1,"aria-disabled":P===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onMousedown:m,onFocus:k,onPointerenter:S,onMouseenter:S,onPointermove:g,onMousemove:g,onPointerleave:I,onMouseleave:I},b=ut(e,["order","value"]);return Ve({ourProps:d,theirProps:b,slot:y,attrs:t,slots:n,name:"ComboboxOption"})}}}),Vl=Symbol("DescriptionContext");function Nn({slot:e=B({}),name:n="Description",props:t={}}={}){let o=B([]);function a(s){return o.value.push(s),()=>{let r=o.value.indexOf(s);r!==-1&&o.value.splice(r,1)}}return Te(Vl,{register:a,slot:e,name:n,props:t}),V(()=>o.value.length>0?o.value.join(" "):void 0)}let Ln=Symbol("LabelContext");function zn(){let e=se(Ln,null);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,zn),n}return e}function jn({slot:e={},name:n="Label",props:t={}}={}){let o=B([]);function a(s){return o.value.push(s),()=>{let r=o.value.indexOf(s);r!==-1&&o.value.splice(r,1)}}return Te(Ln,{register:a,slot:e,name:n,props:t}),V(()=>o.value.length>0?o.value.join(" "):void 0)}let Rl=K({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{slots:n,attrs:t}){var o;let a=(o=e.id)!=null?o:`headlessui-label-${Ue()}`,s=zn();return ye(()=>Oe(s.register(a))),()=>{let{name:r="Label",slot:l={},props:u={}}=s,{passive:p,...f}=e,c={...Object.entries(u).reduce((m,[k,q])=>Object.assign(m,{[k]:i(q)}),{}),id:a};return p&&(delete c.onClick,delete c.htmlFor,delete f.onClick),Ve({ourProps:c,theirProps:f,slot:l,attrs:t,slots:n,name:r})}}});function Fl(e,n){return e===n}let Un=Symbol("RadioGroupContext");function Kn(e){let n=se(Un,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Kn),t}return n}let Tl=K({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Fl},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(e,{emit:n,attrs:t,slots:o,expose:a}){var s;let r=(s=e.id)!=null?s:`headlessui-radiogroup-${Ue()}`,l=B(null),u=B([]),p=jn({name:"RadioGroupLabel"}),f=Nn({name:"RadioGroupDescription"});a({el:l,$el:l});let[c,m]=wn(V(()=>e.modelValue),g=>n("update:modelValue",g),V(()=>e.defaultValue)),k={options:u,value:c,disabled:V(()=>e.disabled),firstOption:V(()=>u.value.find(g=>!g.propsRef.disabled)),containsCheckedOption:V(()=>u.value.some(g=>k.compare(ge(g.propsRef.value),ge(e.modelValue)))),compare(g,I){if(typeof e.by=="string"){let P=e.by;return(g==null?void 0:g[P])===(I==null?void 0:I[P])}return e.by(g,I)},change(g){var I;if(e.disabled||k.compare(ge(c.value),ge(g)))return!1;let P=(I=u.value.find(y=>k.compare(ge(y.propsRef.value),ge(g))))==null?void 0:I.propsRef;return P!=null&&P.disabled?!1:(m(g),!0)},registerOption(g){u.value.push(g),u.value=At(u.value,I=>I.element)},unregisterOption(g){let I=u.value.findIndex(P=>P.id===g);I!==-1&&u.value.splice(I,1)}};Te(Un,k),Cn({container:V(()=>J(l)),accept(g){return g.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:g.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(g){g.setAttribute("role","none")}});function q(g){if(!l.value||!l.value.contains(g.target))return;let I=u.value.filter(P=>P.propsRef.disabled===!1).map(P=>P.element);switch(g.key){case ie.Enter:$l(g.currentTarget);break;case ie.ArrowLeft:case ie.ArrowUp:if(g.preventDefault(),g.stopPropagation(),Jt(I,tt.Previous|tt.WrapAround)===$t.Success){let P=u.value.find(y=>{var d;return y.element===((d=Xe(l))==null?void 0:d.activeElement)});P&&k.change(P.propsRef.value)}break;case ie.ArrowRight:case ie.ArrowDown:if(g.preventDefault(),g.stopPropagation(),Jt(I,tt.Next|tt.WrapAround)===$t.Success){let P=u.value.find(y=>{var d;return y.element===((d=Xe(y.element))==null?void 0:d.activeElement)});P&&k.change(P.propsRef.value)}break;case ie.Space:{g.preventDefault(),g.stopPropagation();let P=u.value.find(y=>{var d;return y.element===((d=Xe(y.element))==null?void 0:d.activeElement)});P&&k.change(P.propsRef.value)}break}}let S=V(()=>{var g;return(g=J(l))==null?void 0:g.closest("form")});return ye(()=>{ee([S],()=>{if(!S.value||e.defaultValue===void 0)return;function g(){k.change(e.defaultValue)}return S.value.addEventListener("reset",g),()=>{var I;(I=S.value)==null||I.removeEventListener("reset",g)}},{immediate:!0})}),()=>{let{disabled:g,name:I,form:P,...y}=e,d={ref:l,id:r,role:"radiogroup","aria-labelledby":p.value,"aria-describedby":f.value,onKeydown:q};return Pe(ne,[...I!=null&&c.value!=null?Rt({[I]:c.value}).map(([b,O])=>Pe(Pn,qn({features:Vt.Hidden,key:b,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:P,disabled:g,name:b,value:O}))):[],Ve({ourProps:d,theirProps:{...t,...ut(y,["modelValue","defaultValue","by"])},slot:{},attrs:t,slots:o,name:"RadioGroup"})])}}});var Bl=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Bl||{});let Nl=K({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let s=(a=e.id)!=null?a:`headlessui-radiogroup-option-${Ue()}`,r=Kn("RadioGroupOption"),l=jn({name:"RadioGroupLabel"}),u=Nn({name:"RadioGroupDescription"}),p=B(null),f=V(()=>({value:e.value,disabled:e.disabled})),c=B(1);o({el:p,$el:p});let m=V(()=>J(p));ye(()=>r.registerOption({id:s,element:m,propsRef:f})),Oe(()=>r.unregisterOption(s));let k=V(()=>{var d;return((d=r.firstOption.value)==null?void 0:d.id)===s}),q=V(()=>r.disabled.value||e.disabled),S=V(()=>r.compare(ge(r.value.value),ge(e.value))),g=V(()=>q.value?-1:S.value||!r.containsCheckedOption.value&&k.value?0:-1);function I(){var d;r.change(e.value)&&(c.value|=2,(d=J(p))==null||d.focus())}function P(){c.value|=2}function y(){c.value&=-3}return()=>{let{value:d,disabled:b,...O}=e,$={checked:S.value,disabled:q.value,active:!!(c.value&2)},w={id:s,ref:p,role:"radio","aria-checked":S.value?"true":"false","aria-labelledby":l.value,"aria-describedby":u.value,"aria-disabled":q.value?!0:void 0,tabIndex:g.value,onClick:q.value?void 0:I,onFocus:q.value?void 0:P,onBlur:q.value?void 0:y};return Ve({ourProps:w,theirProps:O,slot:$,attrs:n,slots:t,name:"RadioGroupOption"})}}}),Ll=Rl;const zl=["INPUT","TEXTAREA"];function jl(e,n,t,o={}){if(!n||o.enableIgnoredElement&&zl.includes(n.nodeName))return null;const{arrowKeyOptions:a="both",attributeName:s="[data-reka-collection-item]",itemsArray:r=[],loop:l=!0,dir:u="ltr",preventScroll:p=!0,focus:f=!1}=o,[c,m,k,q,S,g]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],I=k||q,P=c||m;if(!S&&!g&&(!I&&!P||a==="vertical"&&P||a==="horizontal"&&I))return null;const y=t?Array.from(t.querySelectorAll(s)):r;if(!y.length)return null;p&&e.preventDefault();let d=null;return P||I?d=Wn(y,n,{goForward:I?q:u==="ltr"?c:m,loop:l}):S?d=y.at(0)||null:g&&(d=y.at(-1)||null),f&&(d==null||d.focus()),d}function Wn(e,n,t,o=e.length){if(--o===0)return null;const a=e.indexOf(n),s=t.goForward?a+1:a-1;if(!t.loop&&(s<0||s>=e.length))return null;const r=(s+e.length)%e.length,l=e[r];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?Wn(e,l,t,o):l:null}function Ft(e){const n=ro({dir:B("ltr")});return V(()=>{var t;return(e==null?void 0:e.value)||((t=n.dir)==null?void 0:t.value)||"ltr"})}let Ct=0;function Gn(){Ie(e=>{if(!io)return;const n=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",n[0]??tn()),document.body.insertAdjacentElement("beforeend",n[1]??tn()),Ct++,e(()=>{Ct===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(t=>t.remove()),Ct--})})}function tn(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Ul(e){const n=uo("",1e3);return{search:n,handleTypeaheadSearch:(a,s)=>{n.value=n.value+a;{const r=ht(),l=s.map(m=>{var k,q;return{...m,textValue:((k=m.value)==null?void 0:k.textValue)??((q=m.ref.textContent)==null?void 0:q.trim())??""}}),u=l.find(m=>m.ref===r),p=l.map(m=>m.textValue),f=Wl(p,n.value,u==null?void 0:u.textValue),c=l.find(m=>m.textValue===f);return c&&c.ref.focus(),c==null?void 0:c.ref}},resetTypeahead:()=>{n.value=""}}}function Kl(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function Wl(e,n,t){const a=n.length>1&&Array.from(n).every(p=>p===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let r=Kl(e,Math.max(s,0));a.length===1&&(r=r.filter(p=>p!==t));const u=r.find(p=>p.toLowerCase().startsWith(a.toLowerCase()));return u!==t?u:void 0}const Gl="rovingFocusGroup.onEntryFocus",Hl={bubbles:!1,cancelable:!0};function Yl(e,n=!1){const t=ht();for(const o of e)if(o===t||(o.focus({preventScroll:n}),ht()!==t))return}const[Ku,Xl]=je("RovingFocusGroup");var Jl=K({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:n,emit:t}){const o=e,a=t,{loop:s,orientation:r,dir:l}=st(o),u=Ft(l),p=Je(o,"currentTabStopId",a,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),f=B(!1),c=B(!1),m=B(0),{getItems:k,CollectionSlot:q}=un({isProvider:!0});function S(I){const P=!c.value;if(I.currentTarget&&I.target===I.currentTarget&&P&&!f.value){const y=new CustomEvent(Gl,Hl);if(I.currentTarget.dispatchEvent(y),a("entryFocus",y),!y.defaultPrevented){const d=k().map(w=>w.ref).filter(w=>w.dataset.disabled!==""),b=d.find(w=>w.getAttribute("data-active")===""),O=d.find(w=>w.id===p.value),$=[b,O,...d].filter(Boolean);Yl($,o.preventScrollOnEntryFocus)}}c.value=!1}function g(){setTimeout(()=>{c.value=!1},1)}return n({getItems:k}),Xl({loop:s,dir:u,orientation:r,currentTabStopId:p,onItemFocus:I=>{p.value=I},onItemShiftTab:()=>{f.value=!0},onFocusableItemAdd:()=>{m.value++},onFocusableItemRemove:()=>{m.value--}}),(I,P)=>(h(),T(i(q),null,{default:E(()=>[M(i(xt),{tabindex:f.value||m.value===0?-1:0,"data-orientation":i(r),as:I.as,"as-child":I.asChild,dir:i(u),style:{outline:"none"},onMousedown:P[0]||(P[0]=y=>c.value=!0),onMouseup:g,onFocus:S,onBlur:P[1]||(P[1]=y=>f.value=!1)},{default:E(()=>[z(I.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),Ql=Jl,Zl=K({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return(t,o)=>(h(),T(i(dn),re(pe(n)),{default:E(()=>[z(t.$slots,"default")]),_:3},16))}}),Hn=Zl;function ea(){const e=B(!1);return ye(()=>{Ut("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),Ut(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const ta=co(ea),[Ke,Yn]=je(["MenuRoot","MenuSub"],"MenuContext"),[dt,na]=je("MenuRoot");var oa=K({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{modal:a,dir:s}=st(t),r=Ft(s),l=Je(t,"open",o),u=B(),p=ta();return Yn({open:l,onOpenChange:f=>{l.value=f},content:u,onContentChange:f=>{u.value=f}}),na({onClose:()=>{l.value=!1},isUsingKeyboardRef:p,dir:r,modal:a}),(f,c)=>(h(),T(i(Mt),null,{default:E(()=>[z(f.$slots,"default")]),_:3}))}}),la=oa;const[Tt,aa]=je("MenuContent");var sa=K({__name:"MenuContentImpl",props:fo({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...po}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:n}){const t=e,o=n,a=Ke(),s=dt(),{trapFocus:r,disableOutsidePointerEvents:l,loop:u}=st(t);Gn(),cn(l.value);const p=B(""),f=B(0),c=B(0),m=B(null),k=B("right"),q=B(0),S=B(null),g=B(),{forwardRef:I,currentElement:P}=me(),{handleTypeaheadSearch:y}=Ul();ee(P,v=>{a.onContentChange(v)}),Oe(()=>{window.clearTimeout(f.value)});function d(v){var C,j;return k.value===((C=m.value)==null?void 0:C.side)&&mo(v,(j=m.value)==null?void 0:j.area)}async function b(v){var _;o("openAutoFocus",v),!v.defaultPrevented&&(v.preventDefault(),(_=P.value)==null||_.focus({preventScroll:!0}))}function O(v){var L;if(v.defaultPrevented)return;const C=v.target.closest("[data-reka-menu-content]")===v.currentTarget,j=v.ctrlKey||v.altKey||v.metaKey,W=v.key.length===1,F=jl(v,ht(),P.value,{loop:u.value,arrowKeyOptions:"vertical",dir:s==null?void 0:s.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(F)return F==null?void 0:F.focus();if(v.code==="Space")return;const D=((L=g.value)==null?void 0:L.getItems())??[];if(C&&(v.key==="Tab"&&v.preventDefault(),!j&&W&&y(v.key,D)),v.target!==P.value||!vo.includes(v.key))return;v.preventDefault();const R=[...D.map(N=>N.ref)];go.includes(v.key)&&R.reverse(),ho(R)}function $(v){var _,C;(C=(_=v==null?void 0:v.currentTarget)==null?void 0:_.contains)!=null&&C.call(_,v.target)||(window.clearTimeout(f.value),p.value="")}function w(v){var j;if(!ot(v))return;const _=v.target,C=q.value!==v.clientX;if((j=v==null?void 0:v.currentTarget)!=null&&j.contains(_)&&C){const W=v.clientX>q.value?"right":"left";k.value=W,q.value=v.clientX}}return aa({onItemEnter:v=>!!d(v),onItemLeave:v=>{var _;d(v)||((_=P.value)==null||_.focus(),S.value=null)},onTriggerLeave:v=>!!d(v),searchRef:p,pointerGraceTimerRef:c,onPointerGraceIntentChange:v=>{m.value=v}}),(v,_)=>(h(),T(i(vn),{"as-child":"",trapped:i(r),onMountAutoFocus:b,onUnmountAutoFocus:_[7]||(_[7]=C=>o("closeAutoFocus",C))},{default:E(()=>[M(i(fn),{"as-child":"","disable-outside-pointer-events":i(l),onEscapeKeyDown:_[2]||(_[2]=C=>o("escapeKeyDown",C)),onPointerDownOutside:_[3]||(_[3]=C=>o("pointerDownOutside",C)),onFocusOutside:_[4]||(_[4]=C=>o("focusOutside",C)),onInteractOutside:_[5]||(_[5]=C=>o("interactOutside",C)),onDismiss:_[6]||(_[6]=C=>o("dismiss"))},{default:E(()=>[M(i(Ql),{ref_key:"rovingFocusGroupRef",ref:g,"current-tab-stop-id":S.value,"onUpdate:currentTabStopId":_[0]||(_[0]=C=>S.value=C),"as-child":"",orientation:"vertical",dir:i(s).dir.value,loop:i(u),onEntryFocus:_[1]||(_[1]=C=>{o("entryFocus",C),i(s).isUsingKeyboardRef.value||C.preventDefault()})},{default:E(()=>[M(i(pn),{ref:i(I),role:"menu",as:v.as,"as-child":v.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":i(mn)(i(a).open.value),dir:i(s).dir.value,side:v.side,"side-offset":v.sideOffset,align:v.align,"align-offset":v.alignOffset,"avoid-collisions":v.avoidCollisions,"collision-boundary":v.collisionBoundary,"collision-padding":v.collisionPadding,"arrow-padding":v.arrowPadding,"prioritize-position":v.prioritizePosition,"position-strategy":v.positionStrategy,"update-position-strategy":v.updatePositionStrategy,sticky:v.sticky,"hide-when-detached":v.hideWhenDetached,reference:v.reference,onKeydown:O,onBlur:$,onPointermove:w},{default:E(()=>[z(v.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Bt=sa,ra=K({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=Tt(),{forwardRef:o}=me(),{CollectionItem:a}=un(),s=B(!1);async function r(u){if(!u.defaultPrevented&&ot(u)){if(n.disabled)t.onItemLeave(u);else if(!t.onItemEnter(u)){const f=u.currentTarget;f==null||f.focus({preventScroll:!0})}}}async function l(u){await he(),!u.defaultPrevented&&ot(u)&&t.onItemLeave(u)}return(u,p)=>(h(),T(i(a),{value:{textValue:u.textValue}},{default:E(()=>[M(i(xt),Z({ref:i(o),role:"menuitem",tabindex:"-1"},u.$attrs,{as:u.as,"as-child":u.asChild,"aria-disabled":u.disabled||void 0,"data-disabled":u.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:r,onPointerleave:l,onFocus:p[0]||(p[0]=async f=>{await he(),!(f.defaultPrevented||u.disabled)&&(s.value=!0)}),onBlur:p[1]||(p[1]=async f=>{await he(),!f.defaultPrevented&&(s.value=!1)})}),{default:E(()=>[z(u.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),Xn=ra,ia=K({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,o=n,{forwardRef:a,currentElement:s}=me(),r=dt(),l=Tt(),u=B(!1);async function p(){const f=s.value;if(!t.disabled&&f){const c=new CustomEvent(bo,{bubbles:!0,cancelable:!0});o("select",c),await he(),c.defaultPrevented?u.value=!1:r.onClose()}}return(f,c)=>(h(),T(Xn,Z(t,{ref:i(a),onClick:p,onPointerdown:c[0]||(c[0]=()=>{u.value=!0}),onPointerup:c[1]||(c[1]=async m=>{var k;await he(),!m.defaultPrevented&&(u.value||(k=m.currentTarget)==null||k.click())}),onKeydown:c[2]||(c[2]=async m=>{const k=i(l).searchRef.value!=="";f.disabled||k&&m.key===" "||i(yo).includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})}),{default:E(()=>[z(f.$slots,"default")]),_:3},16))}}),ua=ia,da=K({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=Ae(t,o),s=Ke(),{forwardRef:r,currentElement:l}=me();return gn(l),(u,p)=>(h(),T(Bt,Z(i(a),{ref:i(r),"trap-focus":i(s).open.value,"disable-outside-pointer-events":i(s).open.value,"disable-outside-scroll":!0,onDismiss:p[0]||(p[0]=f=>i(s).onOpenChange(!1)),onFocusOutside:p[1]||(p[1]=Me(f=>o("focusOutside",f),["prevent"]))}),{default:E(()=>[z(u.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),ca=da,fa=K({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=Ae(e,n),s=Ke();return(r,l)=>(h(),T(Bt,Z(i(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:l[0]||(l[0]=u=>i(s).onOpenChange(!1))}),{default:E(()=>[z(r.$slots,"default")]),_:3},16))}}),pa=fa,ma=K({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=Ae(e,n),s=Ke(),r=dt();return(l,u)=>(h(),T(i(It),{present:l.forceMount||i(s).open.value},{default:E(()=>[i(r).modal.value?(h(),T(ca,re(Z({key:0},{...l.$attrs,...i(a)})),{default:E(()=>[z(l.$slots,"default")]),_:3},16)):(h(),T(pa,re(Z({key:1},{...l.$attrs,...i(a)})),{default:E(()=>[z(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),va=ma,ga=K({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const n=e;return(t,o)=>(h(),T(i(xt),re(pe(n)),{default:E(()=>[z(t.$slots,"default")]),_:3},16))}}),ha=ga,ya=K({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>(h(),T(i(hn),re(pe(n)),{default:E(()=>[z(t.$slots,"default")]),_:3},16))}}),ba=ya;const[Jn,_a]=je("MenuSub");var xa=K({__name:"MenuSub",props:{open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:n}){const t=e,a=Je(t,"open",n,{defaultValue:!1,passive:t.open===void 0}),s=Ke(),r=B(),l=B();return Ie(u=>{(s==null?void 0:s.open.value)===!1&&(a.value=!1),u(()=>a.value=!1)}),Yn({open:a,onOpenChange:u=>{a.value=u},content:l,onContentChange:u=>{l.value=u}}),_a({triggerId:"",contentId:"",trigger:r,onTriggerChange:u=>{r.value=u}}),(u,p)=>(h(),T(i(Mt),null,{default:E(()=>[z(u.$slots,"default")]),_:3}))}}),wa=xa,ka=K({__name:"MenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1,default:!0},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=Ae(e,n),s=Ke(),r=dt(),l=Jn(),{forwardRef:u,currentElement:p}=me();return l.contentId||(l.contentId=rt(void 0,"reka-menu-sub-content")),(f,c)=>(h(),T(i(It),{present:f.forceMount||i(s).open.value},{default:E(()=>[M(Bt,Z(i(a),{id:i(l).contentId,ref:i(u),"aria-labelledby":i(l).triggerId,align:"start",side:i(r).dir.value==="rtl"?"left":"right","disable-outside-pointer-events":!1,"disable-outside-scroll":!1,"trap-focus":!1,onOpenAutoFocus:c[0]||(c[0]=Me(m=>{var k;i(r).isUsingKeyboardRef.value&&((k=i(p))==null||k.focus())},["prevent"])),onCloseAutoFocus:c[1]||(c[1]=Me(()=>{},["prevent"])),onFocusOutside:c[2]||(c[2]=m=>{m.defaultPrevented||m.target!==i(l).trigger.value&&i(s).onOpenChange(!1)}),onEscapeKeyDown:c[3]||(c[3]=m=>{i(r).onClose(),m.preventDefault()}),onKeydown:c[4]||(c[4]=m=>{var S,g;const k=(S=m.currentTarget)==null?void 0:S.contains(m.target),q=i(_o)[i(r).dir.value].includes(m.key);k&&q&&(i(s).onOpenChange(!1),(g=i(l).trigger.value)==null||g.focus(),m.preventDefault())})}),{default:E(()=>[z(f.$slots,"default")]),_:3},16,["id","aria-labelledby","side"])]),_:3},8,["present"]))}}),Sa=ka,Ca=K({__name:"MenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=Ke(),o=dt(),a=Jn(),s=Tt(),r=B(null);a.triggerId||(a.triggerId=rt(void 0,"reka-menu-sub-trigger"));function l(){r.value&&window.clearTimeout(r.value),r.value=null}Oe(()=>{l()});function u(c){!ot(c)||s.onItemEnter(c)||!n.disabled&&!t.open.value&&!r.value&&(s.onPointerGraceIntentChange(null),r.value=window.setTimeout(()=>{t.onOpenChange(!0),l()},100))}async function p(c){var k,q;if(!ot(c))return;l();const m=(k=t.content.value)==null?void 0:k.getBoundingClientRect();if(m!=null&&m.width){const S=(q=t.content.value)==null?void 0:q.dataset.side,g=S==="right",I=g?-5:5,P=m[g?"left":"right"],y=m[g?"right":"left"];s.onPointerGraceIntentChange({area:[{x:c.clientX+I,y:c.clientY},{x:P,y:m.top},{x:y,y:m.top},{x:y,y:m.bottom},{x:P,y:m.bottom}],side:S}),window.clearTimeout(s.pointerGraceTimerRef.value),s.pointerGraceTimerRef.value=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(c))return;s.onPointerGraceIntentChange(null)}}async function f(c){var k;const m=s.searchRef.value!=="";n.disabled||m&&c.key===" "||xo[o.dir.value].includes(c.key)&&(t.onOpenChange(!0),await he(),(k=t.content.value)==null||k.focus(),c.preventDefault())}return(c,m)=>(h(),T(Hn,{"as-child":""},{default:E(()=>[M(Xn,Z(n,{id:i(a).triggerId,ref:k=>{var q;(q=i(a))==null||q.onTriggerChange(k==null?void 0:k.$el)},"aria-haspopup":"menu","aria-expanded":i(t).open.value,"aria-controls":i(a).contentId,"data-state":i(mn)(i(t).open.value),onClick:m[0]||(m[0]=async k=>{n.disabled||k.defaultPrevented||(k.currentTarget.focus(),i(t).open.value||i(t).onOpenChange(!0))}),onPointermove:u,onPointerleave:p,onKeydown:f}),{default:E(()=>[z(c.$slots,"default")]),_:3},16,["id","aria-expanded","aria-controls","data-state"])]),_:3}))}}),Oa=Ca;const[ct,$a]=je("PopoverRoot");var qa=K({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{modal:a}=st(t),s=Je(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),r=B(),l=B(!1);return $a({contentId:"",triggerId:"",modal:a,open:s,onOpenChange:u=>{s.value=u},onOpenToggle:()=>{s.value=!s.value},triggerElement:r,hasCustomAnchor:l}),(u,p)=>(h(),T(i(Mt),null,{default:E(()=>[z(u.$slots,"default",{open:i(s),close:()=>s.value=!1})]),_:3}))}}),Pa=qa,Ma=K({__name:"PopoverAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;me();const t=ct();return yn(()=>{t.hasCustomAnchor.value=!0}),Oe(()=>{t.hasCustomAnchor.value=!1}),(o,a)=>(h(),T(i(dn),re(pe(n)),{default:E(()=>[z(o.$slots,"default")]),_:3},16))}}),Ia=Ma,Ea=K({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=wo(ko(t,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=me(),r=ct();return Gn(),(l,u)=>(h(),T(i(vn),{"as-child":"",loop:"",trapped:l.trapFocus,onMountAutoFocus:u[5]||(u[5]=p=>o("openAutoFocus",p)),onUnmountAutoFocus:u[6]||(u[6]=p=>o("closeAutoFocus",p))},{default:E(()=>[M(i(fn),{"as-child":"","disable-outside-pointer-events":l.disableOutsidePointerEvents,onPointerDownOutside:u[0]||(u[0]=p=>o("pointerDownOutside",p)),onInteractOutside:u[1]||(u[1]=p=>o("interactOutside",p)),onEscapeKeyDown:u[2]||(u[2]=p=>o("escapeKeyDown",p)),onFocusOutside:u[3]||(u[3]=p=>o("focusOutside",p)),onDismiss:u[4]||(u[4]=p=>i(r).onOpenChange(!1))},{default:E(()=>[M(i(pn),Z(i(a),{id:i(r).contentId,ref:i(s),"data-state":i(r).open.value?"open":"closed","aria-labelledby":i(r).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:E(()=>[z(l.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Qn=Ea,Da=K({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=ct(),s=B(!1);cn(!0);const r=Ae(t,o),{forwardRef:l,currentElement:u}=me();return gn(u),(p,f)=>(h(),T(Qn,Z(i(r),{ref:i(l),"trap-focus":i(a).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:f[0]||(f[0]=Me(c=>{var m;o("closeAutoFocus",c),s.value||(m=i(a).triggerElement.value)==null||m.focus()},["prevent"])),onPointerDownOutside:f[1]||(f[1]=c=>{o("pointerDownOutside",c);const m=c.detail.originalEvent,k=m.button===0&&m.ctrlKey===!0,q=m.button===2||k;s.value=q}),onFocusOutside:f[2]||(f[2]=Me(()=>{},["prevent"]))}),{default:E(()=>[z(p.$slots,"default")]),_:3},16,["trap-focus"]))}}),Aa=Da,Va=K({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=ct(),s=B(!1),r=B(!1),l=Ae(t,o);return(u,p)=>(h(),T(Qn,Z(i(l),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:p[0]||(p[0]=f=>{var c;o("closeAutoFocus",f),f.defaultPrevented||(s.value||(c=i(a).triggerElement.value)==null||c.focus(),f.preventDefault()),s.value=!1,r.value=!1}),onInteractOutside:p[1]||(p[1]=async f=>{var k;o("interactOutside",f),f.defaultPrevented||(s.value=!0,f.detail.originalEvent.type==="pointerdown"&&(r.value=!0));const c=f.target;((k=i(a).triggerElement.value)==null?void 0:k.contains(c))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&r.value&&f.preventDefault()})}),{default:E(()=>[z(u.$slots,"default")]),_:3},16))}}),Ra=Va,Fa=K({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=ct(),s=Ae(t,o),{forwardRef:r}=me();return a.contentId||(a.contentId=rt(void 0,"reka-popover-content")),(l,u)=>(h(),T(i(It),{present:l.forceMount||i(a).open.value},{default:E(()=>[i(a).modal.value?(h(),T(Aa,Z({key:0},i(s),{ref:i(r)}),{default:E(()=>[z(l.$slots,"default")]),_:3},16)):(h(),T(Ra,Z({key:1},i(s),{ref:i(r)}),{default:E(()=>[z(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ta=Fa,Ba=K({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>(h(),T(i(hn),re(pe(n)),{default:E(()=>[z(t.$slots,"default")]),_:3},16))}}),Na=Ba;const[Zn,La]=je("DropdownMenuRoot");var za=K({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n;me();const a=Je(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),s=B(),{modal:r,dir:l}=st(t),u=Ft(l);return La({open:a,onOpenChange:p=>{a.value=p},onOpenToggle:()=>{a.value=!a.value},triggerId:"",triggerElement:s,contentId:"",modal:r,dir:u}),(p,f)=>(h(),T(i(la),{open:i(a),"onUpdate:open":f[0]||(f[0]=c=>bn(a)?a.value=c:null),dir:i(u),modal:i(r)},{default:E(()=>[z(p.$slots,"default",{open:i(a)})]),_:3},8,["open","dir","modal"]))}}),ja=za,Ua=K({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const a=Ae(e,n);me();const s=Zn(),r=B(!1);function l(u){u.defaultPrevented||(r.value||setTimeout(()=>{var p;(p=s.triggerElement.value)==null||p.focus()},0),r.value=!1,u.preventDefault())}return s.contentId||(s.contentId=rt(void 0,"reka-dropdown-menu-content")),(u,p)=>{var f;return h(),T(i(va),Z(i(a),{id:i(s).contentId,"aria-labelledby":(f=i(s))==null?void 0:f.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:l,onInteractOutside:p[0]||(p[0]=c=>{var S;if(c.defaultPrevented)return;const m=c.detail.originalEvent,k=m.button===0&&m.ctrlKey===!0,q=m.button===2||k;(!i(s).modal.value||q)&&(r.value=!0),(S=i(s).triggerElement.value)!=null&&S.contains(c.target)&&c.preventDefault()})}),{default:E(()=>[z(u.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),Ka=Ua,Wa=K({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,a=So(n);return me(),(s,r)=>(h(),T(i(ua),re(pe({...t,...i(a)})),{default:E(()=>[z(s.$slots,"default")]),_:3},16))}}),nn=Wa,Ga=K({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return me(),(t,o)=>(h(),T(i(ha),re(pe(n)),{default:E(()=>[z(t.$slots,"default")]),_:3},16))}}),on=Ga,Ha=K({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>(h(),T(i(ba),re(pe(n)),{default:E(()=>[z(t.$slots,"default")]),_:3},16))}}),ln=Ha,Ya=K({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:n}){const t=e,a=Je(t,"open",n,{passive:t.open===void 0,defaultValue:t.defaultOpen??!1});return me(),(s,r)=>(h(),T(i(wa),{open:i(a),"onUpdate:open":r[0]||(r[0]=l=>bn(a)?a.value=l:null)},{default:E(()=>[z(s.$slots,"default",{open:i(a)})]),_:3},8,["open"]))}}),Xa=Ya,Ja=K({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=Ae(e,n);return me(),(s,r)=>(h(),T(i(Sa),Z(i(a),{style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:E(()=>[z(s.$slots,"default")]),_:3},16))}}),Qa=Ja,Za=K({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return me(),(t,o)=>(h(),T(i(Oa),re(pe(n)),{default:E(()=>[z(t.$slots,"default")]),_:3},16))}}),es=Za,ts=K({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=Zn(),{forwardRef:o,currentElement:a}=me();return ye(()=>{t.triggerElement=a}),t.triggerId||(t.triggerId=rt(void 0,"reka-dropdown-menu-trigger")),(s,r)=>(h(),T(i(Hn),{"as-child":""},{default:E(()=>[M(i(xt),{id:i(t).triggerId,ref:i(o),type:s.as==="button"?"button":void 0,"as-child":n.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":i(t).open.value,"aria-controls":i(t).open.value?i(t).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":i(t).open.value?"open":"closed",onClick:r[0]||(r[0]=async l=>{var u;!s.disabled&&l.button===0&&l.ctrlKey===!1&&((u=i(t))==null||u.onOpenToggle(),await he(),i(t).open.value&&l.preventDefault())}),onKeydown:r[1]||(r[1]=Co(l=>{s.disabled||(["Enter"," "].includes(l.key)&&i(t).onOpenToggle(),l.key==="ArrowDown"&&i(t).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())},["enter","space","arrow-down"]))},{default:E(()=>[z(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),ns=ts;const os={class:"rounded-lg border bg-surface-modal shadow-xl"},Nt=K({inheritAttrs:!1,__name:"Popover",props:{show:{type:Boolean,default:void 0},trigger:{default:"click"},hoverDelay:{default:0},leaveDelay:{default:.5},placement:{default:"bottom-start"},popoverClass:{default:""},transition:{default:null},hideOnBlur:{type:Boolean,default:!0}},emits:["open","close","update:show"],setup(e,{expose:n,emit:t}){const o=e,a=t;n({open:g,close:I});const s=B(!1),r=B(!1),l=B(null),u=B(null),p=B(null),f=V({get:()=>c.value?o.show:s.value,set:$=>{c.value||(s.value=$),a("update:show",$)}}),c=V(()=>o.show!==void 0),m=V(()=>{const[$]=o.placement.split("-");return $}),k=V(()=>{const[,$]=o.placement.split("-");return $||"center"});function q($){$ instanceof Event&&($=void 0),$==null&&($=!f.value),$=!!$,$?g():I()}function S(){}function g(){f.value=!0}function I(){f.value=!1}function P($){a("update:show",$),a($?"open":"close")}function y(){r.value=!0,u.value&&(clearTimeout(u.value),u.value=null),o.trigger==="hover"&&(o.hoverDelay?l.value=setTimeout(()=>{r.value&&g()},Number(o.hoverDelay)*1e3):g())}function d(){r.value=!1,l.value&&(clearTimeout(l.value),l.value=null),o.trigger==="hover"&&(u.value&&clearTimeout(u.value),o.leaveDelay?u.value=setTimeout(()=>{r.value||I()},Number(o.leaveDelay)*1e3):r.value||I())}function b($){if(!o.hideOnBlur){$.preventDefault();return}const w=$.target;if(p.value&&(p.value.contains(w)||p.value===w)){$.preventDefault();return}}const O=V(()=>o.transition==="default");return Oe(()=>{l.value&&clearTimeout(l.value),u.value&&clearTimeout(u.value)}),($,w)=>(h(),T(i(Pa),{open:f.value,"onUpdate:open":[w[1]||(w[1]=v=>f.value=v),P]},{default:E(()=>[M(i(Ia),{asChild:""},{default:E(()=>[x("div",{ref_key:"anchorRef",ref:p,class:U(["flex",$.$attrs.class]),onMouseover:y,onMouseleave:d},[z($.$slots,"target",re(pe({togglePopover:q,updatePosition:S,open:g,close:I,isOpen:f.value})))],34)]),_:3}),M(i(Na),null,{default:E(()=>[M(i(Ta),{side:m.value,align:k.value,style:{minWidth:"var(--reka-popover-trigger-width)"},class:U(["PopoverContent",{"has-transition":O.value}]),onMouseover:w[0]||(w[0]=()=>{r.value=!0}),onMouseleave:d,onInteractOutside:b},{default:E(()=>[x("div",{class:U(["relative",["body-container",$.popoverClass]])},[z($.$slots,"body",re(pe({togglePopover:q,updatePosition:S,open:g,close:I,isOpen:f.value})),()=>[x("div",os,[z($.$slots,"body-main",re(pe({togglePopover:q,updatePosition:S,open:g,close:I,isOpen:f.value})))])])],2)]),_:3},8,["side","align","class"])]),_:3})]),_:3},8,["open"]))}}),ls={class:"w-full space-y-1.5"},as={key:0,class:"block text-xs text-ink-gray-5"},ss=["onClick"],rs={class:"flex items-center overflow-hidden"},is={key:0,class:"truncate text-base leading-5 text-ink-gray-8"},us={key:1,class:"text-base leading-5 text-ink-gray-4"},ds={key:0,class:"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-surface-modal py-1.5"},cs={class:"relative w-full"},fs={class:"absolute right-0 inline-flex h-7 w-7 items-center justify-center"},ps={key:0,class:"sticky top-10 truncate bg-surface-modal px-2.5 py-1.5 text-sm font-medium text-ink-gray-5"},ms={class:"flex flex-1 gap-2 overflow-hidden items-center"},vs={key:0,class:"flex flex-shrink-0"},gs={key:1,class:"h-4 w-4"},hs={class:"flex-1 truncate text-ink-gray-7"},ys={key:0,class:"ml-2 flex-shrink-0"},bs={key:0,class:"text-sm text-ink-gray-5"},_s={key:1,class:"rounded-md px-2.5 py-1.5 text-base text-ink-gray-5"},xs={key:0,class:"border-t p-1"},ws={key:0,class:"flex items-center justify-end"},ks={key:1,class:"flex items-center justify-end"},Ss=K({__name:"Autocomplete",props:{label:{},options:{},hideSearch:{type:Boolean,default:!1},placeholder:{},bodyClasses:{},loading:{type:Boolean},placement:{},showFooter:{type:Boolean},compareFn:{type:Function,default:(e,n)=>e.value===n.value},maxOptions:{default:50},multiple:{type:Boolean,default:!1},modelValue:{type:[Array,null,String,Number,Boolean,Object]}},emits:["update:modelValue","update:query","change"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=B(),r=B(!1),l=B(""),u=V(()=>{var _;if(!((_=o.options)!=null&&_.length))return[];let v;return O(o.options[0])?v=o.options:v=[{group:"",items:f(o.options),hideLabel:!1}],v.map((C,j)=>({key:j,group:C.group,hideLabel:C.hideLabel,items:c(f(C.items||[]))})).filter(C=>C.items.length>0)}),p=V(()=>u.value.flatMap(v=>v.items)),f=v=>v?v.map(_=>b(_)?_:{label:_.toString(),value:_}):[],c=v=>l.value?v.filter(_=>_.label.toLowerCase().includes(l.value.trim().toLowerCase())||_.value.toString().toLowerCase().includes(l.value.trim().toLowerCase())):v,m=V({get(){if(!o.multiple)return k(o.modelValue)||q(o.modelValue);const v=o.modelValue||[];return b(v[0])?v:v.map(_=>k(_)||q(_))},set(v){if(l.value="",v&&!o.multiple&&(r.value=!1),!o.multiple){a("update:modelValue",v);return}a("update:modelValue",v)}}),k=v=>{if(!v)return v;const _=b(v)?v.value:v;return p.value.find(C=>C.value===_)},q=v=>b(v)?v:{label:v,value:v},S=v=>b(v)?(v==null?void 0:v.label)||(v==null?void 0:v.value):v,g=V(()=>m.value?o.multiple?m.value.map(v=>S(v)).join(", "):S(m.value):""),I=v=>{if(!m.value)return!1;const _=b(v)?v.value:v;return o.multiple?m.value.find(C=>b(C)?C.value===_:C===_):m.value===_},P=V(()=>{var v;return o.multiple?p.value.length===((v=m.value)==null?void 0:v.length):!1}),y=()=>{m.value=p.value},d=()=>{m.value=o.multiple?[]:void 0},b=v=>typeof v=="object",O=v=>typeof v=="object"&&"items"in v&&"group"in v;ee(()=>l.value,()=>{a("update:query",l.value)}),ee(()=>r.value,()=>{r.value&&he(()=>{var v;return(v=s.value)==null?void 0:v.$el.focus()})});const $=B();return n({rootRef:$,togglePopover:()=>{r.value=!r.value}}),(v,_)=>(h(),T(i(Rn),{modelValue:m.value,"onUpdate:modelValue":_[2]||(_[2]=C=>m.value=C),multiple:v.multiple,nullable:"",by:v.compareFn},{default:E(({open:C})=>[M(i(Nt),{class:"w-full",show:r.value,"onUpdate:show":_[1]||(_[1]=j=>r.value=j),ref_key:"rootRef",ref:$,placement:v.placement},{target:E(({open:j,togglePopover:W,close:F})=>[z(v.$slots,"target",re(pe({open:j,close:F,togglePopover:W,isOpen:C})),()=>[x("div",ls,[o.label?(h(),A("label",as,G(o.label),1)):H("",!0),x("button",{class:U(["flex h-7 w-full items-center justify-between gap-2 rounded bg-surface-gray-2 px-2 py-1 transition-colors hover:bg-surface-gray-3 border border-transparent focus:border-outline-gray-4 focus:outline-none focus:ring-2 focus:ring-outline-gray-3",{"bg-surface-gray-3":C}]),onClick:()=>W()},[x("div",rs,[z(v.$slots,"prefix"),g.value?(h(),A("span",is,G(g.value),1)):(h(),A("span",us,G(v.placeholder||""),1)),z(v.$slots,"suffix")]),M(oe,{name:"chevron-down",class:"h-4 w-4 text-ink-gray-5","aria-hidden":"true"})],10,ss)])])]),body:E(({isOpen:j,togglePopover:W})=>[Ce(x("div",null,[x("div",{class:U(["relative mt-1 rounded-lg bg-surface-modal text-base shadow-2xl",v.bodyClasses])},[M(i(Tn),{class:U(["max-h-[15rem] overflow-y-auto px-1.5 pb-1.5",{"pt-1.5":v.hideSearch}]),static:""},{default:E(()=>[v.hideSearch?H("",!0):(h(),A("div",ds,[x("div",cs,[M(i(Fn),{ref_key:"searchInput",ref:s,class:"form-input w-full focus:bg-surface-gray-3 hover:bg-surface-gray-4 text-ink-gray-8",type:"text",value:l.value,onChange:_[0]||(_[0]=F=>l.value=F.target.value),autocomplete:"off",placeholder:"Search"},null,8,["value"]),x("div",fs,[o.loading?(h(),T(Oo,{key:0,class:"h-4 w-4 text-ink-gray-5"})):(h(),A("button",{key:1,onClick:d},[M(oe,{name:"x",class:"w-4 text-ink-gray-8"})]))])])])),(h(!0),A(ne,null,ue(u.value,F=>Ce((h(),A("div",{key:F.key},[F.group&&!F.hideLabel?(h(),A("div",ps,G(F.group),1)):H("",!0),(h(!0),A(ne,null,ue(F.items.slice(0,o.maxOptions),(D,R)=>(h(),T(i(Bn),{as:"template",key:R,value:D,disabled:D.disabled},{default:E(({active:L,selected:N})=>[x("li",{class:U(["flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base",{"bg-surface-gray-3":L,"opacity-50":D.disabled}])},[x("div",ms,[v.$slots["item-prefix"]||o.multiple?(h(),A("div",vs,[z(v.$slots,"item-prefix",Z({ref_for:!0},{active:L,selected:N,option:D}),()=>[I(D)?(h(),T(oe,{key:0,name:"check",class:"h-4 w-4 text-ink-gray-7"})):(h(),A("div",gs))])])):H("",!0),x("span",hs,G(S(D)),1)]),v.$slots["item-suffix"]||D!=null&&D.description?(h(),A("div",ys,[z(v.$slots,"item-suffix",Z({ref_for:!0},{active:L,selected:N,option:D}),()=>[D!=null&&D.description?(h(),A("div",bs,G(D.description),1)):H("",!0)])])):H("",!0)],2)]),_:2},1032,["value","disabled"]))),128))])),[[$e,F.items.length>0]])),128)),u.value.length==0?(h(),A("li",_s," No results found ")):H("",!0)]),_:3},8,["class"]),v.$slots.footer||o.showFooter||v.multiple?(h(),A("div",xs,[z(v.$slots,"footer",re(pe({togglePopover:W})),()=>[v.multiple?(h(),A("div",ws,[P.value?H("",!0):(h(),T(i(le),{key:0,label:"Select All",onClick:Me(y,["stop"])})),P.value?(h(),T(i(le),{key:1,label:"Clear All",onClick:Me(d,["stop"])})):H("",!0)])):(h(),A("div",ks,[M(i(le),{label:"Clear",onClick:Me(d,["stop"])})]))])])):H("",!0)],2)],512),[[$e,j]])]),_:2},1032,["show","placement"])]),_:3},8,["modelValue","multiple","by"]))}}),Cs=K({__name:"Badge",props:{theme:{default:"gray"},size:{default:"md"},variant:{default:"subtle"},label:{}},setup(e){const n=e,t=V(()=>{let o={gray:"text-ink-white bg-surface-gray-7",blue:"text-ink-blue-1 bg-surface-blue-2",green:"text-ink-green-1 bg-surface-green-3",orange:"text-ink-amber-1 bg-surface-amber-2",red:"text-ink-red-1 bg-surface-red-4"}[n.theme],a={gray:"text-ink-gray-6 bg-surface-gray-2",blue:"text-ink-blue-2 bg-surface-blue-1",green:"text-ink-green-3 bg-surface-green-2",orange:"text-ink-amber-3 bg-surface-amber-1",red:"text-ink-red-4 bg-surface-red-1"}[n.theme],s={gray:"text-ink-gray-6 bg-transparent border border-outline-gray-1",blue:"text-ink-blue-2 bg-transparent border border-outline-blue-1",green:"text-ink-green-3 bg-transparent border border-outline-green-2",orange:"text-ink-amber-3 bg-transparent border border-outline-amber-2",red:"text-ink-red-4 bg-transparent border border-outline-red-2"}[n.theme],r={gray:"text-ink-gray-6 bg-transparent",blue:"text-ink-blue-2 bg-transparent",green:"text-ink-green-3 bg-transparent",orange:"text-ink-amber-3 bg-transparent",red:"text-ink-red-4 bg-transparent"}[n.theme],l={subtle:a,solid:o,outline:s,ghost:r}[n.variant],u={sm:"h-4 text-xs px-1.5",md:"h-5 text-xs px-1.5",lg:"h-6 text-sm px-2"}[n.size];return[l,u]});return(o,a)=>(h(),A("div",{class:U(["inline-flex select-none items-center gap-1 rounded-full",t.value])},[o.$slots.prefix?(h(),A("div",{key:0,class:U([n.size=="lg"?"max-h-6":"max-h-4"])},[z(o.$slots,"prefix")],2)):H("",!0),z(o.$slots,"default",{},()=>{var s;return[ce(G((s=n.label)==null?void 0:s.toString()),1)]}),o.$slots.suffix?(h(),A("div",{key:1,class:U([n.size=="lg"?"max-h-6":"max-h-4"])},[z(o.$slots,"suffix")],2)):H("",!0)],2))}}),Os=K({inheritAttrs:!1,__name:"Dropdown",props:{button:{},options:{default:()=>[]},placement:{default:"left"}},setup(e){const n=B(!1),t=Et(),o=wt(),a=e;function s(){n.value=!1}const r=d=>{d.route?t.push(d.route):d.onClick&&d.onClick()},l=d=>({...d,label:d.label,theme:d.theme||"gray",icon:d.icon,component:d.component,onClick:()=>r(d),submenu:d.submenu}),u=d=>d.theme==="red"?"text-ink-red-3":"text-ink-gray-6",p=d=>d.theme==="red"?"text-ink-red-3":"text-ink-gray-7",f=d=>d.theme==="red"?"focus:bg-surface-red-3 data-[highlighted]:bg-surface-red-3 data-[state=open]:bg-surface-red-3":"focus:bg-surface-gray-3 data-[highlighted]:bg-surface-gray-3 data-[state=open]:bg-surface-gray-3",c=d=>f(d)+" data-[state=open]:bg-surface-"+(d.theme==="red"?"red-3":"gray-3"),m=d=>{let b=[],O=null,$=0;for(let w of d)if(w!=null){if("group"in w){O&&(b.push(O),O=null);let v={key:$,...w,items:q(w.items)};b.push(v)}else O||(O={key:$,group:"",hideLabel:!0,items:[]}),O.items.push(...q([w]));$++}return O&&b.push(O),b},k=d=>m(d),q=d=>(d||[]).filter(Boolean).filter(b=>b.condition?b.condition():!0).map(b=>l(b)),S=d=>d.items.some(b=>b.icon),g={dropdownContent:"min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none dropdown-content",groupContainer:"p-1.5",groupLabel:"flex h-7 items-center px-2 text-sm font-medium",itemLabel:"whitespace-nowrap",itemIcon:"mr-2 h-4 w-4 flex-shrink-0",itemIconPlaceholder:"mr-2 h-4 w-4 flex-shrink-0",chevronIcon:"ml-auto h-4 w-4 flex-shrink-0",itemButton:"group flex h-7 w-full items-center rounded px-2 text-base focus:outline-none",submenuTrigger:"group flex h-7 w-full items-center rounded px-2 text-base text-ink-gray-6 focus:outline-none"},I=V(()=>m(a.options)),P=V(()=>"bottom"),y=V(()=>a.placement==="left"?"start":a.placement==="right"?"end":a.placement==="center"?"center":"start");return(d,b)=>(h(),T(i(ja),{open:n.value,"onUpdate:open":b[0]||(b[0]=O=>n.value=O)},{default:E(({open:O})=>[M(i(ns),{"as-child":""},{default:E(()=>[d.$slots.default?z(d.$slots,"default",re(Z({key:0},{open:O,close:s,...i(o)})),void 0,!0):(h(),T(i(le),Z({key:1,active:!1},{...d.button,...i(o)}),{default:E(()=>{var $;return[ce(G(d.button?(($=d.button)==null?void 0:$.label)||null:"Options"),1)]}),_:1},16))]),_:2},1024),M(i(ln),null,{default:E(()=>[M(i(Ka),{class:U([g.dropdownContent,{"origin-top-left":d.placement=="left","origin-top-right":d.placement=="right","origin-top":d.placement=="center"}]),side:P.value,align:y.value,"side-offset":4},{default:E(()=>[(h(!0),A(ne,null,ue(I.value,$=>(h(),A(ne,{key:$.key},[$.items.length?(h(),A("div",{key:0,class:U(g.groupContainer)},[$.group&&!$.hideLabel?(h(),T(i(on),{key:0,class:U([g.groupLabel,p($)])},{default:E(()=>[ce(G($.group),1)]),_:2},1032,["class"])):H("",!0),(h(!0),A(ne,null,ue($.items,w=>(h(),T(i(nn),{key:w.label,"as-child":"",onSelect:w.onClick},{default:E(()=>[d.$slots.item?z(d.$slots,"item",Z({key:0,ref_for:!0},{item:w,close:s}),void 0,!0):w.component?(h(),T(Fe(w.component),{key:1,active:!1})):w.submenu?(h(),T(i(Xa),{key:2},{default:E(()=>[M(i(es),{"as-child":""},{default:E(()=>[x("button",{class:U([g.submenuTrigger,c(w)])},[w.icon&&typeof w.icon=="string"?(h(),T(oe,{key:0,name:w.icon,class:U([g.itemIcon,u(w)]),"aria-hidden":"true"},null,8,["name","class"])):w.icon?(h(),T(Fe(w.icon),{key:1,class:U([g.itemIcon,u(w)])},null,8,["class"])):S($)?(h(),A("div",{key:2,class:U(g.itemIconPlaceholder)},null,2)):H("",!0),x("span",{class:U([g.itemLabel,p(w)])},G(w.label),3),M(oe,{name:"chevron-right",class:U([g.chevronIcon,u(w)]),"aria-hidden":"true"},null,8,["class"])],2)]),_:2},1024),M(i(ln),null,{default:E(()=>[M(i(Qa),{class:U(g.dropdownContent),"side-offset":4},{default:E(()=>[(h(!0),A(ne,null,ue(k(w.submenu),v=>(h(),A("div",{key:v.key,class:U(g.groupContainer)},[v.group&&!v.hideLabel?(h(),T(i(on),{key:0,class:U(g.groupLabel)},{default:E(()=>[ce(G(v.group),1)]),_:2},1032,["class"])):H("",!0),(h(!0),A(ne,null,ue(v.items,_=>(h(),T(i(nn),{key:_.label,"as-child":"",onSelect:()=>r(_)},{default:E(()=>[_.component?(h(),T(Fe(_.component),{key:0,active:!1})):(h(),A("button",{key:1,class:U([g.itemButton,f(_)])},[_.icon&&typeof _.icon=="string"?(h(),T(oe,{key:0,name:_.icon,class:U([g.itemIcon,u(_)]),"aria-hidden":"true"},null,8,["name","class"])):_.icon?(h(),T(Fe(_.icon),{key:1,class:U([g.itemIcon,u(_)])},null,8,["class"])):S(v)?(h(),A("div",{key:2,class:U(g.itemIconPlaceholder)},null,2)):H("",!0),x("span",{class:U([g.itemLabel,p(_)])},G(_.label),3)],2))]),_:2},1032,["onSelect"]))),128))],2))),128))]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)):(h(),A("button",{key:3,class:U([g.itemButton,f(w)])},[w.icon&&typeof w.icon=="string"?(h(),T(oe,{key:0,name:w.icon,class:U([g.itemIcon,u(w)]),"aria-hidden":"true"},null,8,["name","class"])):w.icon?(h(),T(Fe(w.icon),{key:1,class:U([g.itemIcon,u(w)])},null,8,["class"])):S($)?(h(),A("div",{key:2,class:U(g.itemIconPlaceholder)},null,2)):H("",!0),x("span",{class:U([g.itemLabel,p(w)])},G(w.label),3)],2))]),_:2},1032,["onSelect"]))),128))],2)):H("",!0)],64))),128))]),_:3},8,["class","side","align"])]),_:3})]),_:3},8,["open"]))}}),eo=it(Os,[["__scopeId","data-v-e596c91d"]]),$s={class:"flex min-w-0 items-center"},qs={class:"flex min-w-0 items-center overflow-hidden text-ellipsis whitespace-nowrap"},Ps=["onClick"],Ms={key:2,class:"mx-0.5 text-base text-ink-gray-4","aria-hidden":"true"},Is=K({__name:"Breadcrumbs",props:{items:{}},setup(e){const n=e,t=Et(),{width:o}=$o(),a=V(()=>(n.items||[]).filter(Boolean)),s=V(()=>o.value>640?[]:a.value.slice(0,-2).map(u=>{let p=()=>{u.onClick&&u.onClick(),u.route&&t.push(u.route)};return{...u,icon:null,label:u.label,onClick:p}})),r=V(()=>o.value>640?a.value:a.value.slice(-2));return(l,u)=>{const p=_e("router-link");return h(),A("div",$s,[s.value.length?(h(),A(ne,{key:0},[M(i(eo),{class:"h-7",options:s.value},{default:E(()=>[M(i(le),{variant:"ghost"},{icon:E(()=>[...u[0]||(u[0]=[x("svg",{class:"w-4 text-ink-gray-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[x("circle",{cx:"12",cy:"12",r:"1"}),x("circle",{cx:"19",cy:"12",r:"1"}),x("circle",{cx:"5",cy:"12",r:"1"})],-1)])]),_:1})]),_:1},8,["options"]),u[1]||(u[1]=x("span",{class:"ml-1 mr-0.5 text-base text-ink-gray-4","aria-hidden":"true"}," / ",-1))],64)):H("",!0),x("div",qs,[(h(!0),A(ne,null,ue(r.value,(f,c)=>(h(),A(ne,{key:f.label},[f.route?(h(),T(p,{key:0,to:f.route,onClick:m=>f.onClick?f.onClick():null,class:U(["flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3",[c==r.value.length-1?"text-ink-gray-9":"text-ink-gray-5 hover:text-ink-gray-7"]])},{default:E(()=>[z(l.$slots,"prefix",{item:f}),x("span",null,G(f.label),1),z(l.$slots,"suffix",{item:f})]),_:2},1032,["to","onClick","class"])):(h(),A("button",{key:1,onClick:m=>f.onClick?f.onClick():null,class:U(["flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3",[c==r.value.length-1?"text-ink-gray-9":"text-ink-gray-5 hover:text-ink-gray-7"]])},[z(l.$slots,"prefix",{item:f}),x("span",null,G(f.label),1),z(l.$slots,"suffix",{item:f})],10,Ps)),c!=r.value.length-1?(h(),A("span",Ms," / ")):H("",!0)],64))),128))])])}}});let Es=0;function Ds(){return++Es}function to(){return"frappe-ui-"+Ds()}const As=["disabled","id","checked"],Vs=["for"],Rs=K({__name:"Checkbox",props:{size:{default:"sm"},label:{},checked:{type:Boolean},disabled:{type:Boolean},padding:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number]},id:{}},setup(e){const n=e,t=wt(),o=n.id??to(),a=V(()=>[{sm:"text-base font-medium",md:"text-lg font-medium"}[n.size],n.disabled?"text-ink-gray-4":"text-ink-gray-8","select-none"]),s=V(()=>{let r=n.disabled?"border-outline-gray-2 bg-surface-menu-bar text-ink-gray-3":"border-outline-gray-4 text-ink-gray-9 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition",l=n.disabled?"":n.padding?"focus:ring-0":"hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 active:bg-surface-gray-2",u={sm:"w-3.5 h-3.5",md:"w-4 h-4"}[n.size];return[r,l,u]});return(r,l)=>(h(),A("div",{class:U(["inline-flex space-x-2 rounded transition",{"px-2.5 py-1.5":r.padding&&r.size==="sm","px-3 py-2":r.padding&&r.size==="md","focus-within:bg-surface-gray-2 focus-within:ring-2 focus-within:ring-outline-gray-3 hover:bg-surface-gray-3 active:bg-surface-gray-4":r.padding&&!r.disabled}])},[x("input",Z({class:["rounded-sm mt-[1px]",s.value],type:"checkbox",disabled:r.disabled,id:i(o),checked:!!r.modelValue,onChange:l[0]||(l[0]=u=>r.$emit("update:modelValue",u.target.checked))},i(t)),null,16,As),r.label?(h(),A("label",{key:0,class:U(["block",a.value]),for:i(o)},G(r.label),11,Vs)):H("",!0)],2))}});function qe(...e){return new Date(...e)}function He(e){return!e||e.toString()==="Invalid Date"?"":qo(e).set("hour",0).set("minute",0).set("second",0).set("millisecond",0).format("YYYY-MM-DD")}function mt(e,n){let t=1;n<0&&(t=-1,n=Math.abs(n));const o=[];for(;n;)e=qe(e.getFullYear(),e.getMonth(),e.getDate()+t),o.push(e),n--;return t===-1?o.reverse():o}function Fs(e,n){const o=[31,28,31,30,31,30,31,31,30,31,30,31][e];return e===1&&Ts(n)?29:o}function Ts(e){return e%400===0?!0:e%100===0?!1:e%4===0}function Bs(){const e=B(0),n=B(0),t=V(()=>qe()),o=V(()=>{if(!(e.value&&n.value))return[];const p=n.value-1,f=e.value,c=qe(f,p,1),m=qe(f,p+1,0),k=c.getDay(),q=6-m.getDay(),S=mt(c,-k),g=mt(m,q),I=Fs(p,f),P=mt(c,I-1);let y=[...S,c,...P,...g];if(y.length<42){const d=y.at(-1);if(d){const b=mt(d,42-y.length);y=y.concat(...b)}}return y}),a=V(()=>{const p=[],f=o.value.slice();for(;f.length;){const c=f.splice(0,7);p.push(c)}return p}),s=V(()=>{if(!(e.value&&n.value))return"";const p=qe(e.value,n.value-1,1);return`${p.toLocaleString("en-US",{month:"long"})}, ${p.getFullYear()}`});function r(){u(-1)}function l(){u(1)}function u(p){n.value=n.value+p,n.value<1&&(n.value=12,e.value=e.value-1),n.value>12&&(n.value=1,e.value=e.value+1)}return{currentYear:e,currentMonth:n,today:t,dates:o,datesAsWeeks:a,formattedMonth:s,prevMonth:r,nextMonth:l,changeMonth:u}}const Ns={class:"flex flex-col space-y-1.5"},Ls={key:0,class:"block text-xs text-ink-gray-5"},zs={class:"flex items-center p-1 text-ink-gray-4"},js={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},Us={class:"flex items-center justify-center gap-1 p-1"},Ks={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},Ws={class:"flex items-center text-xs uppercase"},Gs=["onClick"],Hs={class:"flex justify-end p-1"},qt=K({__name:"DatePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{},label:{}},emits:["update:modelValue","change"],setup(e,{emit:n}){const t=e,o=n,{currentYear:a,currentMonth:s,today:r,datesAsWeeks:l,formattedMonth:u,prevMonth:p,nextMonth:f}=Bs(),c=V(()=>{var g,I,P;let S="mt-2";return(g=t.placement)!=null&&g.startsWith("top")?S="mb-2":(I=t.placement)!=null&&I.startsWith("left")?S="mr-2":(P=t.placement)!=null&&P.startsWith("right")&&(S="ml-2"),S}),m=V(()=>t.value?t.value:t.modelValue);function k(S,g=!1){S=g?_n(S):S,o("change",He(S)),o("update:modelValue",He(S))}function q(){let S=m.value?qe(m.value):qe();S.toString()==="Invalid Date"&&(S=qe()),a.value=S.getFullYear(),s.value=S.getMonth()+1}return ye(()=>q()),(S,g)=>(h(),T(i(Nt),{onOpen:q,class:"flex w-full [&>div:first-child]:w-full",placement:S.placement},{target:E(({togglePopover:I})=>[x("div",Ns,[t.label?(h(),A("label",Ls,G(t.label),1)):H("",!0),M(i(yt),Z({readonly:"",type:"text",placeholder:S.placeholder,value:m.value&&S.formatter?S.formatter(m.value):m.value,onFocus:P=>S.readonly?null:I(),class:["w-full",S.inputClass]},S.$attrs),gt({_:2},[S.$slots.prefix?{name:"prefix",fn:E(()=>[z(S.$slots,"prefix")]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])])]),body:E(({togglePopover:I})=>[x("div",{class:U(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",c.value])},[x("div",zs,[M(i(le),{variant:"ghost",class:"h-7 w-7",onClick:i(p)},{default:E(()=>[M(oe,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),x("div",js,G(i(u)),1),M(i(le),{variant:"ghost",class:"h-7 w-7",onClick:i(f)},{default:E(()=>[M(oe,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),x("div",Us,[M(i(yt),{class:"text-sm",type:"text",value:m.value&&S.formatter?S.formatter(m.value):m.value,onChange:g[0]||(g[0]=P=>k(i(qe)(P.target.value)))},null,8,["value"]),M(i(le),{label:"Today",class:"text-sm",onClick:()=>{k(i(qe)(),!0),I()}},null,8,["onClick"])]),x("div",Ks,[x("div",Ws,[(h(),A(ne,null,ue(["s","m","t","w","t","f","s"],(P,y)=>x("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:y},G(P),1)),64))]),(h(!0),A(ne,null,ue(i(l),(P,y)=>(h(),A("div",{class:"flex items-center",key:y},[(h(!0),A(ne,null,ue(P,d=>(h(),A("div",{key:i(He)(d),class:U(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":d.getMonth()!==i(s)-1,"font-extrabold text-ink-gray-9":i(He)(d)===i(He)(i(r)),"bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":i(He)(d)===m.value}]),onClick:()=>{k(d),I()}},G(d.getDate()),11,Gs))),128))]))),128))]),x("div",Hs,[M(i(le),{label:"Clear",class:"text-sm",onClick:()=>{k(""),I()}},null,8,["onClick"])])],2)]),_:3},8,["placement"]))}}),Ys={class:"space-y-1.5"},Xs=["for"],Js=["placeholder","disabled","id","value","rows"],Qs=K({__name:"Textarea",props:{size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},debounce:{},rows:{default:3},label:{}},emits:["update:modelValue"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=wt(),r=B(null),l=V(()=>{let c={sm:"text-base rounded",md:"text-base rounded",lg:"text-lg rounded-md",xl:"text-xl rounded-md"}[o.size],m={sm:["py-1.5 px-2"],md:["py-1.5 px-2.5"],lg:["py-1.5 px-3"],xl:["py-1.5 px-3"]}[o.size],k=o.disabled?"disabled":o.variant,q={subtle:"border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",outline:"border border-outline-gray-2 bg-surface-white placeholder-ink-gray-4 hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",disabled:["border bg-surface-gray-1 placeholder-ink-gray-3",o.variant==="outline"?"border-outline-gray-2":"border-transparent"]}[k];return[c,m,q,o.disabled?"text-ink-gray-5":"text-ink-gray-8","transition-colors w-full block"]}),u=V(()=>[{sm:"text-xs",md:"text-base",lg:"text-lg",xl:"text-xl"}[o.size],"text-ink-gray-5"]);let p=c=>{a("update:modelValue",c)};o.debounce&&(p=Po(p,o.debounce));let f=c=>{p(c.target.value)};return n({el:r}),(c,m)=>(h(),A("div",Ys,[c.label?(h(),A("label",{key:0,class:U(["block",u.value]),for:c.id},G(c.label),11,Xs)):H("",!0),x("textarea",Z({ref_key:"textareaRef",ref:r,placeholder:c.placeholder,class:l.value,disabled:c.disabled,id:c.id,value:c.modelValue,rows:c.rows,onInput:m[0]||(m[0]=(...k)=>i(f)&&i(f)(...k)),onChange:m[1]||(m[1]=(...k)=>i(f)&&i(f)(...k))},i(s)),null,16,Js)]))}}),Zs=["for"],er=K({__name:"FormLabel",props:{label:{},size:{default:"sm"},id:{},required:{type:Boolean}},setup(e){const n=e,t=V(()=>[{sm:"text-xs",md:"text-base"}[n.size],"text-ink-gray-5"]);return(o,a)=>(h(),A("label",{class:U(["block",t.value]),for:o.id},[ce(G(o.label)+" ",1),o.required?(h(),A(ne,{key:0},[a[0]||(a[0]=x("span",{class:"text-ink-red-3 select-none","aria-hidden":"true"},"*",-1)),a[1]||(a[1]=x("span",{class:"sr-only"},"(required)",-1))],64)):H("",!0)],10,Zs))}}),tr={inheritAttrs:!1},Q=K({...tr,__name:"FormControl",props:{label:{},description:{},type:{default:"text"},size:{default:"sm"},variant:{default:"subtle"},required:{type:Boolean}},setup(e){const n=to(),t=e,o=wt(),a=V(()=>{let r={};for(let l in o)l!=="class"&&l!=="style"&&(r[l]=o[l]);return r}),s=V(()=>[{sm:"text-xs",md:"text-base"}[t.size],"text-ink-gray-5"]);return(r,l)=>r.type!="checkbox"?(h(),A("div",{key:0,class:U(["space-y-1.5",i(o).class]),style:Mo(i(o).style)},[r.label?(h(),T(er,{key:0,label:r.label,size:r.size,id:i(n),required:r.required},null,8,["label","size","id","required"])):H("",!0),r.type==="select"?(h(),T(i(Io),Z({key:1,id:i(n)},{...a.value,size:r.size,variant:r.variant}),gt({_:2},[r.$slots.prefix?{name:"prefix",fn:E(()=>[z(r.$slots,"prefix")]),key:"0"}:void 0]),1040,["id"])):r.type==="autocomplete"?(h(),T(i(Ss),re(Z({key:2},{...a.value})),gt({_:2},[r.$slots.prefix?{name:"prefix",fn:E(()=>[z(r.$slots,"prefix")]),key:"0"}:void 0,r.$slots["item-prefix"]?{name:"item-prefix",fn:E(u=>[z(r.$slots,"item-prefix",re(pe(u)))]),key:"1"}:void 0]),1040)):r.type==="textarea"?(h(),T(i(Qs),Z({key:3,id:i(n)},{...a.value,size:r.size,variant:r.variant}),null,16,["id"])):(h(),T(i(yt),Z({key:4,id:i(n)},{...a.value,type:r.type,size:r.size,variant:r.variant,required:r.required}),gt({_:2},[r.$slots.prefix?{name:"prefix",fn:E(()=>[z(r.$slots,"prefix")]),key:"0"}:void 0,r.$slots.suffix?{name:"suffix",fn:E(()=>[z(r.$slots,"suffix")]),key:"1"}:void 0]),1040,["id"])),z(r.$slots,"description",{},()=>[r.description?(h(),A("p",{key:0,class:U(s.value)},G(r.description),3)):H("",!0)])],6)):(h(),T(i(Rs),Z({key:1,id:i(n)},{...a.value,label:r.label,size:r.size,class:i(o).class}),null,16,["id"]))}}),nr={name:"TabButtons",props:{buttons:{type:Array,required:!0},modelValue:{type:[String,Boolean,Number]}},emits:["update:modelValue"],components:{Button:le,FeatherIcon:oe,RadioGroup:Tl,RadioGroupOption:Nl,RadioGroupLabel:Ll},computed:{value:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}},or={class:"flex space-x-0.5 rounded-md bg-surface-gray-2 h-7 items-center px-[1px] text-sm"};function lr(e,n,t,o,a,s){const r=_e("RadioGroupLabel"),l=_e("Button"),u=_e("RadioGroupOption"),p=_e("RadioGroup");return h(),T(p,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=f=>s.value=f)},{default:E(()=>[x("div",or,[(h(!0),A(ne,null,ue(t.buttons,f=>(h(),T(u,{as:"div",key:f.label,disabled:f.disabled,value:f.value??f.label},{default:E(({active:c,checked:m})=>[M(l,Z({onClick:f.onClick},{ref_for:!0},f,{class:["!h-6.5",[c?"ring-outline-gray-2 focus-visible:ring":"",m&&"!bg-surface-white",f.disabled?"":m?" text-ink-gray-9 shadow":"text-ink-gray-7"]]}),{default:E(()=>[Ce(M(r,{as:"span",class:"flex h-4 items-center"},{default:E(()=>[ce(G(f.label),1)]),_:2},1536),[[$e,f.label&&!f.hideLabel]])]),_:2},1040,["onClick","class"])]),_:2},1032,["disabled","value"]))),128))])]),_:1},8,["modelValue"])}const ar=it(nr,[["render",lr]]);let Se=null,Pt=null;function an(){typeof window<"u"&&!Se&&(Se=document.querySelector('link[rel="icon"]'),Pt=(Se==null?void 0:Se.href)||null)}function sr(e){typeof window<"u"&&an();const n=ee(()=>{try{return e()}catch{return null}},o=>{if(!(typeof window>"u")&&o)if(o.title&&(document.title=o.title),Se||an(),o.emoji){const a=`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${o.emoji}</text></svg>`;Se&&(Se.href=a)}else o.icon?Se&&(Se.href=o.icon):Se&&Pt&&(Se.href=Pt)},{immediate:!0,deep:!0});return Do()&&Eo(n),n}const nt=B({}),vt=_t({}),rr=Ao({doctype:"AntPOS Settings",name:"AntPOS Settings",onSuccess:e=>(nt.value=e,Lt().setupBrand(),e)});function Lt(){function e(){var n,t,o;vt.name=(n=nt.value)==null?void 0:n.brand_name,vt.logo=(t=nt.value)==null?void 0:t.brand_logo,vt.favicon=(o=nt.value)==null?void 0:o.favicon}return{setting:rr,settings:nt,brand:vt,setupBrand:e}}const ir=Vo("antpos-users",()=>{const e=Ro();let n=_t({});const t=Et(),o=De({url:"ant_pos.ant_pos.api.session.get_users",cache:"Users",initialData:[],auto:!0,transform(s){for(let r of s)n[r.name]=r,r.name==="Administrator"&&(n[r.email]=r);return s},onError(s){s&&s.exc_type==="AuthenticationError"&&t.push("/login")}});function a(s){return(!s||s==="sessionUser")&&(s=e.user),n[s]||(n[s]={name:s,email:s,full_name:s.split("@")[0],first_name:s.split("@")[0],last_name:"",user_image:null,role:null}),n[s]}return{users:o,getUser:a}}),xe=Fo(),ur=["src"],dr={class:"flex flex-1 flex-col text-left ml-3 transition-all duration-300 ease-in-out"},cr={class:"text-p-sm font-semibold text-white"},fr={class:"mt-1 text-sm text-gray-300"},pr=["src"],mr={class:"w-full flex flex-col gap-3 mt-6"},vr={class:"text-white font-medium"},gr={class:"text-white font-medium"},hr={class:"flex justify-center items-center gap-2"},yr={__name:"Sidebar",props:{collapse:{type:Boolean,required:!0}},setup(e){const{brand:n}=Lt();let t=se("base");B({isExpanded:!0});const{loadComponent:o}=se("dynamicComponent"),a=ir(),s=V(()=>a.getUser()),r=De({url:"logout",method:"GET",onSuccess(p){window.location.reload()}}),l=e,u=[{label:"Close Shift",icon:()=>Pe(oe,{name:"file-minus"}),onClick:()=>{o("CloseShift")}},{label:"Settings",icon:()=>Pe(oe,{name:"settings"}),onClick:()=>{o("Settings")}},{label:"Logout",icon:()=>Pe(oe,{name:"log-out"}),onClick:()=>{r.fetch()}}];return(p,f)=>(h(),A("div",{class:U(["h-full pb-4 bg-[#4e60ac] shadow-lg flex-col items-center transition-all duration-300 ease-in-out flex ",l.collapse?"w-[3%] sm:hidden lg:flex":"w-[30%] px-1 fixed inset-0 z-40 lg:w-[10%] lg:inset-auto lg:z-auto lg:relative"])},[M(i(eo),{options:u,class:U(l.collapse?"":"adjust w-full")},{default:E(()=>[l.collapse?(h(),A("button",{key:1,class:U(["flex h-14 justify-center items-center pb-2 mt-1 duration-150 ease-in-out",l.collapse?"w-full":"w-44 rounded-lg hover:bg-[#7c8bca]"])},[x("img",{src:i(n).logo||"/assets/ant_pos/antPOS.png",alt:"Brand Logo",class:U(["object-cover transition-all duration-300 ease-in-out",l.collapse?"h-full w-full m-0.5":"h-10 w-10"])},null,10,pr)],2)):(h(),A("button",{key:0,class:U(["flex h-14 items-center pb-2 mt-1 max-w-full duration-150 ease-in-out justify-center object-cover",l.collapse?"w-full ":"w-full  hover:bg-[#7c8bca] rounded-lg"])},[x("img",{src:i(n).logo||"/assets/ant_pos/antPOS.png",alt:"Brand Logo",class:U(["object-cover max-h-[60%] lg:max-h-full transition-all duration-300 ease-in-out",l.collapse?"h-7 w-full":"h-10 w-10 object-center"])},null,10,ur),Ce(x("div",dr,[x("div",cr,G(i(n).name?i(n).name:"antPOS"),1),x("div",fr,G(s.value.full_name),1)],512),[[$e,!l.collapse]]),Ce(M(i(oe),{name:"chevron-down",class:"h-5 w-5 text-gray-300","aria-hidden":"true"},null,512),[[$e,!l.collapse]])],2))]),_:1},8,["class"]),x("div",mr,[x("div",{class:U(["w-full p-2 flex gap-3 items-center hover:bg-[#7c8bca] hover:cursor-pointer rounded-lg transition-all duration-500 ease-in-out",[{"bg-[#7c8bca]":i(t).page!="payments"},l.collapse?"justify-center":""]]),onClick:f[0]||(f[0]=c=>i(xe).emit("updatePage","Pos"))},[M(i(oe),{name:"monitor",class:"w-5 h-5 text-white"}),Ce(x("p",vr,"POS",512),[[$e,!l.collapse]])],2),x("div",{class:"w-full p-2 flex gap-3 items-center hover:bg-[#7c8bca] rounded-lg transition-all duration-500 ease-in-out",onClick:f[1]||(f[1]=c=>i(o)("Attendance"))},[M(i(oe),{name:"user-check",class:"w-5 h-5 text-white"}),Ce(x("p",gr,"Attendance",512),[[$e,!l.collapse]])])]),M(i(le),{class:U(["mt-auto w-full flex bg-transparent hover:cursor-pointer transition-all duration-500 ease-in-out text-white hover:bg-[#7c8bca] border-none",l.collapse?"justify-end":"justify-center"]),onClick:f[2]||(f[2]=c=>i(xe).emit("trigger_collapse"))},{default:E(()=>[x("div",hr,[M(i(oe),{name:l.collapse?"chevrons-right":"chevrons-left",class:"h-5 w-5"},null,8,["name"]),Ce(x("span",null,"Collapse",512),[[$e,!l.collapse]])])]),_:1},8,["class"])],2))}},br=it(yr,[["__scopeId","data-v-f7e19a42"]]),_r={class:"w-full h-[6%]"},xr={class:"bg-[#ffffff] w-full h-full flex items-center justify-between p-4 border-b border-gray-200",style:{"font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif","font-size":"17px"}},wr={class:"flex items-center gap-2"},kr={class:"flex float-right gap-4"},Sr={__name:"Navbar",setup(e){const n=se("base");V({get(){var o;return((o=n==null?void 0:n.pos_profile)==null?void 0:o.custom_set_sales_order)===1},set(o){n&&n.pos_profile&&(n.pos_profile.custom_set_sales_order=o?1:0)}}),V(()=>{var o;return n!=null&&n.is_return?{label:"Return",theme:"yellow",class:"'text-xs font-semibold text-yellow-300'"}:(o=n==null?void 0:n.invoice)!=null&&o.docstatus?{label:"Draft",theme:"red",class:"'text-xs font-semibold'"}:{label:"Not Saved",theme:"red",class:"'text-xs font-semibold'"}});const t=V(()=>[{label:(n==null?void 0:n.page)==="Pos"?"POS":"Payments",route:{name:"Pos"}}]);return(o,a)=>{const s=_e("Button");return h(),A("div",_r,[x("div",xr,[x("div",wr,[M(s,{variant:"ghost",size:"lg",onClick:a[0]||(a[0]=r=>i(xe).emit("trigger_collapse")),class:"bg-gray-300 hover:bg-gray-400 rounded-full p-1.5 lg:hidden block"},{default:E(()=>[M(i(oe),{name:"menu",class:"w-4 h-4"})]),_:1}),x("div",null,[M(i(Is),{items:t.value},null,8,["items"])])]),x("div",kr,[x("div",null,[M(i(Cs),{variant:"subtle",ref_for:!0,class:U("text-xs font-semibold"),theme:"blue",size:"lg"},{default:E(()=>{var r,l;return[ce(G((l=(r=i(n))==null?void 0:r.Ant_Opening_Shift)==null?void 0:l.pos_profile),1)]}),_:1})])])])])}}},Cr={name:"Autocomplete",props:["modelValue","options","placeholder","bodyClasses","multiple","hideSearch"],emits:["update:modelValue","update:query","change"],components:{Popover:Nt,Button:le,FeatherIcon:oe,Combobox:Rn,ComboboxInput:Fn,ComboboxOptions:Tn,ComboboxOption:Bn,ComboboxButton:Al},expose:["togglePopover","closeOptions"],data(){return{query:"",showOptions:!1}},computed:{selectedValue:{get(){var e,n;return this.multiple?Ye((e=this.modelValue)==null?void 0:e[0])==="value"?(n=this.modelValue)==null?void 0:n.map(t=>this.findOption(t)):this.modelValue:this.findOption(this.modelValue)},set(e){this.query="",e&&!this.multiple&&(this.showOptions=!1),this.$emit("update:modelValue",e)}},groups(){var n;return!this.options||this.options.length===0?[]:((n=this.options[0])!=null&&n.group?this.options:[{group:"",items:this.sanitizeOptions(this.options)}]).map((t,o)=>{const a=this.sanitizeOptions(t.items)||[];return{key:o,group:t.group,hideLabel:t.hideLabel||!1,items:this.filterOptions(a)}}).filter(t=>t.items.length>0)},allOptions(){return this.groups.flatMap(e=>e.items)},areAllOptionsSelected(){var e;return this.multiple?this.allOptions.length===((e=this.selectedValue)==null?void 0:e.length):!1}},watch:{query(e){this.$emit("update:query",e)},showOptions(e){e&&he(()=>{var n,t;return(t=(n=this.$refs.searchInput)==null?void 0:n.$el)==null?void 0:t.focus()})}},methods:{togglePopover(e){this.showOptions=e??!this.showOptions},closeOptions(){this.showOptions=!1,this.openPopover=!1,this.togglePopover=!1,this.isComboboxOpen=!1},findOption(e){if(!e)return e;const n=Ye(e)==="value"?e:e.value;return this.allOptions.find(t=>t.value===n)},filterOptions(e){if(!e)return[];if(!this.query)return e;const n=this.query.trim().toLowerCase();return e.filter(t=>{var r,l;const o=(r=t.label)==null?void 0:r.toLowerCase().includes(n),a=(l=t.value)==null?void 0:l.toLowerCase().includes(n),s=t.mobile_no?t.mobile_no.toString().toLowerCase().includes(n):!1;return o||a||s})},displayValue(e){return e?this.multiple?Array.isArray(e)?e.map(n=>this.getLabel(this.findOption(n))).join(", "):"":this.getLabel(this.findOption(e)):""},getLabel(e){return Ye(e)==="value"?e:(e==null?void 0:e.label)||(e==null?void 0:e.value)||"No Name"},getmobile(e){return Ye(e)==="value"?e:(e==null?void 0:e.mobile_no)||""},sanitizeOptions(e){return e?e.map(n=>Ye(n)==="option"?n:{label:n,value:n}):[]},isOptionSelected(e){var t,o;if(!this.selectedValue)return!1;const n=Ye(e)==="value"?e:e.value;return this.multiple?(o=this.selectedValue)==null?void 0:o.find(a=>a&&a.value===n):((t=this.selectedValue)==null?void 0:t.value)===n},selectAll(){this.selectedValue=this.allOptions},clearAll(){this.selectedValue=[]}}};function Ye(e){return typeof e=="object"?"option":"value"}const Or={class:"w-full"},$r=["onClick"],qr={class:"flex items-center overflow-hidden"},Pr={key:0,class:"truncate text-base leading-5"},Mr={key:1,class:"text-base leading-5 text-gray-500"},Ir={key:0,class:"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-white py-1.5"},Er={class:"relative w-full"},Dr={key:0,class:"sticky top-10 truncate bg-white px-2.5 py-1.5 text-sm font-medium text-gray-600"},Ar={class:"flex flex-1 gap-2 overflow-hidden"},Vr={key:0,class:"flex-shrink-0"},Rr={key:1,class:"h-4 w-4"},Fr={class:"flex-1 truncate"},Tr={class:"truncate"},Br={key:0,class:"ml-2 flex-shrink-0"},Nr={key:0,class:"text-sm text-gray-600"},Lr={key:1,class:"rounded-md px-2.5 py-1.5 text-base text-gray-600"},zr={key:0,class:"border-t p-1"},jr={key:0,class:"flex items-center justify-end"};function Ur(e,n,t,o,a,s){const r=_e("ComboboxInput"),l=_e("FeatherIcon"),u=_e("ComboboxOption"),p=_e("ComboboxOptions"),f=_e("Button"),c=_e("Popover"),m=_e("Combobox");return h(),T(m,{modelValue:s.selectedValue,"onUpdate:modelValue":n[3]||(n[3]=k=>s.selectedValue=k),multiple:t.multiple,nullable:""},{default:E(({open:k})=>[M(c,{class:"w-full",show:a.showOptions,"onUpdate:show":n[2]||(n[2]=q=>a.showOptions=q)},{target:E(({open:q,togglePopover:S})=>[z(e.$slots,"target",re(pe({open:q,togglePopover:S})),()=>[x("div",Or,[x("button",{class:U(["flex h-7 w-full items-center justify-between gap-2 rounded px-2 py-1 transition-colors focus:ring-2",{"bg-gray-200":k}]),onClick:()=>S(),style:{"background-color":"#ffffff !important",border:"1px solid #4e60ac !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},[x("div",qr,[z(e.$slots,"prefix"),s.selectedValue?(h(),A("span",Pr,G(s.displayValue(s.selectedValue)),1)):(h(),A("span",Mr,G(t.placeholder||""),1))]),z(e.$slots,"suffix")],10,$r)])])]),body:E(({isOpen:q,togglePopover:S})=>[Ce(x("div",null,[x("div",{class:U(["relative mt-1 rounded-lg text-base shadow-2xl",t.bodyClasses]),style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},[M(p,{class:U(["max-h-[15rem] overflow-y-auto px-1.5 pb-1.5",{"pt-1.5":t.hideSearch}]),static:""},{default:E(()=>[t.hideSearch?H("",!0):(h(),A("div",Ir,[x("div",Er,[M(r,{ref:"searchInput",class:"form-input w-full",type:"text",onChange:n[0]||(n[0]=g=>{a.query=g.target.value}),value:a.query,autocomplete:"off",placeholder:"Search",style:{"background-color":"#ffffff !important",border:"1px solid #4e60ac !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},null,8,["value"]),x("button",{class:"absolute right-0 inline-flex h-7 w-7 items-center justify-center",onClick:n[1]||(n[1]=g=>s.selectedValue=null)},[M(l,{name:"x",class:"w-4"})])])])),(h(!0),A(ne,null,ue(s.groups,g=>Ce((h(),A("div",{key:g.key},[g.group&&!g.hideLabel?(h(),A("div",Dr,G(g.group),1)):H("",!0),(h(!0),A(ne,null,ue(g.items.slice(0,50),(I,P)=>(h(),T(u,{as:"template",key:(I==null?void 0:I.value)||P,value:I},{default:E(({active:y,selected:d})=>[x("li",{class:U(["flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base",{"bg-gray-100":y}])},[x("div",Ar,[e.$slots["item-prefix"]||e.$props.multiple?(h(),A("div",Vr,[z(e.$slots,"item-prefix",Z({ref_for:!0},{active:y,selected:d,option:I}),()=>[s.isOptionSelected(I)?(h(),T(l,{key:0,name:"check",class:"h-4 w-4 text-gray-700"})):(h(),A("div",Rr))])])):H("",!0),x("span",Fr,G(s.getLabel(I)),1),x("span",Tr,G(s.getmobile(I)),1)]),e.$slots["item-suffix"]||I!=null&&I.description?(h(),A("div",Br,[z(e.$slots,"item-suffix",Z({ref_for:!0},{active:y,selected:d,option:I}),()=>[I!=null&&I.description?(h(),A("div",Nr,G(I.description),1)):H("",!0)])])):H("",!0)],2)]),_:2},1032,["value"]))),128))])),[[$e,g.items.length>0]])),128)),s.groups.length==0?(h(),A("li",Lr," No results found ")):H("",!0)]),_:3},8,["class"]),e.$slots.footer||t.multiple?(h(),A("div",zr,[z(e.$slots,"footer",re(pe({togglePopover:S})),()=>[t.multiple?(h(),A("div",jr,[s.areAllOptionsSelected?H("",!0):(h(),T(f,{key:0,label:"Select All",onClick:Me(s.selectAll,["stop"])},null,8,["onClick"])),s.areAllOptionsSelected?(h(),T(f,{key:1,label:"Clear All",onClick:Me(s.clearAll,["stop"])},null,8,["onClick"])):H("",!0)])):H("",!0)])])):H("",!0)],2)],512),[[$e,q]])]),_:2},1032,["show"])]),_:3},8,["modelValue","multiple"])}const zt=it(Cr,[["render",Ur]]);var no={exports:{}};(function(e,n){(function(t,o){e.exports=o()})(Bo,function(){var t=1e3,o=6e4,a=36e5,s="millisecond",r="second",l="minute",u="hour",p="day",f="week",c="month",m="quarter",k="year",q="date",S="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,I=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var D=["th","st","nd","rd"],R=F%100;return"["+F+(D[(R-20)%10]||D[R]||D[0])+"]"}},y=function(F,D,R){var L=String(F);return!L||L.length>=D?F:""+Array(D+1-L.length).join(R)+F},d={s:y,z:function(F){var D=-F.utcOffset(),R=Math.abs(D),L=Math.floor(R/60),N=R%60;return(D<=0?"+":"-")+y(L,2,"0")+":"+y(N,2,"0")},m:function F(D,R){if(D.date()<R.date())return-F(R,D);var L=12*(R.year()-D.year())+(R.month()-D.month()),N=D.clone().add(L,c),Y=R-N<0,X=D.clone().add(L+(Y?-1:1),c);return+(-(L+(R-N)/(Y?N-X:X-N))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:c,y:k,w:f,d:p,D:q,h:u,m:l,s:r,ms:s,Q:m}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},b="en",O={};O[b]=P;var $="$isDayjsObject",w=function(F){return F instanceof j||!(!F||!F[$])},v=function F(D,R,L){var N;if(!D)return b;if(typeof D=="string"){var Y=D.toLowerCase();O[Y]&&(N=Y),R&&(O[Y]=R,N=Y);var X=D.split("-");if(!N&&X.length>1)return F(X[0])}else{var te=D.name;O[te]=D,N=te}return!L&&N&&(b=N),N||!L&&b},_=function(F,D){if(w(F))return F.clone();var R=typeof D=="object"?D:{};return R.date=F,R.args=arguments,new j(R)},C=d;C.l=v,C.i=w,C.w=function(F,D){return _(F,{locale:D.$L,utc:D.$u,x:D.$x,$offset:D.$offset})};var j=function(){function F(R){this.$L=v(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[$]=!0}var D=F.prototype;return D.parse=function(R){this.$d=function(L){var N=L.date,Y=L.utc;if(N===null)return new Date(NaN);if(C.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var X=N.match(g);if(X){var te=X[2]-1||0,ae=(X[7]||"0").substring(0,3);return Y?new Date(Date.UTC(X[1],te,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ae)):new Date(X[1],te,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ae)}}return new Date(N)}(R),this.init()},D.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},D.$utils=function(){return C},D.isValid=function(){return this.$d.toString()!==S},D.isSame=function(R,L){var N=_(R);return this.startOf(L)<=N&&N<=this.endOf(L)},D.isAfter=function(R,L){return _(R)<this.startOf(L)},D.isBefore=function(R,L){return this.endOf(L)<_(R)},D.$g=function(R,L,N){return C.u(R)?this[L]:this.set(N,R)},D.unix=function(){return Math.floor(this.valueOf()/1e3)},D.valueOf=function(){return this.$d.getTime()},D.startOf=function(R,L){var N=this,Y=!!C.u(L)||L,X=C.p(R),te=function(Ne,be){var Re=C.w(N.$u?Date.UTC(N.$y,be,Ne):new Date(N.$y,be,Ne),N);return Y?Re:Re.endOf(p)},ae=function(Ne,be){return C.w(N.toDate()[Ne].apply(N.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(be)),N)},de=this.$W,ve=this.$M,ke=this.$D,We="set"+(this.$u?"UTC":"");switch(X){case k:return Y?te(1,0):te(31,11);case c:return Y?te(1,ve):te(0,ve+1);case f:var Be=this.$locale().weekStart||0,Ze=(de<Be?de+7:de)-Be;return te(Y?ke-Ze:ke+(6-Ze),ve);case p:case q:return ae(We+"Hours",0);case u:return ae(We+"Minutes",1);case l:return ae(We+"Seconds",2);case r:return ae(We+"Milliseconds",3);default:return this.clone()}},D.endOf=function(R){return this.startOf(R,!1)},D.$set=function(R,L){var N,Y=C.p(R),X="set"+(this.$u?"UTC":""),te=(N={},N[p]=X+"Date",N[q]=X+"Date",N[c]=X+"Month",N[k]=X+"FullYear",N[u]=X+"Hours",N[l]=X+"Minutes",N[r]=X+"Seconds",N[s]=X+"Milliseconds",N)[Y],ae=Y===p?this.$D+(L-this.$W):L;if(Y===c||Y===k){var de=this.clone().set(q,1);de.$d[te](ae),de.init(),this.$d=de.set(q,Math.min(this.$D,de.daysInMonth())).$d}else te&&this.$d[te](ae);return this.init(),this},D.set=function(R,L){return this.clone().$set(R,L)},D.get=function(R){return this[C.p(R)]()},D.add=function(R,L){var N,Y=this;R=Number(R);var X=C.p(L),te=function(ve){var ke=_(Y);return C.w(ke.date(ke.date()+Math.round(ve*R)),Y)};if(X===c)return this.set(c,this.$M+R);if(X===k)return this.set(k,this.$y+R);if(X===p)return te(1);if(X===f)return te(7);var ae=(N={},N[l]=o,N[u]=a,N[r]=t,N)[X]||1,de=this.$d.getTime()+R*ae;return C.w(de,this)},D.subtract=function(R,L){return this.add(-1*R,L)},D.format=function(R){var L=this,N=this.$locale();if(!this.isValid())return N.invalidDate||S;var Y=R||"YYYY-MM-DDTHH:mm:ssZ",X=C.z(this),te=this.$H,ae=this.$m,de=this.$M,ve=N.weekdays,ke=N.months,We=N.meridiem,Be=function(be,Re,et,ft){return be&&(be[Re]||be(L,Y))||et[Re].slice(0,ft)},Ze=function(be){return C.s(te%12||12,be,"0")},Ne=We||function(be,Re,et){var ft=be<12?"AM":"PM";return et?ft.toLowerCase():ft};return Y.replace(I,function(be,Re){return Re||function(et){switch(et){case"YY":return String(L.$y).slice(-2);case"YYYY":return C.s(L.$y,4,"0");case"M":return de+1;case"MM":return C.s(de+1,2,"0");case"MMM":return Be(N.monthsShort,de,ke,3);case"MMMM":return Be(ke,de);case"D":return L.$D;case"DD":return C.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return Be(N.weekdaysMin,L.$W,ve,2);case"ddd":return Be(N.weekdaysShort,L.$W,ve,3);case"dddd":return ve[L.$W];case"H":return String(te);case"HH":return C.s(te,2,"0");case"h":return Ze(1);case"hh":return Ze(2);case"a":return Ne(te,ae,!0);case"A":return Ne(te,ae,!1);case"m":return String(ae);case"mm":return C.s(ae,2,"0");case"s":return String(L.$s);case"ss":return C.s(L.$s,2,"0");case"SSS":return C.s(L.$ms,3,"0");case"Z":return X}return null}(be)||X.replace(":","")})},D.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},D.diff=function(R,L,N){var Y,X=this,te=C.p(L),ae=_(R),de=(ae.utcOffset()-this.utcOffset())*o,ve=this-ae,ke=function(){return C.m(X,ae)};switch(te){case k:Y=ke()/12;break;case c:Y=ke();break;case m:Y=ke()/3;break;case f:Y=(ve-de)/6048e5;break;case p:Y=(ve-de)/864e5;break;case u:Y=ve/a;break;case l:Y=ve/o;break;case r:Y=ve/t;break;default:Y=ve}return N?Y:C.a(Y)},D.daysInMonth=function(){return this.endOf(c).$D},D.$locale=function(){return O[this.$L]},D.locale=function(R,L){if(!R)return this.$L;var N=this.clone(),Y=v(R,L,!0);return Y&&(N.$L=Y),N},D.clone=function(){return C.w(this.$d,this)},D.toDate=function(){return new Date(this.valueOf())},D.toJSON=function(){return this.isValid()?this.toISOString():null},D.toISOString=function(){return this.$d.toISOString()},D.toString=function(){return this.$d.toUTCString()},F}(),W=j.prototype;return _.prototype=W,[["$ms",s],["$s",r],["$m",l],["$H",u],["$W",p],["$M",c],["$y",k],["$D",q]].forEach(function(F){W[F[1]]=function(D){return this.$g(D,F[0],F[1])}}),_.extend=function(F,D){return F.$i||(F(D,j,_),F.$i=!0),_},_.locale=v,_.isDayjs=w,_.unix=function(F){return _(1e3*F)},_.en=O[b],_.Ls=O,_.p={},_})})(no);var Kr=no.exports;const Wr=To(Kr),Gr=Wr;function we(e){No.create({position:"top-center",...e})}function Hr(e,n,t,o=null,a=null,s=null){s||(s="bg-yellow-600 text-ink-white rounded-md p-px"),we({title:e,message:sn?sn(n):n,icon:t,iconClasses:s,timeout:5,style:{backgroundColor:o||"white",color:a||"black"}})}function sn(e){let n=document.createElement("div");return n.innerHTML=e,n.textContent||n.innerText||""}const Yr={class:"w-full",style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},oo={__name:"Customer",setup(e){let n=se("base"),t=!1;const o=kt({doctype:"Customer",fields:["name","mobile_no","customer_group","territory","is_internal_customer"],filters:{disabled:!1},pageLength:Number.MAX_VALUE*2,auto:!0,onSuccess(l){t=!1},onError(l){t||(we({title:"error",message:Array.isArray(l==null?void 0:l.messages)?l.messages[0]:(l==null?void 0:l.messages)||l||"An error occurred",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),t=!0)},transform:l=>l.map(u=>({label:u.name,value:u.name,mobile_no:u.mobile_no,name:u.name,customer_group:u.customer_group,territory:u.territory,is_internal_customer:u.is_internal_customer}))}),a=V(()=>o!=null&&o.data?o.data.map(l=>({mobile_no:l.mobile_no||"",label:l.label||"Unnamed",value:l.value,name:l.name,customer_group:l.customer_group,territory:l.territory,is_internal_customer:l.is_internal_customer})):[]),s=async l=>{await o.fetch(),r.value={mobile_no:l.mobile_no||"",label:l.name||"Unnamed",value:l.name,name:l.name,customer_group:l.customer_group,territory:l.territory,is_internal_customer:l.is_internal_customer}};ye(()=>{xe.on("customerCreated",s)}),Oe(()=>{xe.off("customerCreated",s)});const r=V({get:()=>n.customer,set:l=>{n.is_return||(n.customer=l)}});return(l,u)=>(h(),A("div",Yr,[M(zt,{options:a.value,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=p=>r.value=p),placeholder:"Select Customer"},null,8,["options","modelValue"])]))}},Xr={class:"w-full h-[94%] flex p-2 gap-4",style:{"background-color":"#f8f8fc !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},Jr={class:"w-full h-full"},Qr={class:"w-full h-full flex gap-6"},Zr={class:"w-[65%] h-full"},ei={class:"w-full h-full shadow-2xl p-4 rounded",style:{"background-color":"#ffffff !important"}},ti={class:"h-[6%]"},ni={class:"w-full h-[94%] flex flex-col gap-4"},oi={class:"flex justify-evenly text-center rounded-md p-3 h-[6%] items-center",style:{"background-color":"#4e60ac !important",color:"white !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},li={class:"w-[4%]"},ai=["checked"],si={class:"h-[92%] overflow-y-scroll rounded scrollbar-hide flex flex-col gap-3 text-center"},ri={key:0,class:"flex justify-center items-center h-full"},ii={class:"flex justify-evenly items-center rounded text-center p-2.5",style:{"background-color":"#f8f8fc !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},ui={class:"w-[4%]"},di=["checked","onChange"],ci={class:"w-[19%]"},fi={class:"w-[19%]"},pi={class:"w-[19%]"},mi={class:"w-[19%]"},vi={class:"w-[35%] h-full"},gi={class:"w-full h-full shadow-2xl p-4 rounded flex flex-col justify-between",style:{"background-color":"#ffffff !important"}},hi={class:"flex flex-col gap-4"},yi={class:"flex flex-col gap-6 h-fit"},bi={class:"text-right"},_i={__name:"PaymentSelect",setup(e){let n=se("base");const t=B(""),o=B("credit"),a=B(n.customer.name),s=B(!1),r=B([]);let l=!1;const u=kt({doctype:"Sales Invoice",fields:["name","customer","grand_total","outstanding_amount"],filters:{outstanding_amount:[">",0],docstatus:1,is_return:0,customer:a.value},orderBy:"creation asc",transform(d){for(let b of d)b.selected=!1;return d},pageLength:Number.MAX_VALUE*2}),p=V(()=>!u.data||!a.value?[]:t.value?u.data.filter(d=>d.name.toLowerCase().includes(t.value.toLowerCase())||d.customer.toLowerCase().includes(t.value.toLowerCase())):u.data),f=V(()=>{var d;return o.value==="credit"?(d=u.data)==null?void 0:d.some(b=>b.selected):o.value==="advanced"?a.value&&r.value.some(b=>b.amount>0):!1}),c=()=>{let d=u.data.reduce((b,O)=>O.selected?b+O.grand_total:b,0);n.paymentAmount=d},m=d=>{d&&d.stopPropagation&&d.stopPropagation(),s.value=d.target.checked,u.data.forEach(b=>{b.selected=s.value}),c()},k=d=>{s.value&&(s.value=!1),d.selected=!d.selected,s.value=u.data.every(b=>b.selected),c()},q=()=>{n.pos_profile.payments.forEach(d=>{r.value.push({mode_of_payment:d.mode_of_payment,amount:0,base_amount:0})}),n.paid_amount=0,n.diff=0},S=()=>{r.value.forEach(d=>{d.amount=0}),n.paymentAmount=0,n.paid_amount=0,n.diff=0,u.data.forEach(d=>{d.selected=!1}),s.value=!1,u.reload()},g=d=>{r.value.forEach((b,O)=>{O===d?b.amount=n.paymentAmount:b.amount=0}),n.paid_amount=n.paymentAmount};yn(()=>{q()});const I=()=>{const d=new Date,b=d.getFullYear(),O=String(d.getMonth()+1).padStart(2,"0"),$=String(d.getDate()).padStart(2,"0");return`${b}-${O}-${$}`},P=async()=>{if(o.value==="credit"){const d=[...r.value].sort(($,w)=>w.amount-$.amount),b=p.value.filter($=>$.selected);let O=0;for(;O<d.length;){const $=d[O];let w=$.amount;const v=[];for(let _ of b){if(w<=0)break;if(_.outstanding_amount<=0)continue;const C=Math.min(w,_.outstanding_amount);_.outstanding_amount-=C,w-=C,v.push({reference_doctype:"Sales Invoice",reference_name:_.name,allocated_amount:C,outstanding_amount:_.outstanding_amount})}$.amount-w>0&&v.length>0&&await y.fetch({action:"Submit",references:v,mode:$.mode_of_payment,amount:$.amount-w}),O++}S()}else if(r.value.reduce((b,O)=>b+(O.amount||0),0)>0){for(const b of r.value)b.amount>0&&await y.fetch({action:"Submit",references:[],mode:b.mode_of_payment,amount:b.amount||0});S()}else we({title:"Error",message:"Please enter a valid amount for the payment method.",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5})};let y=De({url:"frappe.desk.form.save.savedocs",makeParams(d){return{doc:JSON.stringify({doctype:"Payment Entry",payment_type:"Receive",posting_date:I(),party_type:"Customer",mode_of_payment:d.mode,party:n.customer.name,paid_from_account_currency:n.pos_profile.currency,paid_from:"Debtors - FITPL",paid_to:"MGR Cash - FITPL",paid_to_account_currency:n.pos_profile.currency,paid_amount:d.amount,base_paid_amount:d.amount,received_amount:d.amount,base_received_amount:d.amount,references:d.references.length>0?d.references:[],reference_no:n.Ant_Opening_Shift.name}),action:d.action}},onSuccess(d){l=!1},onError(d){l||(we({title:"error",message:Array.isArray(d==null?void 0:d.messages)?d.messages[0]:(d==null?void 0:d.messages)||"An error occurred",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),l=!0)}});return ee(()=>n.customer,(d,b)=>{b!=null&&d.name!==b.name&&(a.value=d.name,u.filters.customer=d.name,u.fetch())},{immediate:!0}),ee(()=>r.value.map(d=>d.amount),d=>{const b=d.reduce((O,$)=>O+Number($||0),0);n.diff=Number(n.paymentAmount||0)-b},{immediate:!0}),(d,b)=>{const O=_e("Button");return h(),A("div",Xr,[x("div",Jr,[x("div",Qr,[x("div",Zr,[x("div",ei,[x("div",ti,[M(oo)]),x("div",ni,[M(i(yt),{type:"text",modelValue:t.value,"onUpdate:modelValue":b[0]||(b[0]=$=>t.value=$),placeholder:"Search"},{prefix:E(()=>[M(i(oe),{class:"w-4",name:"search"})]),_:1},8,["modelValue"]),x("div",oi,[x("div",li,[x("input",{name:"name",id:"id",type:"checkbox",checked:s.value,class:"text-black rounded-sm focus:outline-none focus:ring-0 focus:border-transparent",onChange:m},null,40,ai)]),b[4]||(b[4]=x("p",{class:"w-[19%]"},"Name",-1)),b[5]||(b[5]=x("p",{class:"w-[19%]"},"Customer",-1)),b[6]||(b[6]=x("p",{class:"w-[19%]"},"Amount",-1)),b[7]||(b[7]=x("p",{class:"w-[19%]"},"Outstanding",-1))]),x("div",si,[p.value.length===0?(h(),A("div",ri,[...b[8]||(b[8]=[x("p",{class:"text-gray-500"},"No invoices found",-1)])])):H("",!0),(h(!0),A(ne,null,ue(p.value,$=>(h(),A("div",{key:$.name,class:"w-full"},[x("div",ii,[x("div",ui,[x("input",{name:"name",id:"id",type:"checkbox",checked:$.selected,class:"text-black rounded-sm focus:outline-none focus:ring-0 focus:border-transparent",onChange:w=>k($)},null,40,di)]),x("p",ci,G($.name),1),x("p",fi,G($.customer),1),x("p",pi,G($.grand_total),1),x("p",mi,G($.outstanding_amount),1)])]))),128))])])])]),x("div",vi,[x("div",gi,[x("div",hi,[x("div",yi,[b[9]||(b[9]=x("div",{class:"flex justify-evenly rounded-md p-3",style:{"background-color":"#4e60ac !important",color:"white !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},[x("p",null,"Payment Total")],-1)),M(i(ar),{class:"flex",buttons:[{label:"Credit",value:"credit"},{label:"Advanced",value:"advanced"}],modelValue:o.value,"onUpdate:modelValue":b[1]||(b[1]=$=>o.value=$)},null,8,["modelValue"]),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0",disabled:!1,label:"Credit To Redeem",modelValue:i(n).paymentAmount,"onUpdate:modelValue":b[2]||(b[2]=$=>i(n).paymentAmount=$),onChange:c},null,8,["modelValue"])]),x("div",null,[b[10]||(b[10]=x("p",{class:"text-2xl font-bold"},"Payment Method",-1)),(h(!0),A(ne,null,ue(r.value,($,w)=>(h(),A("div",{class:"grid grid-cols-2 gap-4 p-2 items-center",key:w},[M(i(Q),{type:"number",size:"sm",variant:"subtle",placeholder:"0",disabled:!1,label:`${$.mode_of_payment}:`,modelValue:$.amount,"onUpdate:modelValue":v=>$.amount=v},null,8,["label","modelValue","onUpdate:modelValue"]),M(O,{class:"w-full h-full",variant:"solid",theme:"gray",size:"lg",label:"Button",loading:!1,disabled:!1,onClick:v=>g(w),style:{"background-color":"#4e60ac !important","border-color":"#4e60ac !important",color:"white !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},{default:E(()=>[ce(G($.mode_of_payment),1)]),_:2},1032,["onClick"])]))),128)),M(i(Q),{type:"number",size:"sm",variant:"subtle",placeholder:"0",disabled:!0,modelValue:i(n).diff,"onUpdate:modelValue":b[3]||(b[3]=$=>i(n).diff=$),label:"Difference:"},null,8,["modelValue"])])]),x("div",bi,[M(O,{class:"w-full p-2 h-full",variant:"solid",theme:"gray",size:"lg",label:"Button",loading:!1,onClick:P,disabled:!f.value,style:{"background-color":"#4e60ac !important","border-color":"#4e60ac !important",color:"white !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},{default:E(()=>[...b[11]||(b[11]=[ce(" Submit ",-1)])]),_:1},8,["disabled"])])])])])])])}}},xi={class:"md:w-1/2 w-full shadow-2xl pt-2 px-2 rounded"},wi={class:"mt-4 h-[calc(100%-40px)] overflow-y-auto scrollbar-hide"},ki={key:0,class:"text-center text-gray-500"},Si={key:1,class:"text-center text-gray-500"},Ci={key:2,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},Oi=["onClick"],$i={class:"h-28 w-full bg-gray-100 flex items-center justify-center"},qi=["src","alt"],Pi={class:"p-2 flex-grow flex flex-col justify-between"},Mi=["title"],Ii={class:"text-gray-600 text-xs"},Ei={class:"text-gray-500 text-xs"},Di={__name:"ItemSelector",setup(e){const n=B([]),t=B(""),o=se("base"),a=()=>{var l;(l=o.pos_profile)!=null&&l.name&&s.fetch()},s=De({url:"ant_pos.ant_pos.api.item.items",method:"GET",auto:!1,makeParams(){var l;return{pos_profile:o.pos_profile.name,search_value:t.value,customer:((l=o.customer)==null?void 0:l.name)||""}},onSuccess(l){n.value=l||[]},onError(l){console.error("Failed to fetch items:",l),we({title:"Error",message:"Failed to load items"})}});ye(()=>{var l;(l=o.pos_profile)!=null&&l.name&&a()}),ee(()=>{var l;return(l=o.pos_profile)==null?void 0:l.name},l=>{l&&a()},{immediate:!0});const r=l=>{var p,f;if(!((p=o.customer)!=null&&p.name)){we({title:"Warning",message:"Please select a customer first"});return}if(!((f=o.employee)!=null&&f.name)){we({title:"Warning",message:"Please select an employee"});return}const u=o.items.find(c=>c.item_code===l.item_code&&!c.is_return);if(u)u.qty+=1,u.amount=u.rate*u.qty,we({title:"Info",message:`Increased quantity for ${l.item_name}`});else{const c={item_code:l.item_code,item_name:l.item_name,rate:l.rate,image:l.image,stock_uom:l.stock_uom,uom:l.stock_uom,qty:1,amount:l.rate*1,doctype:"Sales Invoice Item",parenttype:"Sales Invoice",custom_id:`cart-item-${Date.now()}`};o.items.push(c),we({title:"Success",message:`${l.item_name} added to cart`})}};return(l,u)=>(h(),A("div",xi,[M(i(Q),{type:"text",modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=p=>t.value=p),placeholder:"Search Items",size:"sm",variant:"subtle",onInput:a,disabled:i(o).is_return},{prefix:E(()=>[M(i(oe),{class:"w-4",name:"search"})]),_:1},8,["modelValue","disabled"]),x("div",wi,[!n.value.length&&i(s).loading?(h(),A("div",ki," Loading items... ")):n.value.length?(h(),A("div",Ci,[(h(!0),A(ne,null,ue(n.value,p=>(h(),A("div",{key:p.item_code,onClick:f=>r(p),class:"border rounded-lg cursor-pointer hover:shadow-lg transition-shadow flex flex-col overflow-hidden bg-white"},[x("div",$i,[p.image?(h(),A("img",{key:0,src:p.image,alt:p.item_name,class:"h-full w-full object-cover"},null,8,qi)):(h(),T(i(oe),{key:1,name:"image",class:"text-gray-400 w-10 h-10"}))]),x("div",Pi,[x("div",{class:"font-semibold text-sm truncate",title:p.item_name},G(p.item_name),9,Mi),x("div",null,[x("div",Ii,"Price: "+G(p.rate)+" "+G(i(o).pos_profile.currency),1),x("div",Ei,"In Stock: "+G(p.stock_qty),1)])])],8,Oi))),128))])):(h(),A("div",Si," No items found. Try searching again. "))])]))}},Ai={class:"md:w-1/2 w-full shadow-2xl pt-2 px-2 rounded"},Vi={class:"h-[85%] w-full"},Ri={class:"grid grid-cols-2 gap-4 p-2"},Fi={class:"p-2 flex items-center gap-2"},Ti={class:"flex items-center gap-2"},Bi={class:"grid grid-cols-2 gap-4 p-2"},Ni={class:"grid grid-cols-3 gap-4 p-2"},Li={class:"h-[14%] w-full mt-2 flex flex-col gap-2"},zi={class:"h-1/2"},ji={class:"flex gap-8 h-full mb-3 justify-center items-center"},Ui={class:"h-1/2"},Ki={__name:"Invoice",setup(e){let n=se("base");const t=se("emitter"),o=B(0),a=B(0);ee(o,S=>{const g=Number(S)||0;n.invoice.grand_total=a.value+g,n.invoice.custom_tips_amount=g});const s=B(!1),r=B({});ee(s,S=>{S?(n.invoice.net_total=Number(r.value.net_total*.95).toFixed(2),n.invoice.total=Number(r.value.total*.95).toFixed(2),n.invoice.grand_total=Number(r.value.grand_total*.95).toFixed(2)):(n.invoice.net_total=Number(r.value.net_total).toFixed(2),n.invoice.total=Number(r.value.total).toFixed(2),n.invoice.grand_total=Number(r.value.grand_total).toFixed(2)),a.value=Number(n.invoice.grand_total)});const l=()=>{const S=Number(n.invoice.grand_total)||0;n.invoice.paid_amount=S,n.pos_profile.payments.forEach(g=>{!n.invoice.payments.some(I=>I.mode_of_payment===g.mode_of_payment)&&(n.is_return&&g.allow_in_returns||!n.is_return)&&n.invoice.payments.push({mode_of_payment:g.mode_of_payment,amount:Number(g.default)?S:0,base_amount:Number(g.default)?S:0})})},u=S=>{const g=Number(n.invoice.grand_total);n.invoice.payments.forEach((I,P)=>{I.amount=P===S?g:0}),n.invoice.paid_amount=g},p=V({get:()=>n.invoice.delivery_date||_n().format("YYYY-MM-DD"),set:S=>{n.invoice.delivery_date=S}});ye(()=>{r.value={net_total:n.invoice.net_total,total:n.invoice.total,grand_total:n.invoice.grand_total},a.value=Number(n.invoice.grand_total),l()});const f=De({url:"ant_pos.ant_pos.utils.get_domain_url"}),c=De({url:"frappe.desk.form.save.savedocs",makeParams(S){return{doc:JSON.stringify({...n.invoice,docstatus:1}),action:"Submit"}},async onSuccess(S){we({title:"Success",message:"Invoice Submitted Successfully"}),c.params.print&&(await f.fetch(),window.open(`${f.data}/printview?doctype=Sales+Invoice&name=${S.docs[0].name}&format=${encodeURIComponent(n.pos_profile.print_format)}&trigger_print=1`,"_blank")),k()},onError(S){var g;we({title:"Error",message:((g=S.messages)==null?void 0:g[0])||"An error occurred"})}}),m=(S=null)=>{const g=S?{print:!0}:{};c.fetch(g)},k=()=>{n.invoice={},n.items=[],n.customer={},o.value=0,t.emit("updatePage","Pos")},q=()=>{let S=0;n.invoice.payments.forEach(g=>{S+=Number(g.amount)||0}),n.invoice.paid_amount=S};return(S,g)=>{var I,P;return h(),A("div",Ai,[x("div",Vi,[x("div",Ri,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Amount Paid",value:Number(i(n).invoice.paid_amount).toFixed(2),modelValue:i(n).invoice.paid_amount,"onUpdate:modelValue":g[0]||(g[0]=y=>i(n).invoice.paid_amount=y)},null,8,["value","modelValue"]),i(n).invoice.paid_amount>i(n).invoice.grand_total?(h(),T(i(Q),{key:0,type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Paid Change",value:Number(i(n).invoice.paid_amount-i(n).invoice.grand_total).toFixed(2)},null,8,["value"])):H("",!0)]),(h(!0),A(ne,null,ue((P=(I=i(n))==null?void 0:I.pos_profile)==null?void 0:P.payments,(y,d)=>{var b,O,$,w,v,_,C,j;return h(),A("div",{class:"grid grid-cols-2 gap-4 p-2 items-center",key:d},[(O=(b=i(n).invoice)==null?void 0:b.payments)!=null&&O[d]&&((w=($=i(n).invoice)==null?void 0:$.payments)==null?void 0:w[d].amount)!==void 0?(h(),T(i(Q),{key:0,type:"number",size:"sm",variant:"subtle",placeholder:"0.00",disabled:!1,label:y.mode_of_payment,value:Number(i(n).invoice.payments[d].amount).toFixed(2),modelValue:i(n).invoice.payments[d].amount,"onUpdate:modelValue":W=>i(n).invoice.payments[d].amount=W,onChange:g[1]||(g[1]=W=>q())},null,8,["label","value","modelValue","onUpdate:modelValue"])):H("",!0),(_=(v=i(n).invoice)==null?void 0:v.payments)!=null&&_[d]&&((j=(C=i(n).invoice)==null?void 0:C.payments)==null?void 0:j[d].amount)!==void 0?(h(),T(i(le),{key:1,class:"w-full h-full",variant:"solid",size:"lg",label:"Button",loading:!1,disabled:!1,onClick:W=>u(d),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:E(()=>[ce(G(y.mode_of_payment),1)]),_:2},1032,["onClick"])):H("",!0)])}),128)),x("div",Fi,[x("label",Ti,[Ce(x("input",{type:"checkbox","onUpdate:modelValue":g[2]||(g[2]=y=>s.value=y),class:"toggle-checkbox"},null,512),[[Lo,s.value]]),g[12]||(g[12]=x("span",null,"Exclusive VAT (-5%)",-1))])]),x("div",Bi,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Net Total",value:Number(i(n).invoice.net_total).toFixed(2),modelValue:i(n).invoice.net_total,"onUpdate:modelValue":g[3]||(g[3]=y=>i(n).invoice.net_total=y)},null,8,["value","modelValue"]),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total Amount",value:Number(i(n).invoice.total).toFixed(2),modelValue:i(n).invoice.total,"onUpdate:modelValue":g[4]||(g[4]=y=>i(n).invoice.total=y)},null,8,["value","modelValue"]),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Discount Amount",value:Number(i(n).invoice.discount_amount).toFixed(2),modelValue:i(n).invoice.discount_amount,"onUpdate:modelValue":g[5]||(g[5]=y=>i(n).invoice.discount_amount=y)},null,8,["value","modelValue"]),M(i(Q),{type:"number",size:"sm",variant:"subtle",placeholder:"0.00",disabled:!1,label:"Tips (AED)",modelValue:o.value,"onUpdate:modelValue":g[6]||(g[6]=y=>o.value=y)},null,8,["modelValue"]),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Grand Total",value:Number(i(n).invoice.grand_total).toFixed(2),modelValue:i(n).invoice.grand_total,"onUpdate:modelValue":g[7]||(g[7]=y=>i(n).invoice.grand_total=y)},null,8,["value","modelValue"])]),(h(!0),A(ne,null,ue(i(n).invoice.advances,(y,d)=>(h(),A("div",{key:d},[x("div",Ni,[M(i(Q),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Credit Origin",modelValue:y.reference_name,"onUpdate:modelValue":b=>y.reference_name=b},null,8,["modelValue","onUpdate:modelValue"]),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total Credit",value:Number(y.advance_amount).toFixed(2),modelValue:y.advance_amount,"onUpdate:modelValue":b=>y.advance_amount=b},null,8,["value","modelValue","onUpdate:modelValue"]),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!1,label:"Credit To Redeem",value:Number(y.allocated_amount).toFixed(2),modelValue:y.allocated_amount,"onUpdate:modelValue":b=>y.allocated_amount=b,onChange:g[8]||(g[8]=b=>q())},null,8,["value","modelValue","onUpdate:modelValue"])])]))),128)),x("div",null,[i(n).pos_profile.custom_set_sales_order?(h(),T(i(qt),{key:0,size:"md",modelValue:p.value,"onUpdate:modelValue":g[9]||(g[9]=y=>p.value=y),variant:"subtle",placeholder:"Delivery Date",disabled:!1},null,8,["modelValue"])):H("",!0)])]),x("div",Li,[x("div",zi,[x("div",ji,[M(i(le),{class:"w-1/2 h-[90%]",variant:"solid",size:"lg",label:"Submit",loading:i(c).loading,disabled:i(c).loading,onClick:g[10]||(g[10]=y=>m()),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:E(()=>[...g[13]||(g[13]=[ce(" Submit ",-1)])]),_:1},8,["loading","disabled"]),M(i(le),{class:"w-1/2 h-[90%]",variant:"solid",size:"lg",label:"Submit & Print",loading:i(c).loading,disabled:i(c).loading,onClick:g[11]||(g[11]=y=>m("print")),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:E(()=>[...g[14]||(g[14]=[ce(" Submit & Print ",-1)])]),_:1},8,["loading","disabled"])])]),x("div",Ui,[M(i(le),{class:"w-full h-[90%]",variant:"ghost",size:"lg",label:"Cancel",loading:!1,disabled:!1,onClick:k,theme:"red"},{default:E(()=>[...g[15]||(g[15]=[ce(" Cancel ",-1)])]),_:1})])])])}}},Wi={class:"w-full",style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},Gi={__name:"Employee",setup(e){let n=se("base"),t=!1;const o=kt({doctype:"Employee",fields:["name","employee_name","department","designation","status"],filters:{status:"Active"},pageLength:Number.MAX_VALUE*2,auto:!0,onSuccess(l){t=!1},onError(l){t||(we({title:"error",message:Array.isArray(l==null?void 0:l.messages)?l.messages[0]:(l==null?void 0:l.messages)||l||"An error occurred",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),t=!0)},transform:l=>l.map(u=>({label:u.employee_name||u.name,value:u.name,name:u.name,employee_name:u.employee_name,department:u.department,designation:u.designation,status:u.status}))}),a=V(()=>o!=null&&o.data?o.data.map(l=>({label:l.label||"Unnamed",value:l.value,name:l.name,employee_name:l.employee_name,department:l.department,designation:l.designation,status:l.status})):[]),s=async l=>{await o.fetch(),r.value={label:l.employee_name||l.name||"Unnamed",value:l.name,name:l.name,employee_name:l.employee_name,department:l.department,designation:l.designation,status:l.status}};ye(()=>{xe.on("employeeCreated",s)}),Oe(()=>{xe.off("employeeCreated",s)});const r=V({get:()=>n.employee,set:l=>{n.is_return||(n.employee=l)}});return(l,u)=>(h(),A("div",Wi,[M(zt,{options:a.value,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=p=>r.value=p),placeholder:"Select Employee"},null,8,["options","modelValue"])]))}},Hi={class:"w-[18.4%]"},Yi={class:"w-[18.4%]"},Xi={class:"w-[18.4%]"},Ji={class:"w-[18.4%]"},Qi={class:"w-[18.4%]"},Zi={class:"w-[8%] flex items-center justify-center"},eu={key:0,class:"flex flex-col w-full py-1 px-3 rounded-b-2xl justify-between",style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},tu={class:"grid grid-cols-3 w-full gap-4"},nu={class:"p-2"},ou={class:"p-2"},lu={class:"p-2"},au={class:"p-2"},su={class:"p-2"},ru={class:"p-2"},iu={class:"p-2"},uu={class:"p-2"},du={class:"p-2"},cu={class:"p-2"},fu={class:"p-2"},pu={class:"p-2"},mu={class:"flex items-center"},vu={class:"w-full"},gu={class:"p-2"},hu={class:"grid grid-cols-2 w-full gap-4"},yu={class:"p-2"},bu={class:"p-2"},_u={class:"p-2 flex gap-4"},xu={class:"w-full"},wu={__name:"Item",props:{items:Object,index:Number},setup(e){const n=se("base"),t=e,o=De({url:"ant_pos.ant_pos.api.item.get_batches_list",method:"POST",auto:!1,makeParams(y){return{...y}}}),a=kt({url:"frappe.client.get_list",auto:!1,doctype:"Serial No",fields:["name as serial_no","batch_no"],filters:{warehouse:n.pos_profile.warehouse,item_code:t.items.item_code},pageLength:Number.MAX_VALUE*2,onSuccess(y){t.items.serial_no_options=y.map(d=>({label:d.serial_no,value:d.serial_no,batch_no:d.batch_no}))}}),s=()=>{let y=[];const{has_batch_no:d,batch_no:b}=t.items;return n.is_return?(y=t.items._serial||[],y.map(O=>({label:O,value:O}))):(y=a.data||[],t.items.batch_no!=null&&!n.is_return&&(y=y.filter(O=>O.batch_no===t.items.batch_no)),y.map(O=>({label:O.serial_no,value:O.serial_no})))},r=()=>n.is_return?[{label:t.items.batch_no,value:t.items.batch_no}]:o.data.map(y=>({label:y.batch_id,value:y.batch_id})),l=V(()=>{var y,d;return((d=(y=t.items)==null?void 0:y.serial_no_options)==null?void 0:d.length)||0});ee(()=>t.items.selected_batch_no,(y,d)=>{if(y&&y.value!==(d==null?void 0:d.value)||!d){let b=u();const O=s();!b&&O.length>0&&(t.items.selected_serial_no=[],t.items.serial_no_options=t.items.serial_no_options.filter(w=>w.batch_no==y).map(w=>({label:w.serial_no,value:w.serial_no})),m());const $=o.data.find(w=>w.batch_no===y);t.items.stock_qty=$?$.stock_qty:0,t.items.expiry_date=$?$.expiry_date:null,t.items.batch_no=typeof y=="object"?y==null?void 0:y.value:y,xe.emit("calctotal")}});const u=()=>{if(!n.pos_profile.custom_new_items_on_new_line){let y=!1;for(let d=0;d<n.items.length;d++)if(t.index!==d&&n.items[t.index].item_code===n.items[d].item_code&&(n.items[t.index].has_batch_no&&n.items[t.index].batch_no===n.items[d].batch_no&&!n.items[t.index].is_return||!n.items[t.index].has_batch_no))return n.items.selected_serial_no=p(n.items[t.index].selected_serial_no,n.items[d].selected_serial_no),n.items.splice(t.index,1),y=!0,y;return y}},p=(y,d)=>{const b=y.map(w=>w.value),O=d.map(w=>w.value);return[...new Set([...b,...O])].map(w=>({label:w,value:w}))},f=()=>{t.items.amount=Math.abs(t.items.qty)*t.items.rate},c=()=>{if(t.items.serial_no_options){const y=s();y.length>0&&t.items.qty>y.length&&(Hr("warning","Qty is greater than available serial no","alert-circle","#ffcc00","#ffffff"),t.items.qty=n.is_return?-Math.abs(y.length):y.length)}},m=()=>{t.items.serial_no=t.items.selected_serial_no.map(y=>y.value).join(`
`)};ee(()=>t.items.selected_serial_no,(y,d)=>{(t.items.serial_no_options&&y!==d||!d)&&(m(),k(t.items.qty))}),ee(()=>t.items.price_list_rate,(y,d)=>{t.items.price_list_rate&&y!==d&&(t.items.rate=t.items.price_list_rate)}),ee(()=>t.items.qty,(y,d)=>{y!==d&&(s().length>0&&(q(y),c(),m()),xe.emit("calctotal"))});const k=()=>{if(s().length<0)return;const d=t.items.qty,b=t.items.selected_serial_no.length;d!=b&&(t.items.qty=n.is_return?-Math.abs(b):b)},q=y=>{const d=s();if(d.length<0)return;const b=t.items.selected_serial_no,O=b.length;if(Math.abs(O)!==Math.abs(y)){if(Math.abs(O)>Math.abs(y))t.items.selected_serial_no=b.slice(0,y);else if(Math.abs(O)<Math.abs(y)){const $=new Set(b.map(_=>_.value)),w=y-O,v=[];for(let _=0;_<d.length&&v.length<w;_++){const C=d[_];$.has(C.value)||v.push(C)}t.items.selected_serial_no=JSON.parse(JSON.stringify([...b,...v]))}}};ee(()=>t.items.discount_percentage,(y,d)=>{(y!==d||!d)&&S()});const S=debounce(()=>{t.items.rate=g(t.items),t.items.amount=t.items.rate*Math.abs(t.items.qty),t.items.discount_amount=(t.items.price_list_rate-t.items.rate)*Math.abs(t.items.qty),xe.emit("calctotal")},300);n.items.forEach(y=>{ee(()=>y,()=>{f()},{deep:!0})});const g=y=>{const d=y.price_list_rate||y.rate,b=y.discount_percentage||0;return d-d*(b/100)},I=V({get(){if(!n.invoice.delivery_date){const y=Gr().format("YYYY-MM-DD");n.invoice.delivery_date=y}return n.invoice.delivery_date},set(y){n.invoice.delivery_date=y}});ee(()=>t.items.rate,(y,d)=>{y!==d&&P()});const P=()=>{t.items.rate=g(t.items),f()};return ye(async()=>{P(),c(t.items.qty),t.items.selected_serial_no&&q(t.items.selected_serial_no.length),t.items.selected_serial_no&&m(),await o.fetch({item_code:t.items.item_code,warehouse:n.pos_profile.warehouse}),await a.fetch(),xe.emit("calctotal")}),Oe(()=>{f(),xe.emit("calctotal")}),(y,d)=>{const b=zt;return h(),A("div",null,[x("div",{class:U(["flex w-full py-2 px-3 justify-between hover:cursor-pointer text-center",e.items.custom_open?"rounded-t-2xl":"rounded"]),style:{"background-color":"#f8f8fc !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},[x("div",{class:"flex items-center h-[100%] rounded",onClick:d[0]||(d[0]=O=>e.items.custom_open=!e.items.custom_open),style:{"background-color":"#7c8bca !important"}},[M(i(oe),{name:e.items.custom_open?"chevron-up":"chevron-down",class:"w-5 h-5"},null,8,["name"])]),x("div",Hi,G(e.items.item_code),1),x("div",Yi,G(e.items.qty),1),x("div",Xi,G(e.items.uom),1),x("div",Ji,G(Number(e.items.rate).toFixed(2)),1),x("div",Qi,G(e.items.amount?e.items.amount.toFixed(2):"0.00"),1),x("div",Zi,[M(i(oe),{name:"trash-2",class:"w-5 h-5 rounded hover:bg-red-400 fill-red-700",onClick:d[1]||(d[1]=O=>i(n).items.splice(e.index,1))})])],2),e.items.custom_open?(h(),A("div",eu,[x("div",tu,[x("div",nu,[M(i(Q),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"items Code",disabled:!0,label:"items Code",modelValue:e.items.item_code,"onUpdate:modelValue":d[2]||(d[2]=O=>e.items.item_code=O)},null,8,["modelValue"])]),x("div",ou,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0",disabled:!1,label:"QTY",modelValue:e.items.qty,"onUpdate:modelValue":d[3]||(d[3]=O=>e.items.qty=O)},null,8,["modelValue"])]),x("div",lu,[M(i(Q),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"UOM",disabled:!0,label:"UOM",modelValue:e.items.uom,"onUpdate:modelValue":d[4]||(d[4]=O=>e.items.uom=O)},null,8,["modelValue"])]),x("div",au,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",disabled:!i(n).pos_profile.allow_rate_change,label:"Rate",placeholder:"0",value:Number(e.items.rate).toFixed(2),modelValue:e.items.rate,"onUpdate:modelValue":d[5]||(d[5]=O=>e.items.rate=O)},null,8,["disabled","value","modelValue"])]),x("div",su,[M(i(Q),{type:"text",ref_for:!0,size:"sm",variant:"subtle",disabled:!0,label:"Price List Rate",placeholder:"0",value:Number(e.items.price_list_rate).toFixed(2),modelValue:e.items.price_list_rate,"onUpdate:modelValue":d[6]||(d[6]=O=>e.items.price_list_rate=O)},null,8,["value","modelValue"])]),x("div",ru,[M(i(Q),{type:"text",ref_for:!0,size:"sm",variant:"subtle",disabled:!0,label:"Net Rate",placeholder:"0",value:Number(e.items.net_rate).toFixed(2),modelValue:e.items.net_rate,"onUpdate:modelValue":d[7]||(d[7]=O=>e.items.net_rate=O)},null,8,["value","modelValue"])]),x("div",iu,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Discount Percentage",disabled:!1,label:"Discount Percentage",modelValue:e.items.discount_percentage,"onUpdate:modelValue":d[8]||(d[8]=O=>e.items.discount_percentage=O)},null,8,["modelValue"])]),x("div",uu,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",disabled:!0,label:"Discount Amount",placeholder:"0",value:Number(e.items.discount_amount).toFixed(2),modelValue:e.items.discount_amount,"onUpdate:modelValue":d[9]||(d[9]=O=>e.items.discount_amount=O)},null,8,["value","modelValue"])]),x("div",du,[M(i(Q),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Group",disabled:!0,label:"Group",modelValue:e.items.item_group,"onUpdate:modelValue":d[10]||(d[10]=O=>e.items.item_group=O)},null,8,["modelValue"])]),x("div",cu,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Stock Qty",disabled:!0,label:"Stock Qty",modelValue:e.items.stock_qty,"onUpdate:modelValue":d[11]||(d[11]=O=>e.items.stock_qty=O)},null,8,["modelValue"])]),x("div",fu,[M(i(Q),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Stock UOM",disabled:!0,label:"Stock UOM",modelValue:e.items.stock_uom,"onUpdate:modelValue":d[12]||(d[12]=O=>e.items.stock_uom=O)},null,8,["modelValue"])]),x("div",pu,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Serial No Qty",disabled:!0,label:"Serial No Qty",modelValue:l.value,"onUpdate:modelValue":d[13]||(d[13]=O=>l.value=O)},null,8,["modelValue"])]),x("div",mu,[i(n).pos_profile.custom_set_sales_order?(h(),T(i(qt),{key:0,size:"sm",variant:"subtle",label:"Delivery Date",placeholder:"Delivery Date",disabled:!1,modelValue:I.value,"onUpdate:modelValue":d[14]||(d[14]=O=>I.value=O),unique:!0},null,8,["modelValue"])):H("",!0)])]),x("div",vu,[x("div",gu,[M(b,{options:s(),placeholder:"Serial No",multiple:!0,modelValue:e.items.selected_serial_no,"onUpdate:modelValue":d[15]||(d[15]=O=>e.items.selected_serial_no=O)},null,8,["options","modelValue"])]),x("div",hu,[x("div",yu,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Batch No Available QTY",disabled:!1,label:"Batch No Available QTY",modelValue:e.items.stock_qty,"onUpdate:modelValue":d[16]||(d[16]=O=>e.items.stock_qty=O)},null,8,["modelValue"])]),x("div",bu,[M(i(qt),{size:"sm",variant:"subtle",label:"Expiry Date",placeholder:"Expiry Date",disabled:!1,modelValue:e.items.expiry_date,"onUpdate:modelValue":d[17]||(d[17]=O=>e.items.expiry_date=O)},null,8,["modelValue"])])]),x("div",null,[x("div",_u,[x("div",xu,[M(b,{type:"select",options:r(),size:"sm",variant:"subtle",placeholder:"Batch No",disabled:i(n).is_return,label:"Batch No",modelValue:e.items.selected_batch_no,"onUpdate:modelValue":d[18]||(d[18]=O=>e.items.selected_batch_no=O),hideSearch:!0},null,8,["options","disabled","modelValue"])])])])])])):H("",!0)])}}},ku={class:"md:w-1/2 w-full h-full flex flex-col gap-2",style:{color:"#82868f","font-family":"'futura-pt', sans-serif","font-size":"17px"}},Su={class:"h-[80%] w-full rounded-lg shadow-2xl px-2 pt-2",style:{"background-color":"#ffffff"}},Cu={class:"flex gap-4 h-[5%]"},Ou={class:"py-2 h-[93%] overflow-y-scroll scrollbar-hide flex flex-col items-center w-full"},$u={key:0,class:"text-center py-4"},qu={class:"h-[20%] flex shadow-2xl rounded",style:{"background-color":"#ffffff"}},Pu={class:"w-[60%] grid grid-cols-2 gap-4 p-4 h-full"},Mu={class:"w-[40%] h-full grid grid-cols-2 gap-2 p-4"},Iu={__name:"ItemDetail",setup(e){const{loadComponent:n}=se("dynamicComponent"),t=De({url:"ant_pos.ant_pos.utils.get_domain_url"});let o=se("base"),a="";const s=se("emitter");ee(()=>o.items,c=>{console.log("Cart items changed:",c),console.log("Number of items:",(c==null?void 0:c.length)||0)},{deep:!0});let r=!1,l=De({url:"frappe.desk.form.save.savedocs",makeParams(c){return o.items.forEach(m=>{m.has_serial_no&&m.selected_serial_no.length!==m.qty&&(we({title:"error",message:"Serial number is required",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),r=!0)}),a=c.status,{doc:JSON.stringify({...o==null?void 0:o.invoice,doctype:"Sales Invoice",is_pos:o.invoice.is_return?o.invoice.is_pos:1,pos_profile:o.pos_profile.name,company:o.pos_profile.company,conversion_rate:1,selling_price_list:o.pos_profile.selling_price_list,items:o.items,customer:o.customer.name,update_stock:1,additional_discount_percentage:Number(o.additional_discount_percentage)||0,discount_amount:Number(o.discount_amount)||0,base_total:o.invoice.base_total&&o.invoice.base_total,custom_ant_opening:o.Ant_Opening_Shift.name,apply_discount_on:o.pos_profile.apply_discount_on,payments:u()}),action:c.action}},async onSuccess(c){if(r=!1,a=="pay"){o.invoice=c.docs[0];return}else a=="print"&&(await t.fetch(),window.open(`${t.data}/printview?doctype=Sales+Invoice&name=${c.docs[0].name}&format=${encodeURIComponent(o.pos_profile.print_format)}&trigger_print=1&no_letterhead=${o.pos_profile.letter_head?1:0}
                    &letterhead=${o.pos_profile.letter_head}`,"_blank"));f()},onError(c){r||(we({title:"error",message:Array.isArray(c==null?void 0:c.messages)?c.messages[0]:(c==null?void 0:c.messages)||c||"An error occurred",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),r=!0)}});const u=()=>{const c=o.is_return?-Math.abs(o.invoice.rounded_total):o.invoice.rounded_total;return(o.invoice.payments||[]).map(k=>{const q=k.default?c:0;return{...k,amount:q,base_amount:q}})},p=()=>{var m;let c=o.pos_profile.apply_discount_on==="grand_total"?o.invoice.grand_total:o.invoice.base_net_total+((m=o.invoice)==null?void 0:m.discount_amount);o.pos_profile.custom_use_percentage_discount?o.discount_amount=c*100/o.additional_discount_percentage:o.additional_discount_percentage=o.discount_amount*(100/c)};ee(()=>o.discount_amount,(c,m)=>{!o.pos_profile.custom_use_percentage_discount&&c!==m&&(p(),s.emit("calctotal"))},{flush:"post"}),ee(()=>o.additional_discount_percentage,(c,m)=>{o.pos_profile.custom_use_percentage_discount&&c!==m&&(p(),s.emit("calctotal"))},{flush:"post"});const f=()=>{o.invoice={},o.items=[],o.customer={},o.discount_amount=0};return(c,m)=>(h(),A("div",ku,[x("div",Su,[x("div",Cu,[M(oo),M(Gi),M(i(le),{class:"w-1/12",onClick:m[1]||(m[1]=k=>{i(n)("CustomerForm")}),variant:"solid",ref_for:!0,size:"sm",label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:E(()=>[M(i(oe),{class:"w-4 cursor-pointer",name:"plus",onClick:m[0]||(m[0]=k=>{i(n)("CustomerForm")})})]),_:1})]),x("div",Ou,[m[12]||(m[12]=zo('<div class="mb-2 w-full flex flex-col items-center"><div class="flex w-full py-2 px-3 justify-between rounded text-center" style="background-color:#f3f4f6;"><div class="w-[18.4%]"> Item Code </div><div class="w-[18.4%]"> QTY </div><div class="w-[18.4%]"> UOM </div><div class="w-[18.4%]"> Rate </div><div class="w-[18.4%]"> Amount </div><div class="w-[8%]"> Remove </div></div></div>',1)),i(o).items&&i(o).items.length===0?(h(),A("div",$u," No items in cart. Select items to add them. ")):H("",!0),(h(!0),A(ne,null,ue(i(o).items,(k,q)=>(h(),A("div",{key:k.custom_id,class:"flex flex-col justify-between mb-2 w-full"},[M(wu,{items:k,index:q},null,8,["items","index"])]))),128))])]),x("div",qu,[x("div",Pu,[M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total Qty",modelValue:i(o).invoice.total_qty,"onUpdate:modelValue":m[2]||(m[2]=k=>i(o).invoice.total_qty=k)},null,8,["modelValue"]),i(o).pos_profile.custom_use_percentage_discount?(h(),T(i(Q),{key:0,type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!i(o).pos_profile.allow_discount_change,label:"Additional Discount (%)",modelValue:i(o).additional_discount_percentage,"onUpdate:modelValue":m[3]||(m[3]=k=>i(o).additional_discount_percentage=k)},null,8,["disabled","modelValue"])):(h(),T(i(Q),{key:1,type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!i(o).pos_profile.allow_discount_change,label:`Additional Discount (${i(o).pos_profile.currency})`,modelValue:i(o).discount_amount,"onUpdate:modelValue":m[4]||(m[4]=k=>i(o).discount_amount=k),value:Number(i(o).discount_amount).toFixed(2)},null,8,["disabled","label","modelValue","value"])),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Net Total",class:U(""),value:Number(i(o).invoice.net_total).toFixed(2),modelValue:i(o).invoice.net_total,"onUpdate:modelValue":m[5]||(m[5]=k=>i(o).invoice.net_total=k)},null,8,["value","modelValue"]),M(i(Q),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total",class:U(""),value:Number(i(o).invoice.grand_total).toFixed(2),modelValue:i(o).invoice.grand_total,"onUpdate:modelValue":m[6]||(m[6]=k=>i(o).invoice.grand_total=k)},null,8,["value","modelValue"])]),x("div",Mu,[M(i(le),{ref_for:!0,label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,onClick:m[7]||(m[7]=k=>i(n)("Held")),style:{"background-color":"#414fae",color:"#ffffff"}},{default:E(()=>[...m[13]||(m[13]=[ce(" HELD ",-1)])]),_:1}),M(i(le),{ref_for:!0,label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,onClick:m[8]||(m[8]=k=>i(n)("Return")),style:{"background-color":"#dc2626",color:"#ffffff"}},{default:E(()=>[...m[14]||(m[14]=[ce(" RETURN ",-1)])]),_:1}),M(i(le),{ref_for:!0,label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,variant:"solid",onClick:m[9]||(m[9]=k=>i(l).fetch({action:"Save",status:"save_new"})),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:E(()=>[...m[15]||(m[15]=[ce(" SAVE/NEW ",-1)])]),_:1}),M(i(le),{ref_for:!0,label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,onClick:m[10]||(m[10]=k=>i(l).fetch({action:"Save",status:"pay"})),style:{"background-color":"#149743",color:"#ffffff"}},{default:E(()=>[...m[16]||(m[16]=[ce(" PAY ",-1)])]),_:1}),M(i(le),{ref_for:!0,label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,variant:"solid",onClick:m[11]||(m[11]=k=>i(l).fetch({action:"Save",status:"print"})),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:E(()=>[...m[17]||(m[17]=[ce(" SAVE & PRINT ",-1)])]),_:1})])])]))}},Eu={class:"w-full h-[94%] flex p-2 gap-4 bg-[#f8f8fc] text-[#82868f]",style:{"font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif","font-size":"17px"}},Du={class:"w-full h-full flex flex-col md:flex-row gap-4"},Au={__name:"Pos",setup(e){let n=se("base");const t={Invoice:Ki,ItemSelector:Di};return(o,a)=>{var s,r;return h(),A("div",Eu,[x("div",Du,[(h(),T(Fe(t[(r=(s=i(n))==null?void 0:s.invoice)!=null&&r.status?"Invoice":"ItemSelector"]))),M(Iu)])])}}},Vu={};function Ru(e,n){return null}const Fu=it(Vu,[["render",Ru]]),Tu={__name:"Platform",props:{collapse:{type:Boolean,required:!0}},setup(e){const n=e,t=se("base"),o={PaymentSelect:_i,Pos:Au,SalesInvoice:Fu},a=V(()=>t.page==="payments"?"PaymentSelect":t.page==="salesinvoice"?"SalesInvoice":"Pos");return xe.on("updatePage",s=>{t.items=[],t.invoice={},t.customer={},t.page=s}),(s,r)=>(h(),A("div",{class:U(["w-full h-full bg-[#f8f8fc] text-[#82868f]",n.collapse?"xl:w-[97%]":"xl:w-[90%]"]),style:{"font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif","font-size":"17px"}},[M(Sr),(h(),T(Fe(o[a.value])))],2))}};function Bu(){const e=B(null);return{currentComponent:e,loadComponent:async t=>{try{const o={OpenShift:()=>Le(()=>import("./Open-Shift-DS8nm0F9.js"),__vite__mapDeps([0,1,2])),CustomerForm:()=>Le(()=>import("./CustomerForm-Bo7HeeTE.js"),__vite__mapDeps([3,1,2])),Held:()=>Le(()=>import("./Held-DG8zE_4u.js"),__vite__mapDeps([4,1,2])),Return:()=>Le(()=>import("./Return-CyIzARck.js"),__vite__mapDeps([5,1,2])),CloseShift:()=>Le(()=>import("./CloseShift-C5luRPMq.js"),__vite__mapDeps([6,1,2])),Settings:()=>Le(()=>import("./Settings-CTPjgMCI.js"),__vite__mapDeps([7,1,2])),Attendance:()=>Le(()=>import("./Attendance-DDOoJbjH.js"),__vite__mapDeps([8,1,2]))};if(o[t]){e.value=null,await new Promise(s=>setTimeout(s,0));const a=await o[t]();e.value=a.default}else console.error(`Component "${t}" not found.`),e.value=null}catch(o){console.error("Error loading component:",o),e.value=null}}}}const Nu={class:"w-screen h-screen flex select-none",style:{"background-color":"#f8f8fc !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},Lu={key:0},zu={__name:"Pos",setup(e){const n=B(!0),{currentComponent:t,loadComponent:o}=Bu(),{brand:a}=Lt();o("OpenShift"),Te("dynamicComponent",{currentComponent:t,loadComponent:o});const s=_t({items:[],customer:{},employee:{},invoice:{},pos_profile:{},page:"Pos"});return Te("base",s),sr(()=>({icon:a.favicon?a.favicon:"/assets/ant_pos/antPOS.png"})),xe.on("trigger_collapse",()=>{n.value=!n.value}),(r,l)=>(h(),A("div",Nu,[i(t)?(h(),A("div",Lu,[(h(),T(Fe(i(t)),{onSwitchComponent:i(o)},null,40,["onSwitchComponent"]))])):H("",!0),M(br,{class:U(r.w-r.full),collapse:n.value},null,8,["class","collapse"]),M(Tu,{collapse:n.value},null,8,["collapse"])]))}},Wu=Object.freeze(Object.defineProperty({__proto__:null,default:zu},Symbol.toStringTag,{value:"Module"}));export{Wu as P,Q as _,Cs as a,we as c,xe as e,Lt as g,Bu as u};
//# sourceMappingURL=Pos-BCPVCKkp.js.map
