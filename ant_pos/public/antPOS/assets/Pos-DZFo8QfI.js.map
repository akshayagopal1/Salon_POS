{"version":3,"mappings":"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","names":["memo","getDeps","fn","opts","deps","result","memoizedFunction","_a","_b","_c","_d","depTime","newDeps","dep","index","resultTime","depEndTime","resultEndTime","resultFpsPercentage","pad","str","num","notUndefined","value","msg","approxEqual","a","b","debounce","targetWindow","ms","timeoutId","args","getRect","element","offsetWidth","offsetHeight","defaultKeyExtractor","defaultRangeExtractor","range","start","end","arr","i","observeElementRect","instance","cb","handler","rect","width","height","observer","entries","run","entry","box","addEventListenerOptions","supportsScrollend","observeElementOffset","offset","fallback","createHandler","isScrolling","horizontal","isRtl","endHandler","registerScrollendEvent","measureElement","elementScroll","adjustments","behavior","toOffset","Virtualizer","_ro","get","target","opts2","key","sync","d","scrollElement","cached","measurements","furthestMeasurementsFound","furthestMeasurements","m","measurement","previousFurthestMeasurement","count","paddingStart","scrollMargin","getItemKey","enabled","itemSizeCache","item","min","furthestMeasurement","measuredSize","size","lane","outerSize","scrollOffset","lanes","calculateRange","startIndex","endIndex","rangeExtractor","overscan","node","attributeName","indexStr","prevNode","itemSize","delta","indexes","virtualItems","k","len","findNearestBinarySearch","align","maxOffset","initialAlign","attempts","maxAttempts","tryScroll","currentAlign","offsetInfo","currentOffset","afterInfo","scheduleRetry","endByLane","val","low","high","getCurrentValue","middle","currentValue","lastIndex","getOffset","endPerLane","pos","startPerLane","useVirtualizerBase","options","virtualizer","unref","state","shallowRef","cleanup","watch","el","options2","triggerRef","onScopeDispose","useVirtualizer","computed","u","e","r","s","f","p","t","o","n","l","c","g","De","h","Ee","Ve","ke","y","ne","K","ee","ie","Ae","H","x","re","J","te","z","define_process_env_default","de","lt","S","v","D","E","w","C","A","Te","O","M","$","B","pe","R","_","V","I","L","T","P","le","j","q","ve","ce","Re","G","X","se","Ie","ue","Oe","Pe","Se","U","Z","nt","W","N","F","me","it","he","ae","be","oe","Q","ut","Y","Ce","ge","rt","fe","ye","we","xe","_sfc_main","root","clickedElement","reference","popoverBody","bodyClass","clickedElementBody","currentPopoverBody","templates","createPopper","flag","_hoisted_1","_hoisted_2","_openBlock","_createElementBlock","_createElementVNode","_normalizeClass","_ctx","$options","_renderSlot","_normalizeProps","_guardReactiveProps","_createBlock","_Teleport","$data","$props","_normalizeStyle","_createVNode","_Transition","props","__props","emit","__emit","searchInput","ref","showOptions","query","groups","isOptionGroup","sanitizeOptions","group","filterOptions","allOptions","option","isOption","selectedValue","findOption","makeOption","values","getLabel","displayValue","isOptionSelected","areAllOptionsSelected","selectAll","clearAll","nextTick","rootRef","__expose","_unref","Combobox","$event","multiple","compareFn","_withCtx","isComboboxOpen","Popover","placement","openPopover","togglePopover","closePopover","_toDisplayString","_hoisted_4","_hoisted_5","_hoisted_6","placeholder","FeatherIcon","isOpen","bodyClasses","ComboboxOptions","hideSearch","_hoisted_7","_hoisted_8","ComboboxInput","_hoisted_9","LoadingIndicator","_Fragment","_renderList","_hoisted_10","idx","ComboboxOption","active","selected","_hoisted_11","$slots","_hoisted_12","_mergeProps","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","Button","_hoisted_20","classes","solidClasses","subtleClasses","outlineClasses","ghostClasses","variantClasses","sizeClasses","useDirection","dir","context","injectConfigProviderContext","ignoredElement","useArrowNavigation","currentElement","parentElement","arrowKeyOptions","itemsArray","loop","preventScroll","focus","right","left","up","down","home","goingVertical","goingHorizontal","allCollectionItems","findNextFocusableElement","elements","iterations","newIndex","adjustedNewIndex","candidate","ITEM_SELECT","SELECTION_KEYS","FIRST_KEYS","LAST_KEYS","FIRST_LAST_KEYS","SUB_OPEN_KEYS","SUB_CLOSE_KEYS","getOpenState","open","focusFirst","candidates","PREVIOUSLY_FOCUSED_ELEMENT","getActiveElement","isPointInPolygon","point","polygon","inside","xi","yi","xj","yj","isPointerInGraceArea","event","area","cursorPos","isMouseEvent","useFocusStackState","createGlobalState","createFocusScopesStack","stack","focusScope","activeFocusScope","arrayRemove","array","updatedArray","removeLinks","items","defineComponent","emits","currentRef","useForwardExpose","lastFocusedElementRef","focusScopesStack","reactive","watchEffect","cleanupFn","isClient","container","handleFocusIn","handleFocusOut","relatedTarget","handleMutations","mutations","mutationObserver","previouslyFocusedElement","mountEvent","AUTOFOCUS_ON_MOUNT","EVENT_OPTIONS","ev","getTabbableCandidates","unmountEvent","AUTOFOCUS_ON_UNMOUNT","unmountEventHandler","handleKeyDown","isTabKey","focusedElement","first","last","getTabbableEdges","_cache","openBlock","createBlock","Primitive","withCtx","renderSlot","getDefaultParent","originalTarget","sampleTarget","counterMap","uncontrolledNodes","markerMap","lockCount","unwrapHost","correctTargets","parent","targets","correctedTarget","applyAttributeToOthers","parentNode","markerName","controlAttribute","markerCounter","hiddenNodes","elementsToKeep","elementsToStop","keep","deep","attr","alreadyHidden","counterValue","markerValue","hideOthers","activeParentNode","useHideOthers","undo","unrefElement","onUnmounted","isPlainObject","prototype","_defu","baseObject","defaults","namespace","merger","object","createDefu","arguments_","defu","useBodyLockStackCount","createSharedComposable","map","initialOverflow","locked","stopTouchMoveListener","resetBodyStyle","isIOS","oldVal","verticalScrollbarWidth","defaultConfig","config","useEventListener","preventDefault","useBodyScrollLock","initialState","id","tryOnBeforeUnmount","checkOverflowScroll","ele","style","rawEvent","_target","ENTRY_FOCUS","injectRovingFocusGroupContext","provideRovingFocusGroupContext","createContext","orientation","propDir","toRefs","currentTabStopId","useVModel","isTabbingBackOut","isClickFocus","focusableItemsCount","getItems","CollectionSlot","useCollection","handleFocus","isKeyboardFocus","entryFocusEvent","activeItem","currentItem","candidateItems","handleMouseUp","tabStopId","createVNode","useTypeahead","callback","search","refAutoReset","itemsWithTextValue","currentMatch","nextMatch","getNextMatch","newItem","wrapArray","normalizedSearch","char","currentMatchIndex","wrappedValues","useIsUsingKeyboardImpl","isUsingKeyboard","onMounted","useIsUsingKeyboard","injectMenuContext","provideMenuContext","injectMenuRootContext","provideMenuRootContext","modal","content","isUsingKeyboardRef","_sfc_main$1","useFocusGuards","edgeGuards","createFocusGuard","injectMenuContentContext","provideMenuContentContext","mergeDefaults","PopperContentPropsDefaultValue","menuContext","rootContext","trapFocus","disableOutsidePointerEvents","searchRef","timerRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","currentItemId","rovingFocusGroupRef","forwardRef","contentElement","handleTypeaheadSearch","isPointerMovingToSubmenu","handleMountAutoFocus","isKeyDownInside","isModifierKey","isCharacterKey","collectionItems","candidateNodes","handleBlur","handlePointerMove","pointerXHasChanged","newDir","intent","_sfc_main$2","_sfc_main$3","_sfc_main$4","contentContext","CollectionItem","isFocused","handlePointerLeave","mergeProps","isPointerDownRef","handleSelect","menuItem","itemSelectEvent","isTypingAhead","forwarded","useForwardPropsEmits","withModifiers","Presence","normalizeProps","guardReactiveProps","injectMenuSubContext","provideMenuSubContext","parentMenuContext","trigger","menuSubContext","subContentElement","useId","isCloseKey","subContext","openTimerRef","clearOpenTimer","contentRect","side","rightSide","bleed","contentNearEdge","contentFarEdge","vnode","injectDropdownMenuRootContext","provideDropdownMenuRootContext","triggerElement","isRef","hasInteractedOutsideRef","handleCloseAutoFocus","originalEvent","ctrlLeftClick","isRightClick","emitsAsProps","useEmitAsProps","withKeys","router","useRouter","attrs","useAttrs","handleItemClick","normalizeDropdownItem","processOptionsIntoGroups","currentGroup","groupOption","getSubmenuGroups","submenuOptions","cssClasses","contentSide","contentAlign","DropdownMenuRoot","DropdownMenuTrigger","button","DropdownMenuPortal","DropdownMenuContent","DropdownMenuLabel","_createTextVNode","DropdownMenuItem","_resolveDynamicComponent","DropdownMenuSub","DropdownMenuSubTrigger","DropdownMenuSubContent","submenuGroup","subItem","useWindowSize","dropdownItems","onClick","crumbs","Dropdown","_component_router_link","generateId","htmlId","labelClasses","inputClasses","baseClasses","interactionClasses","padding","disabled","modelValue","$emit","label","getDate","getDateValue","date","dayjs","getDatesAfter","incrementer","dates","getDaysInMonth","monthIndex","year","daysInMonth","isLeapYear","useDatePicker","currentYear","currentMonth","today","firstDayOfMonth","lastDayOfMonth","leftPaddingCount","rightPaddingCount","leftPadding","rightPadding","datesInMonth","lastDate","finalPadding","datesAsWeeks","computedDates","week","formattedMonth","prevMonth","changeMonth","nextMonth","adder","marginClass","_marginClass","dateValue","selectDate","isNow","dayjsLocal","selectCurrentMonthYear","formatter","readonly","inputClass","$attrs","_createSlots","_hoisted_3","TextInput","textareaRef","paddingClasses","variant","emitChange","handleChange","rows","required","__default__","controlAttrs","_attrs","descriptionClasses","type","FormLabel","itemPrefixProps","description","switchType","switchClasses","switchCircleClasses","switchLabelClasses","switchDescriptionClasses","switchGroupClasses","labelContainerClasses","SwitchGroup","_withKeys","_withModifiers","SwitchLabel","SwitchDescription","Switch","RadioGroup","RadioGroupOption","RadioGroupLabel","_component_RadioGroup","_component_RadioGroupOption","checked","_component_Button","_component_RadioGroupLabel","_vShow","faviconRef","defaultFavIcon","initializeFavicon","usePageMeta","stopWatcher","pageMeta","href","getCurrentInstance","onBeforeUnmount","settings","brand","setting","createDocumentResource","data","getSettings","setupBrand","usersStore","defineStore","session","useSessionStore","usersByName","users","createResource","user","error","getUser","email","emitter","mitt","base","inject","loadComponent","currentUser","logout","_withDirectives","createSalesOrder","badgeComponent","getBreadcrumbs","Breadcrumbs","Badge","ComboboxButton","isOptionOrValue","sanitizedItems","lowerQuery","labelMatch","valueMatch","mobileMatch","optionOrValue","_component_Combobox","_component_Popover","_component_ComboboxOptions","_component_ComboboxInput","_component_FeatherIcon","_component_ComboboxOption","createToast","toast","showToast","title","text","icon","bgColor","textColor","iconClasses","htmlToText","html","div","errorHandled","customerResource","createListResource","computedOptions","refreshCustomerList","params","selectedCustomer","newVal","Autocomplete","searchQuery","currentTab","customerName","modes","invoices","filteredInvoices","invoice","hasSelectedInvoice","inv","mode","calculateAmountTotal","total","sum","toggleAllSelection","toggleSelection","addPayments","clearPayments","changemode","onBeforeMount","now","month","day","createpayment","sortedModes","selectedInvoices","currentMode","totalToSpend","invoiceDetails","allocated","save","newValue","oldValue","newAmounts","Customer","_hoisted_21","_hoisted_22","_hoisted_23","TabButtons","FormControl","_hoisted_24","debounceSearch","searchResource","addItemIfExists","addItemsResource","addItem","serial","qty","batch","fetchSearchResource","serial_no","addNewLine","found","runDocMethod","doc","payment","deliveryDate","createSaveResource","remove_invoice","changePaymentAmount","saveAndSubmit","submitInvoice","action","validatePaymentBeforeSave","salesOrder","orderName","createPayments","createPrint","makepayment","name","baseurl","advance","advances","newValues","oldValues","credit","DatePicker","get_batch","get_serial_no","get_serial_no_options","serials","has_batch_no","batch_no","getbatchNo","serialNoQty","newBatchNo","oldBatchNo","find","validateitems","add_serial_no","mergeSerial_no","leftValues","sn","rightValues","validateQty","newSerial","oldSerial","adjustQtyNumbers","adjustSerialNumbers","serialLength","newQty","selectedLength","selectedValues","needed","additional","opt","discountCalculation","rateCalculation","rate","discount","calculateRateTotal","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","status","sales_invoice","getPayments","amount","calcuateDiscount","Item","componentMap","Invoice","ItemSelector","ItemDetail","PaymentSelect","Pos","SalesInvoice","currentComponent","page","Navbar","useDynamicComponent","componentName","components","__vitePreload","resolve","component","collapse","provide","Sidebar","full","Platform"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],"sources":["../../../../AntPos/node_modules/@tanstack/virtual-core/dist/esm/utils.js","../../../../AntPos/node_modules/@tanstack/virtual-core/dist/esm/index.js","../../../../AntPos/node_modules/@tanstack/vue-virtual/dist/esm/index.js","../../../../AntPos/node_modules/@headlessui/vue/dist/hooks/use-controllable.js","../../../../AntPos/node_modules/@headlessui/vue/dist/hooks/use-disposables.js","../../../../AntPos/node_modules/@headlessui/vue/dist/hooks/use-frame-debounce.js","../../../../AntPos/node_modules/@headlessui/vue/dist/hooks/use-resolve-button-type.js","../../../../AntPos/node_modules/@headlessui/vue/dist/hooks/use-tracked-pointer.js","../../../../AntPos/node_modules/@headlessui/vue/dist/hooks/use-tree-walker.js","../../../../AntPos/node_modules/@headlessui/vue/dist/mouse.js","../../../../AntPos/node_modules/@headlessui/vue/dist/utils/calculate-active-index.js","../../../../AntPos/node_modules/@headlessui/vue/dist/utils/form.js","../../../../AntPos/node_modules/@headlessui/vue/dist/components/combobox/combobox.js","../../../../AntPos/node_modules/@headlessui/vue/dist/components/label/label.js","../../../../AntPos/node_modules/@headlessui/vue/dist/components/radio-group/radio-group.js","../../../../AntPos/node_modules/@headlessui/vue/dist/components/switch/switch.js","../../../../AntPos/node_modules/frappe-ui/src/components/Popover/Popover.vue","../../../../AntPos/node_modules/frappe-ui/src/components/Autocomplete/Autocomplete.vue","../../../../AntPos/node_modules/frappe-ui/src/components/Badge/Badge.vue","../../../../AntPos/node_modules/reka-ui/dist/shared/useDirection.js","../../../../AntPos/node_modules/reka-ui/dist/shared/useArrowNavigation.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/utils.js","../../../../AntPos/node_modules/reka-ui/dist/FocusScope/stack.js","../../../../AntPos/node_modules/reka-ui/dist/FocusScope/FocusScope.js","../../../../AntPos/node_modules/aria-hidden/dist/es2015/index.js","../../../../AntPos/node_modules/reka-ui/dist/shared/useHideOthers.js","../../../../AntPos/node_modules/defu/dist/defu.mjs","../../../../AntPos/node_modules/reka-ui/dist/shared/useBodyScrollLock.js","../../../../AntPos/node_modules/reka-ui/dist/RovingFocus/utils.js","../../../../AntPos/node_modules/reka-ui/dist/RovingFocus/RovingFocusGroup.js","../../../../AntPos/node_modules/reka-ui/dist/shared/useTypeahead.js","../../../../AntPos/node_modules/reka-ui/dist/shared/useIsUsingKeyboard.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuRoot.js","../../../../AntPos/node_modules/reka-ui/dist/shared/useFocusGuards.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuContentImpl.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuItemImpl.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuItem.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuRootContentModal.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuRootContentNonModal.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuContent.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuLabel.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuPortal.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuSub.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuSubContent.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuAnchor.js","../../../../AntPos/node_modules/reka-ui/dist/Menu/MenuSubTrigger.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuRoot.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuContent.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuItem.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuLabel.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuPortal.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuSub.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuSubContent.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuSubTrigger.js","../../../../AntPos/node_modules/reka-ui/dist/DropdownMenu/DropdownMenuTrigger.js","../../../../AntPos/node_modules/frappe-ui/src/components/Dropdown/Dropdown.vue","../../../../AntPos/node_modules/frappe-ui/src/components/Breadcrumbs/Breadcrumbs.vue","../../../../AntPos/node_modules/frappe-ui/src/utils/useId.ts","../../../../AntPos/node_modules/frappe-ui/src/components/Checkbox/Checkbox.vue","../../../../AntPos/node_modules/frappe-ui/src/components/DatePicker/utils.ts","../../../../AntPos/node_modules/frappe-ui/src/components/DatePicker/useDatePicker.ts","../../../../AntPos/node_modules/frappe-ui/src/components/DatePicker/DatePicker.vue","../../../../AntPos/node_modules/frappe-ui/src/components/Textarea/Textarea.vue","../../../../AntPos/node_modules/frappe-ui/src/components/FormLabel.vue","../../../../AntPos/node_modules/frappe-ui/src/components/FormControl/FormControl.vue","../../../../AntPos/node_modules/frappe-ui/src/components/Switch/Switch.vue","../../../../AntPos/node_modules/frappe-ui/src/components/TabButtons/TabButtons.vue","../../../../AntPos/node_modules/frappe-ui/src/utils/pageMeta.ts","../../../../AntPos/src/stores/settings.js","../../../../AntPos/src/data/users.js","../../../../AntPos/src/utils/emitter.js","../../../../AntPos/src/component/Sidebar.vue","../../../../AntPos/src/component/Navbar.vue","../../../../AntPos/src/component/custom_components/Autocomplete.vue","../../../../AntPos/src/utils/index.js","../../../../AntPos/src/component/Customer.vue","../../../../AntPos/src/component/PaymentSelect.vue","../../../../AntPos/src/component/ItemSelector.vue","../../../../AntPos/src/component/Invoice.vue","../../../../AntPos/src/component/Item.vue","../../../../AntPos/src/component/ItemDetail.vue","../../../../AntPos/src/component/Pos.vue","../../../../AntPos/src/component/Platform.vue","../../../../AntPos/src/utils/Dialog.js","../../../../AntPos/src/pages/Pos.vue"],"sourcesContent":["function memo(getDeps, fn, opts) {\n  let deps = opts.initialDeps ?? [];\n  let result;\n  function memoizedFunction() {\n    var _a, _b, _c, _d;\n    let depTime;\n    if (opts.key && ((_a = opts.debug) == null ? void 0 : _a.call(opts))) depTime = Date.now();\n    const newDeps = getDeps();\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && ((_b = opts.debug) == null ? void 0 : _b.call(opts))) resultTime = Date.now();\n    result = fn(...newDeps);\n    if (opts.key && ((_c = opts.debug) == null ? void 0 : _c.call(opts))) {\n      const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n      const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n      const resultFpsPercentage = resultEndTime / 16;\n      const pad = (str, num) => {\n        str = String(str);\n        while (str.length < num) {\n          str = \" \" + str;\n        }\n        return str;\n      };\n      console.info(\n        `%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n          0,\n          Math.min(120 - 120 * resultFpsPercentage, 120)\n        )}deg 100% 31%);`,\n        opts == null ? void 0 : opts.key\n      );\n    }\n    (_d = opts == null ? void 0 : opts.onChange) == null ? void 0 : _d.call(opts, result);\n    return result;\n  }\n  memoizedFunction.updateDeps = (newDeps) => {\n    deps = newDeps;\n  };\n  return memoizedFunction;\n}\nfunction notUndefined(value, msg) {\n  if (value === void 0) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : \"\"}`);\n  } else {\n    return value;\n  }\n}\nconst approxEqual = (a, b) => Math.abs(a - b) < 1.01;\nconst debounce = (targetWindow, fn, ms) => {\n  let timeoutId;\n  return function(...args) {\n    targetWindow.clearTimeout(timeoutId);\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms);\n  };\n};\nexport {\n  approxEqual,\n  debounce,\n  memo,\n  notUndefined\n};\n//# sourceMappingURL=utils.js.map\n","import { debounce, memo, notUndefined, approxEqual } from \"./utils.js\";\nconst getRect = (element) => {\n  const { offsetWidth, offsetHeight } = element;\n  return { width: offsetWidth, height: offsetHeight };\n};\nconst defaultKeyExtractor = (index) => index;\nconst defaultRangeExtractor = (range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0);\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1);\n  const arr = [];\n  for (let i = start; i <= end; i++) {\n    arr.push(i);\n  }\n  return arr;\n};\nconst observeElementRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  const handler = (rect) => {\n    const { width, height } = rect;\n    cb({ width: Math.round(width), height: Math.round(height) });\n  };\n  handler(getRect(element));\n  if (!targetWindow.ResizeObserver) {\n    return () => {\n    };\n  }\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0];\n      if (entry == null ? void 0 : entry.borderBoxSize) {\n        const box = entry.borderBoxSize[0];\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize });\n          return;\n        }\n      }\n      handler(getRect(element));\n    };\n    instance.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n  });\n  observer.observe(element, { box: \"border-box\" });\n  return () => {\n    observer.unobserve(element);\n  };\n};\nconst addEventListenerOptions = {\n  passive: true\n};\nconst observeWindowRect = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight });\n  };\n  handler();\n  element.addEventListener(\"resize\", handler, addEventListenerOptions);\n  return () => {\n    element.removeEventListener(\"resize\", handler);\n  };\n};\nconst supportsScrollend = typeof window == \"undefined\" ? true : \"onscrollend\" in window;\nconst observeElementOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    const { horizontal, isRtl } = instance.options;\n    offset = horizontal ? element[\"scrollLeft\"] * (isRtl && -1 || 1) : element[\"scrollTop\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst observeWindowOffset = (instance, cb) => {\n  const element = instance.scrollElement;\n  if (!element) {\n    return;\n  }\n  const targetWindow = instance.targetWindow;\n  if (!targetWindow) {\n    return;\n  }\n  let offset = 0;\n  const fallback = instance.options.useScrollendEvent && supportsScrollend ? () => void 0 : debounce(\n    targetWindow,\n    () => {\n      cb(offset, false);\n    },\n    instance.options.isScrollingResetDelay\n  );\n  const createHandler = (isScrolling) => () => {\n    offset = element[instance.options.horizontal ? \"scrollX\" : \"scrollY\"];\n    fallback();\n    cb(offset, isScrolling);\n  };\n  const handler = createHandler(true);\n  const endHandler = createHandler(false);\n  endHandler();\n  element.addEventListener(\"scroll\", handler, addEventListenerOptions);\n  const registerScrollendEvent = instance.options.useScrollendEvent && supportsScrollend;\n  if (registerScrollendEvent) {\n    element.addEventListener(\"scrollend\", endHandler, addEventListenerOptions);\n  }\n  return () => {\n    element.removeEventListener(\"scroll\", handler);\n    if (registerScrollendEvent) {\n      element.removeEventListener(\"scrollend\", endHandler);\n    }\n  };\n};\nconst measureElement = (element, entry, instance) => {\n  if (entry == null ? void 0 : entry.borderBoxSize) {\n    const box = entry.borderBoxSize[0];\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? \"inlineSize\" : \"blockSize\"]\n      );\n      return size;\n    }\n  }\n  return element[instance.options.horizontal ? \"offsetWidth\" : \"offsetHeight\"];\n};\nconst windowScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nconst elementScroll = (offset, {\n  adjustments = 0,\n  behavior\n}, instance) => {\n  var _a, _b;\n  const toOffset = offset + adjustments;\n  (_b = (_a = instance.scrollElement) == null ? void 0 : _a.scrollTo) == null ? void 0 : _b.call(_a, {\n    [instance.options.horizontal ? \"left\" : \"top\"]: toOffset,\n    behavior\n  });\n};\nclass Virtualizer {\n  constructor(opts) {\n    this.unsubs = [];\n    this.scrollElement = null;\n    this.targetWindow = null;\n    this.isScrolling = false;\n    this.measurementsCache = [];\n    this.itemSizeCache = /* @__PURE__ */ new Map();\n    this.pendingMeasuredCacheIndexes = [];\n    this.scrollRect = null;\n    this.scrollOffset = null;\n    this.scrollDirection = null;\n    this.scrollAdjustments = 0;\n    this.elementsCache = /* @__PURE__ */ new Map();\n    this.observer = /* @__PURE__ */ (() => {\n      let _ro = null;\n      const get = () => {\n        if (_ro) {\n          return _ro;\n        }\n        if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n          return null;\n        }\n        return _ro = new this.targetWindow.ResizeObserver((entries) => {\n          entries.forEach((entry) => {\n            const run = () => {\n              this._measureElement(entry.target, entry);\n            };\n            this.options.useAnimationFrameWithResizeObserver ? requestAnimationFrame(run) : run();\n          });\n        });\n      };\n      return {\n        disconnect: () => {\n          var _a;\n          (_a = get()) == null ? void 0 : _a.disconnect();\n          _ro = null;\n        },\n        observe: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.observe(target, { box: \"border-box\" });\n        },\n        unobserve: (target) => {\n          var _a;\n          return (_a = get()) == null ? void 0 : _a.unobserve(target);\n        }\n      };\n    })();\n    this.range = null;\n    this.setOptions = (opts2) => {\n      Object.entries(opts2).forEach(([key, value]) => {\n        if (typeof value === \"undefined\") delete opts2[key];\n      });\n      this.options = {\n        debug: false,\n        initialOffset: 0,\n        overscan: 1,\n        paddingStart: 0,\n        paddingEnd: 0,\n        scrollPaddingStart: 0,\n        scrollPaddingEnd: 0,\n        horizontal: false,\n        getItemKey: defaultKeyExtractor,\n        rangeExtractor: defaultRangeExtractor,\n        onChange: () => {\n        },\n        measureElement,\n        initialRect: { width: 0, height: 0 },\n        scrollMargin: 0,\n        gap: 0,\n        indexAttribute: \"data-index\",\n        initialMeasurementsCache: [],\n        lanes: 1,\n        isScrollingResetDelay: 150,\n        enabled: true,\n        isRtl: false,\n        useScrollendEvent: false,\n        useAnimationFrameWithResizeObserver: false,\n        ...opts2\n      };\n    };\n    this.notify = (sync) => {\n      var _a, _b;\n      (_b = (_a = this.options).onChange) == null ? void 0 : _b.call(_a, this, sync);\n    };\n    this.maybeNotify = memo(\n      () => {\n        this.calculateRange();\n        return [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ];\n      },\n      (isScrolling) => {\n        this.notify(isScrolling);\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"maybeNotify\",\n        debug: () => this.options.debug,\n        initialDeps: [\n          this.isScrolling,\n          this.range ? this.range.startIndex : null,\n          this.range ? this.range.endIndex : null\n        ]\n      }\n    );\n    this.cleanup = () => {\n      this.unsubs.filter(Boolean).forEach((d) => d());\n      this.unsubs = [];\n      this.observer.disconnect();\n      this.scrollElement = null;\n      this.targetWindow = null;\n    };\n    this._didMount = () => {\n      return () => {\n        this.cleanup();\n      };\n    };\n    this._willUpdate = () => {\n      var _a;\n      const scrollElement = this.options.enabled ? this.options.getScrollElement() : null;\n      if (this.scrollElement !== scrollElement) {\n        this.cleanup();\n        if (!scrollElement) {\n          this.maybeNotify();\n          return;\n        }\n        this.scrollElement = scrollElement;\n        if (this.scrollElement && \"ownerDocument\" in this.scrollElement) {\n          this.targetWindow = this.scrollElement.ownerDocument.defaultView;\n        } else {\n          this.targetWindow = ((_a = this.scrollElement) == null ? void 0 : _a.window) ?? null;\n        }\n        this.elementsCache.forEach((cached) => {\n          this.observer.observe(cached);\n        });\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: void 0,\n          behavior: void 0\n        });\n        this.unsubs.push(\n          this.options.observeElementRect(this, (rect) => {\n            this.scrollRect = rect;\n            this.maybeNotify();\n          })\n        );\n        this.unsubs.push(\n          this.options.observeElementOffset(this, (offset, isScrolling) => {\n            this.scrollAdjustments = 0;\n            this.scrollDirection = isScrolling ? this.getScrollOffset() < offset ? \"forward\" : \"backward\" : null;\n            this.scrollOffset = offset;\n            this.isScrolling = isScrolling;\n            this.maybeNotify();\n          })\n        );\n      }\n    };\n    this.getSize = () => {\n      if (!this.options.enabled) {\n        this.scrollRect = null;\n        return 0;\n      }\n      this.scrollRect = this.scrollRect ?? this.options.initialRect;\n      return this.scrollRect[this.options.horizontal ? \"width\" : \"height\"];\n    };\n    this.getScrollOffset = () => {\n      if (!this.options.enabled) {\n        this.scrollOffset = null;\n        return 0;\n      }\n      this.scrollOffset = this.scrollOffset ?? (typeof this.options.initialOffset === \"function\" ? this.options.initialOffset() : this.options.initialOffset);\n      return this.scrollOffset;\n    };\n    this.getFurthestMeasurement = (measurements, index) => {\n      const furthestMeasurementsFound = /* @__PURE__ */ new Map();\n      const furthestMeasurements = /* @__PURE__ */ new Map();\n      for (let m = index - 1; m >= 0; m--) {\n        const measurement = measurements[m];\n        if (furthestMeasurementsFound.has(measurement.lane)) {\n          continue;\n        }\n        const previousFurthestMeasurement = furthestMeasurements.get(\n          measurement.lane\n        );\n        if (previousFurthestMeasurement == null || measurement.end > previousFurthestMeasurement.end) {\n          furthestMeasurements.set(measurement.lane, measurement);\n        } else if (measurement.end < previousFurthestMeasurement.end) {\n          furthestMeasurementsFound.set(measurement.lane, true);\n        }\n        if (furthestMeasurementsFound.size === this.options.lanes) {\n          break;\n        }\n      }\n      return furthestMeasurements.size === this.options.lanes ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n        if (a.end === b.end) {\n          return a.index - b.index;\n        }\n        return a.end - b.end;\n      })[0] : void 0;\n    };\n    this.getMeasurementOptions = memo(\n      () => [\n        this.options.count,\n        this.options.paddingStart,\n        this.options.scrollMargin,\n        this.options.getItemKey,\n        this.options.enabled\n      ],\n      (count, paddingStart, scrollMargin, getItemKey, enabled) => {\n        this.pendingMeasuredCacheIndexes = [];\n        return {\n          count,\n          paddingStart,\n          scrollMargin,\n          getItemKey,\n          enabled\n        };\n      },\n      {\n        key: false\n      }\n    );\n    this.getMeasurements = memo(\n      () => [this.getMeasurementOptions(), this.itemSizeCache],\n      ({ count, paddingStart, scrollMargin, getItemKey, enabled }, itemSizeCache) => {\n        if (!enabled) {\n          this.measurementsCache = [];\n          this.itemSizeCache.clear();\n          return [];\n        }\n        if (this.measurementsCache.length === 0) {\n          this.measurementsCache = this.options.initialMeasurementsCache;\n          this.measurementsCache.forEach((item) => {\n            this.itemSizeCache.set(item.key, item.size);\n          });\n        }\n        const min = this.pendingMeasuredCacheIndexes.length > 0 ? Math.min(...this.pendingMeasuredCacheIndexes) : 0;\n        this.pendingMeasuredCacheIndexes = [];\n        const measurements = this.measurementsCache.slice(0, min);\n        for (let i = min; i < count; i++) {\n          const key = getItemKey(i);\n          const furthestMeasurement = this.options.lanes === 1 ? measurements[i - 1] : this.getFurthestMeasurement(measurements, i);\n          const start = furthestMeasurement ? furthestMeasurement.end + this.options.gap : paddingStart + scrollMargin;\n          const measuredSize = itemSizeCache.get(key);\n          const size = typeof measuredSize === \"number\" ? measuredSize : this.options.estimateSize(i);\n          const end = start + size;\n          const lane = furthestMeasurement ? furthestMeasurement.lane : i % this.options.lanes;\n          measurements[i] = {\n            index: i,\n            start,\n            size,\n            end,\n            key,\n            lane\n          };\n        }\n        this.measurementsCache = measurements;\n        return measurements;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getMeasurements\",\n        debug: () => this.options.debug\n      }\n    );\n    this.calculateRange = memo(\n      () => [\n        this.getMeasurements(),\n        this.getSize(),\n        this.getScrollOffset(),\n        this.options.lanes\n      ],\n      (measurements, outerSize, scrollOffset, lanes) => {\n        return this.range = measurements.length > 0 && outerSize > 0 ? calculateRange({\n          measurements,\n          outerSize,\n          scrollOffset,\n          lanes\n        }) : null;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"calculateRange\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualIndexes = memo(\n      () => {\n        let startIndex = null;\n        let endIndex = null;\n        const range = this.calculateRange();\n        if (range) {\n          startIndex = range.startIndex;\n          endIndex = range.endIndex;\n        }\n        this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex]);\n        return [\n          this.options.rangeExtractor,\n          this.options.overscan,\n          this.options.count,\n          startIndex,\n          endIndex\n        ];\n      },\n      (rangeExtractor, overscan, count, startIndex, endIndex) => {\n        return startIndex === null || endIndex === null ? [] : rangeExtractor({\n          startIndex,\n          endIndex,\n          overscan,\n          count\n        });\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualIndexes\",\n        debug: () => this.options.debug\n      }\n    );\n    this.indexFromElement = (node) => {\n      const attributeName = this.options.indexAttribute;\n      const indexStr = node.getAttribute(attributeName);\n      if (!indexStr) {\n        console.warn(\n          `Missing attribute name '${attributeName}={index}' on measured element.`\n        );\n        return -1;\n      }\n      return parseInt(indexStr, 10);\n    };\n    this._measureElement = (node, entry) => {\n      const index = this.indexFromElement(node);\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const key = item.key;\n      const prevNode = this.elementsCache.get(key);\n      if (prevNode !== node) {\n        if (prevNode) {\n          this.observer.unobserve(prevNode);\n        }\n        this.observer.observe(node);\n        this.elementsCache.set(key, node);\n      }\n      if (node.isConnected) {\n        this.resizeItem(index, this.options.measureElement(node, entry, this));\n      }\n    };\n    this.resizeItem = (index, size) => {\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return;\n      }\n      const itemSize = this.itemSizeCache.get(item.key) ?? item.size;\n      const delta = size - itemSize;\n      if (delta !== 0) {\n        if (this.shouldAdjustScrollPositionOnItemSizeChange !== void 0 ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this) : item.start < this.getScrollOffset() + this.scrollAdjustments) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"correction\", delta);\n          }\n          this._scrollToOffset(this.getScrollOffset(), {\n            adjustments: this.scrollAdjustments += delta,\n            behavior: void 0\n          });\n        }\n        this.pendingMeasuredCacheIndexes.push(item.index);\n        this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size));\n        this.notify(false);\n      }\n    };\n    this.measureElement = (node) => {\n      if (!node) {\n        this.elementsCache.forEach((cached, key) => {\n          if (!cached.isConnected) {\n            this.observer.unobserve(cached);\n            this.elementsCache.delete(key);\n          }\n        });\n        return;\n      }\n      this._measureElement(node, void 0);\n    };\n    this.getVirtualItems = memo(\n      () => [this.getVirtualIndexes(), this.getMeasurements()],\n      (indexes, measurements) => {\n        const virtualItems = [];\n        for (let k = 0, len = indexes.length; k < len; k++) {\n          const i = indexes[k];\n          const measurement = measurements[i];\n          virtualItems.push(measurement);\n        }\n        return virtualItems;\n      },\n      {\n        key: process.env.NODE_ENV !== \"production\" && \"getVirtualItems\",\n        debug: () => this.options.debug\n      }\n    );\n    this.getVirtualItemForOffset = (offset) => {\n      const measurements = this.getMeasurements();\n      if (measurements.length === 0) {\n        return void 0;\n      }\n      return notUndefined(\n        measurements[findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index) => notUndefined(measurements[index]).start,\n          offset\n        )]\n      );\n    };\n    this.getOffsetForAlignment = (toOffset, align, itemSize = 0) => {\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        align = toOffset >= scrollOffset + size ? \"end\" : \"start\";\n      }\n      if (align === \"center\") {\n        toOffset += (itemSize - size) / 2;\n      } else if (align === \"end\") {\n        toOffset -= size;\n      }\n      const maxOffset = this.getTotalSize() + this.options.scrollMargin - size;\n      return Math.max(Math.min(maxOffset, toOffset), 0);\n    };\n    this.getOffsetForIndex = (index, align = \"auto\") => {\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      const item = this.measurementsCache[index];\n      if (!item) {\n        return void 0;\n      }\n      const size = this.getSize();\n      const scrollOffset = this.getScrollOffset();\n      if (align === \"auto\") {\n        if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n          align = \"end\";\n        } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n          align = \"start\";\n        } else {\n          return [scrollOffset, align];\n        }\n      }\n      const toOffset = align === \"end\" ? item.end + this.options.scrollPaddingEnd : item.start - this.options.scrollPaddingStart;\n      return [\n        this.getOffsetForAlignment(toOffset, align, item.size),\n        align\n      ];\n    };\n    this.isDynamicMode = () => this.elementsCache.size > 0;\n    this.scrollToOffset = (toOffset, { align = \"start\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.scrollToIndex = (index, { align: initialAlign = \"auto\", behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      index = Math.max(0, Math.min(index, this.options.count - 1));\n      let attempts = 0;\n      const maxAttempts = 10;\n      const tryScroll = (currentAlign) => {\n        if (!this.targetWindow) return;\n        const offsetInfo = this.getOffsetForIndex(index, currentAlign);\n        if (!offsetInfo) {\n          console.warn(\"Failed to get offset for index:\", index);\n          return;\n        }\n        const [offset, align] = offsetInfo;\n        this._scrollToOffset(offset, { adjustments: void 0, behavior });\n        this.targetWindow.requestAnimationFrame(() => {\n          const currentOffset = this.getScrollOffset();\n          const afterInfo = this.getOffsetForIndex(index, align);\n          if (!afterInfo) {\n            console.warn(\"Failed to get offset for index:\", index);\n            return;\n          }\n          if (!approxEqual(afterInfo[0], currentOffset)) {\n            scheduleRetry(align);\n          }\n        });\n      };\n      const scheduleRetry = (align) => {\n        if (!this.targetWindow) return;\n        attempts++;\n        if (attempts < maxAttempts) {\n          if (process.env.NODE_ENV !== \"production\" && this.options.debug) {\n            console.info(\"Schedule retry\", attempts, maxAttempts);\n          }\n          this.targetWindow.requestAnimationFrame(() => tryScroll(align));\n        } else {\n          console.warn(\n            `Failed to scroll to index ${index} after ${maxAttempts} attempts.`\n          );\n        }\n      };\n      tryScroll(initialAlign);\n    };\n    this.scrollBy = (delta, { behavior } = {}) => {\n      if (behavior === \"smooth\" && this.isDynamicMode()) {\n        console.warn(\n          \"The `smooth` scroll behavior is not fully supported with dynamic size.\"\n        );\n      }\n      this._scrollToOffset(this.getScrollOffset() + delta, {\n        adjustments: void 0,\n        behavior\n      });\n    };\n    this.getTotalSize = () => {\n      var _a;\n      const measurements = this.getMeasurements();\n      let end;\n      if (measurements.length === 0) {\n        end = this.options.paddingStart;\n      } else if (this.options.lanes === 1) {\n        end = ((_a = measurements[measurements.length - 1]) == null ? void 0 : _a.end) ?? 0;\n      } else {\n        const endByLane = Array(this.options.lanes).fill(null);\n        let endIndex = measurements.length - 1;\n        while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n          const item = measurements[endIndex];\n          if (endByLane[item.lane] === null) {\n            endByLane[item.lane] = item.end;\n          }\n          endIndex--;\n        }\n        end = Math.max(...endByLane.filter((val) => val !== null));\n      }\n      return Math.max(\n        end - this.options.scrollMargin + this.options.paddingEnd,\n        0\n      );\n    };\n    this._scrollToOffset = (offset, {\n      adjustments,\n      behavior\n    }) => {\n      this.options.scrollToFn(offset, { behavior, adjustments }, this);\n    };\n    this.measure = () => {\n      this.itemSizeCache = /* @__PURE__ */ new Map();\n      this.notify(false);\n    };\n    this.setOptions(opts);\n  }\n}\nconst findNearestBinarySearch = (low, high, getCurrentValue, value) => {\n  while (low <= high) {\n    const middle = (low + high) / 2 | 0;\n    const currentValue = getCurrentValue(middle);\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes\n}) {\n  const lastIndex = measurements.length - 1;\n  const getOffset = (index) => measurements[index].start;\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex\n    };\n  }\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset\n  );\n  let endIndex = startIndex;\n  if (lanes === 1) {\n    while (endIndex < lastIndex && measurements[endIndex].end < scrollOffset + outerSize) {\n      endIndex++;\n    }\n  } else if (lanes > 1) {\n    const endPerLane = Array(lanes).fill(0);\n    while (endIndex < lastIndex && endPerLane.some((pos) => pos < scrollOffset + outerSize)) {\n      const item = measurements[endIndex];\n      endPerLane[item.lane] = item.end;\n      endIndex++;\n    }\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize);\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex];\n      startPerLane[item.lane] = item.start;\n      startIndex--;\n    }\n    startIndex = Math.max(0, startIndex - startIndex % lanes);\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - endIndex % lanes));\n  }\n  return { startIndex, endIndex };\n}\nexport {\n  Virtualizer,\n  approxEqual,\n  debounce,\n  defaultKeyExtractor,\n  defaultRangeExtractor,\n  elementScroll,\n  measureElement,\n  memo,\n  notUndefined,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll\n};\n//# sourceMappingURL=index.js.map\n","import { elementScroll, observeElementOffset, observeElementRect, windowScroll, observeWindowOffset, observeWindowRect, Virtualizer } from \"@tanstack/virtual-core\";\nexport * from \"@tanstack/virtual-core\";\nimport { computed, unref, shallowRef, watch, triggerRef, onScopeDispose } from \"vue\";\nfunction useVirtualizerBase(options) {\n  const virtualizer = new Virtualizer(unref(options));\n  const state = shallowRef(virtualizer);\n  const cleanup = virtualizer._didMount();\n  watch(\n    () => unref(options).getScrollElement(),\n    (el) => {\n      if (el) {\n        virtualizer._willUpdate();\n      }\n    },\n    {\n      immediate: true\n    }\n  );\n  watch(\n    () => unref(options),\n    (options2) => {\n      virtualizer.setOptions({\n        ...options2,\n        onChange: (instance, sync) => {\n          var _a;\n          triggerRef(state);\n          (_a = options2.onChange) == null ? void 0 : _a.call(options2, instance, sync);\n        }\n      });\n      virtualizer._willUpdate();\n      triggerRef(state);\n    },\n    {\n      immediate: true\n    }\n  );\n  onScopeDispose(cleanup);\n  return state;\n}\nfunction useVirtualizer(options) {\n  return useVirtualizerBase(\n    computed(() => ({\n      observeElementRect,\n      observeElementOffset,\n      scrollToFn: elementScroll,\n      ...unref(options)\n    }))\n  );\n}\nfunction useWindowVirtualizer(options) {\n  return useVirtualizerBase(\n    computed(() => ({\n      getScrollElement: () => typeof document !== \"undefined\" ? window : null,\n      observeElementRect: observeWindowRect,\n      observeElementOffset: observeWindowOffset,\n      scrollToFn: windowScroll,\n      initialOffset: () => typeof document !== \"undefined\" ? window.scrollY : 0,\n      ...unref(options)\n    }))\n  );\n}\nexport {\n  useVirtualizer,\n  useWindowVirtualizer\n};\n//# sourceMappingURL=index.js.map\n","import{computed as p,ref as s}from\"vue\";function d(u,e,r){let i=s(r==null?void 0:r.value),f=p(()=>u.value!==void 0);return[p(()=>f.value?u.value:i.value),function(t){return f.value||(i.value=t),e==null?void 0:e(t)}]}export{d as useControllable};\n","import{onUnmounted as s}from\"vue\";import{disposables as e}from'../utils/disposables.js';function i(){let o=e();return s(()=>o.dispose()),o}export{i as useDisposables};\n","import{useDisposables as r}from'./use-disposables.js';function t(){let e=r();return o=>{e.dispose(),e.nextFrame(o)}}export{t as useFrameDebounce};\n","import{onMounted as i,ref as f,watchEffect as l}from\"vue\";import{dom as o}from'../utils/dom.js';function r(t,e){if(t)return t;let n=e!=null?e:\"button\";if(typeof n==\"string\"&&n.toLowerCase()===\"button\")return\"button\"}function s(t,e){let n=f(r(t.value.type,t.value.as));return i(()=>{n.value=r(t.value.type,t.value.as)}),l(()=>{var u;n.value||o(e)&&o(e)instanceof HTMLButtonElement&&!((u=o(e))!=null&&u.hasAttribute(\"type\"))&&(n.value=\"button\")}),n}export{s as useResolveButtonType};\n","import{ref as o}from\"vue\";function r(e){return[e.screenX,e.screenY]}function u(){let e=o([-1,-1]);return{wasMoved(n){let t=r(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=r(n)}}}export{u as useTrackedPointer};\n","import{watchEffect as p}from\"vue\";import{getOwnerDocument as u}from'../utils/owner.js';function i({container:e,accept:t,walk:d,enabled:o}){p(()=>{let r=e.value;if(!r||o!==void 0&&!o.value)return;let l=u(e);if(!l)return;let c=Object.assign(f=>t(f),{acceptNode:t}),n=l.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,c,!1);for(;n.nextNode();)d(n.currentNode)})}export{i as useTreeWalker};\n","var g=(f=>(f[f.Left=0]=\"Left\",f[f.Right=2]=\"Right\",f))(g||{});export{g as MouseButton};\n","function u(l){throw new Error(\"Unexpected object: \"+l)}var c=(i=>(i[i.First=0]=\"First\",i[i.Previous=1]=\"Previous\",i[i.Next=2]=\"Next\",i[i.Last=3]=\"Last\",i[i.Specific=4]=\"Specific\",i[i.Nothing=5]=\"Nothing\",i))(c||{});function f(l,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),s=r!=null?r:-1;switch(l.focus){case 0:{for(let e=0;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 1:{s===-1&&(s=t.length);for(let e=s-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 2:{for(let e=s+1;e<t.length;++e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 3:{for(let e=t.length-1;e>=0;--e)if(!n.resolveDisabled(t[e],e,t))return e;return r}case 4:{for(let e=0;e<t.length;++e)if(n.resolveId(t[e],e,t)===l.id)return e;return r}case 5:return null;default:u(l)}}export{c as Focus,f as calculateActiveIndex};\n","function e(i={},s=null,t=[]){for(let[r,n]of Object.entries(i))o(t,f(s,r),n);return t}function f(i,s){return i?i+\"[\"+s+\"]\":s}function o(i,s,t){if(Array.isArray(t))for(let[r,n]of t.entries())o(i,f(s,r.toString()),n);else t instanceof Date?i.push([s,t.toISOString()]):typeof t==\"boolean\"?i.push([s,t?\"1\":\"0\"]):typeof t==\"string\"?i.push([s,t]):typeof t==\"number\"?i.push([s,`${t}`]):t==null?i.push([s,\"\"]):e(t,s,i)}function p(i){var t,r;let s=(t=i==null?void 0:i.form)!=null?t:i.closest(\"form\");if(s){for(let n of s.elements)if(n!==i&&(n.tagName===\"INPUT\"&&n.type===\"submit\"||n.tagName===\"BUTTON\"&&n.type===\"submit\"||n.nodeName===\"INPUT\"&&n.type===\"image\")){n.click();return}(r=s.requestSubmit)==null||r.call(s)}}export{p as attemptSubmit,e as objectToFormEntries};\n","import{useVirtualizer as re}from\"@tanstack/vue-virtual\";import{cloneVNode as de,computed as m,defineComponent as H,Fragment as se,h as z,inject as ee,nextTick as N,onMounted as X,onUnmounted as fe,provide as te,reactive as ve,ref as k,toRaw as L,watch as J,watchEffect as Y}from\"vue\";import{useControllable as pe}from'../../hooks/use-controllable.js';import{useFrameDebounce as be}from'../../hooks/use-frame-debounce.js';import{useId as W}from'../../hooks/use-id.js';import{useOutsideClick as ce}from'../../hooks/use-outside-click.js';import{useResolveButtonType as me}from'../../hooks/use-resolve-button-type.js';import{useTrackedPointer as xe}from'../../hooks/use-tracked-pointer.js';import{useTreeWalker as ge}from'../../hooks/use-tree-walker.js';import{Features as Se,Hidden as Oe}from'../../internal/hidden.js';import{State as G,useOpenClosed as Ce,useOpenClosedProvider as Re}from'../../internal/open-closed.js';import{Keys as F}from'../../keyboard.js';import{MouseButton as ye}from'../../mouse.js';import{history as oe}from'../../utils/active-element-history.js';import{calculateActiveIndex as le,Focus as P}from'../../utils/calculate-active-index.js';import{disposables as ae}from'../../utils/disposables.js';import{dom as x}from'../../utils/dom.js';import{sortByDomNode as Te}from'../../utils/focus-management.js';import{objectToFormEntries as Ie}from'../../utils/form.js';import{match as _}from'../../utils/match.js';import{getOwnerDocument as he}from'../../utils/owner.js';import{isMobile as we}from'../../utils/platform.js';import{compact as Pe,Features as Q,omit as Z,render as U}from'../../utils/render.js';function De(a,h){return a===h}var Ee=(r=>(r[r.Open=0]=\"Open\",r[r.Closed=1]=\"Closed\",r))(Ee||{}),Ve=(r=>(r[r.Single=0]=\"Single\",r[r.Multi=1]=\"Multi\",r))(Ve||{}),ke=(y=>(y[y.Pointer=0]=\"Pointer\",y[y.Focus=1]=\"Focus\",y[y.Other=2]=\"Other\",y))(ke||{});let ne=Symbol(\"ComboboxContext\");function K(a){let h=ee(ne,null);if(h===null){let r=new Error(`<${a} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,K),r}return h}let ie=Symbol(\"VirtualContext\"),Ae=H({name:\"VirtualProvider\",setup(a,{slots:h}){let r=K(\"VirtualProvider\"),y=m(()=>{let c=x(r.optionsRef);if(!c)return{start:0,end:0};let f=window.getComputedStyle(c);return{start:parseFloat(f.paddingBlockStart||f.paddingTop),end:parseFloat(f.paddingBlockEnd||f.paddingBottom)}}),o=re(m(()=>({scrollPaddingStart:y.value.start,scrollPaddingEnd:y.value.end,count:r.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return x(r.optionsRef)},overscan:12}))),u=m(()=>{var c;return(c=r.virtual.value)==null?void 0:c.options}),e=k(0);return J([u],()=>{e.value+=1}),te(ie,r.virtual.value?o:null),()=>[z(\"div\",{style:{position:\"relative\",width:\"100%\",height:`${o.value.getTotalSize()}px`},ref:c=>{if(c){if(typeof process!=\"undefined\"&&process.env.JEST_WORKER_ID!==void 0||r.activationTrigger.value===0)return;r.activeOptionIndex.value!==null&&r.virtual.value.options.length>r.activeOptionIndex.value&&o.value.scrollToIndex(r.activeOptionIndex.value)}}},o.value.getVirtualItems().map(c=>de(h.default({option:r.virtual.value.options[c.index],open:r.comboboxState.value===0})[0],{key:`${e.value}-${c.index}`,\"data-index\":c.index,\"aria-setsize\":r.virtual.value.options.length,\"aria-posinset\":c.index+1,style:{position:\"absolute\",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:\"none\"}})))]}}),lt=H({name:\"Combobox\",emits:{\"update:modelValue\":a=>!0},props:{as:{type:[Object,String],default:\"template\"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(a,{slots:h,attrs:r,emit:y}){let o=k(1),u=k(null),e=k(null),c=k(null),f=k(null),S=k({static:!1,hold:!1}),v=k([]),d=k(null),D=k(2),E=k(!1);function w(t=n=>n){let n=d.value!==null?v.value[d.value]:null,s=t(v.value.slice()),b=s.length>0&&s[0].dataRef.order.value!==null?s.sort((C,A)=>C.dataRef.order.value-A.dataRef.order.value):Te(s,C=>x(C.dataRef.domRef)),O=n?b.indexOf(n):null;return O===-1&&(O=null),{options:b,activeOptionIndex:O}}let M=m(()=>a.multiple?1:0),$=m(()=>a.nullable),[B,p]=pe(m(()=>a.modelValue),t=>y(\"update:modelValue\",t),m(()=>a.defaultValue)),R=m(()=>B.value===void 0?_(M.value,{[1]:[],[0]:void 0}):B.value),V=null,i=null;function I(t){return _(M.value,{[0](){return p==null?void 0:p(t)},[1]:()=>{let n=L(l.value.value).slice(),s=L(t),b=n.findIndex(O=>l.compare(s,L(O)));return b===-1?n.push(s):n.splice(b,1),p==null?void 0:p(n)}})}let T=m(()=>{});J([T],([t],[n])=>{if(l.virtual.value&&t&&n&&d.value!==null){let s=t.indexOf(n[d.value]);s!==-1?d.value=s:d.value=null}});let l={comboboxState:o,value:R,mode:M,compare(t,n){if(typeof a.by==\"string\"){let s=a.by;return(t==null?void 0:t[s])===(n==null?void 0:n[s])}return a.by===null?De(t,n):a.by(t,n)},calculateIndex(t){return l.virtual.value?a.by===null?l.virtual.value.options.indexOf(t):l.virtual.value.options.findIndex(n=>l.compare(n,t)):v.value.findIndex(n=>l.compare(n.dataRef.value,t))},defaultValue:m(()=>a.defaultValue),nullable:$,immediate:m(()=>!1),virtual:m(()=>null),inputRef:e,labelRef:u,buttonRef:c,optionsRef:f,disabled:m(()=>a.disabled),options:v,change(t){p(t)},activeOptionIndex:m(()=>{if(E.value&&d.value===null&&(l.virtual.value?l.virtual.value.options.length>0:v.value.length>0)){if(l.virtual.value){let n=l.virtual.value.options.findIndex(s=>{var b;return!((b=l.virtual.value)!=null&&b.disabled(s))});if(n!==-1)return n}let t=v.value.findIndex(n=>!n.dataRef.disabled);if(t!==-1)return t}return d.value}),activationTrigger:D,optionsPropsRef:S,closeCombobox(){E.value=!1,!a.disabled&&o.value!==1&&(o.value=1,d.value=null)},openCombobox(){if(E.value=!0,!a.disabled&&o.value!==0){if(l.value.value){let t=l.calculateIndex(l.value.value);t!==-1&&(d.value=t)}o.value=0}},setActivationTrigger(t){D.value=t},goToOption(t,n,s){E.value=!1,V!==null&&cancelAnimationFrame(V),V=requestAnimationFrame(()=>{if(a.disabled||f.value&&!S.value.static&&o.value===1)return;if(l.virtual.value){d.value=t===P.Specific?n:le({focus:t},{resolveItems:()=>l.virtual.value.options,resolveActiveIndex:()=>{var C,A;return(A=(C=l.activeOptionIndex.value)!=null?C:l.virtual.value.options.findIndex(j=>{var q;return!((q=l.virtual.value)!=null&&q.disabled(j))}))!=null?A:null},resolveDisabled:C=>l.virtual.value.disabled(C),resolveId(){throw new Error(\"Function not implemented.\")}}),D.value=s!=null?s:2;return}let b=w();if(b.activeOptionIndex===null){let C=b.options.findIndex(A=>!A.dataRef.disabled);C!==-1&&(b.activeOptionIndex=C)}let O=t===P.Specific?n:le({focus:t},{resolveItems:()=>b.options,resolveActiveIndex:()=>b.activeOptionIndex,resolveId:C=>C.id,resolveDisabled:C=>C.dataRef.disabled});d.value=O,D.value=s!=null?s:2,v.value=b.options})},selectOption(t){let n=v.value.find(b=>b.id===t);if(!n)return;let{dataRef:s}=n;I(s.value)},selectActiveOption(){if(l.activeOptionIndex.value!==null){if(l.virtual.value)I(l.virtual.value.options[l.activeOptionIndex.value]);else{let{dataRef:t}=v.value[l.activeOptionIndex.value];I(t.value)}l.goToOption(P.Specific,l.activeOptionIndex.value)}},registerOption(t,n){let s=ve({id:t,dataRef:n});if(l.virtual.value){v.value.push(s);return}i&&cancelAnimationFrame(i);let b=w(O=>(O.push(s),O));d.value===null&&l.isSelected(n.value.value)&&(b.activeOptionIndex=b.options.indexOf(s)),v.value=b.options,d.value=b.activeOptionIndex,D.value=2,b.options.some(O=>!x(O.dataRef.domRef))&&(i=requestAnimationFrame(()=>{let O=w();v.value=O.options,d.value=O.activeOptionIndex}))},unregisterOption(t,n){if(V!==null&&cancelAnimationFrame(V),n&&(E.value=!0),l.virtual.value){v.value=v.value.filter(b=>b.id!==t);return}let s=w(b=>{let O=b.findIndex(C=>C.id===t);return O!==-1&&b.splice(O,1),b});v.value=s.options,d.value=s.activeOptionIndex,D.value=2},isSelected(t){return _(M.value,{[0]:()=>l.compare(L(l.value.value),L(t)),[1]:()=>L(l.value.value).some(n=>l.compare(L(n),L(t)))})},isActive(t){return d.value===l.calculateIndex(t)}};ce([e,c,f],()=>l.closeCombobox(),m(()=>o.value===0)),te(ne,l),Re(m(()=>_(o.value,{[0]:G.Open,[1]:G.Closed})));let g=m(()=>{var t;return(t=x(e))==null?void 0:t.closest(\"form\")});return X(()=>{J([g],()=>{if(!g.value||a.defaultValue===void 0)return;function t(){l.change(a.defaultValue)}return g.value.addEventListener(\"reset\",t),()=>{var n;(n=g.value)==null||n.removeEventListener(\"reset\",t)}},{immediate:!0})}),()=>{var C,A,j;let{name:t,disabled:n,form:s,...b}=a,O={open:o.value===0,disabled:n,activeIndex:l.activeOptionIndex.value,activeOption:l.activeOptionIndex.value===null?null:l.virtual.value?l.virtual.value.options[(C=l.activeOptionIndex.value)!=null?C:0]:(j=(A=l.options.value[l.activeOptionIndex.value])==null?void 0:A.dataRef.value)!=null?j:null,value:R.value};return z(se,[...t!=null&&R.value!=null?Ie({[t]:R.value}).map(([q,ue])=>z(Oe,Pe({features:Se.Hidden,key:q,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:s,disabled:n,name:q,value:ue}))):[],U({theirProps:{...r,...Z(b,[\"by\",\"defaultValue\",\"immediate\",\"modelValue\",\"multiple\",\"nullable\",\"onUpdate:modelValue\",\"virtual\"])},ourProps:{},slot:O,slots:h,attrs:r,name:\"Combobox\"})])}}}),at=H({name:\"ComboboxLabel\",props:{as:{type:[Object,String],default:\"label\"},id:{type:String,default:null}},setup(a,{attrs:h,slots:r}){var e;let y=(e=a.id)!=null?e:`headlessui-combobox-label-${W()}`,o=K(\"ComboboxLabel\");function u(){var c;(c=x(o.inputRef))==null||c.focus({preventScroll:!0})}return()=>{let c={open:o.comboboxState.value===0,disabled:o.disabled.value},{...f}=a,S={id:y,ref:o.labelRef,onClick:u};return U({ourProps:S,theirProps:f,slot:c,attrs:h,slots:r,name:\"ComboboxLabel\"})}}}),nt=H({name:\"ComboboxButton\",props:{as:{type:[Object,String],default:\"button\"},id:{type:String,default:null}},setup(a,{attrs:h,slots:r,expose:y}){var S;let o=(S=a.id)!=null?S:`headlessui-combobox-button-${W()}`,u=K(\"ComboboxButton\");y({el:u.buttonRef,$el:u.buttonRef});function e(v){u.disabled.value||(u.comboboxState.value===0?u.closeCombobox():(v.preventDefault(),u.openCombobox()),N(()=>{var d;return(d=x(u.inputRef))==null?void 0:d.focus({preventScroll:!0})}))}function c(v){switch(v.key){case F.ArrowDown:v.preventDefault(),v.stopPropagation(),u.comboboxState.value===1&&u.openCombobox(),N(()=>{var d;return(d=u.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case F.ArrowUp:v.preventDefault(),v.stopPropagation(),u.comboboxState.value===1&&(u.openCombobox(),N(()=>{u.value.value||u.goToOption(P.Last)})),N(()=>{var d;return(d=u.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case F.Escape:if(u.comboboxState.value!==0)return;v.preventDefault(),u.optionsRef.value&&!u.optionsPropsRef.value.static&&v.stopPropagation(),u.closeCombobox(),N(()=>{var d;return(d=u.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return}}let f=me(m(()=>({as:a.as,type:h.type})),u.buttonRef);return()=>{var E,w;let v={open:u.comboboxState.value===0,disabled:u.disabled.value,value:u.value.value},{...d}=a,D={ref:u.buttonRef,id:o,type:f.value,tabindex:\"-1\",\"aria-haspopup\":\"listbox\",\"aria-controls\":(E=x(u.optionsRef))==null?void 0:E.id,\"aria-expanded\":u.comboboxState.value===0,\"aria-labelledby\":u.labelRef.value?[(w=x(u.labelRef))==null?void 0:w.id,o].join(\" \"):void 0,disabled:u.disabled.value===!0?!0:void 0,onKeydown:c,onClick:e};return U({ourProps:D,theirProps:d,slot:v,attrs:h,slots:r,name:\"ComboboxButton\"})}}}),it=H({name:\"ComboboxInput\",props:{as:{type:[Object,String],default:\"input\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:a=>!0},setup(a,{emit:h,attrs:r,slots:y,expose:o}){var V;let u=(V=a.id)!=null?V:`headlessui-combobox-input-${W()}`,e=K(\"ComboboxInput\"),c=m(()=>he(x(e.inputRef))),f={value:!1};o({el:e.inputRef,$el:e.inputRef});function S(){e.change(null);let i=x(e.optionsRef);i&&(i.scrollTop=0),e.goToOption(P.Nothing)}let v=m(()=>{var I;let i=e.value.value;return x(e.inputRef)?typeof a.displayValue!=\"undefined\"&&i!==void 0?(I=a.displayValue(i))!=null?I:\"\":typeof i==\"string\"?i:\"\":\"\"});X(()=>{J([v,e.comboboxState,c],([i,I],[T,l])=>{if(f.value)return;let g=x(e.inputRef);g&&((l===0&&I===1||i!==T)&&(g.value=i),requestAnimationFrame(()=>{var s;if(f.value||!g||((s=c.value)==null?void 0:s.activeElement)!==g)return;let{selectionStart:t,selectionEnd:n}=g;Math.abs((n!=null?n:0)-(t!=null?t:0))===0&&t===0&&g.setSelectionRange(g.value.length,g.value.length)}))},{immediate:!0}),J([e.comboboxState],([i],[I])=>{if(i===0&&I===1){if(f.value)return;let T=x(e.inputRef);if(!T)return;let l=T.value,{selectionStart:g,selectionEnd:t,selectionDirection:n}=T;T.value=\"\",T.value=l,n!==null?T.setSelectionRange(g,t,n):T.setSelectionRange(g,t)}})});let d=k(!1);function D(){d.value=!0}function E(){ae().nextFrame(()=>{d.value=!1})}let w=be();function M(i){switch(f.value=!0,w(()=>{f.value=!1}),i.key){case F.Enter:if(f.value=!1,e.comboboxState.value!==0||d.value)return;if(i.preventDefault(),i.stopPropagation(),e.activeOptionIndex.value===null){e.closeCombobox();return}e.selectActiveOption(),e.mode.value===0&&e.closeCombobox();break;case F.ArrowDown:return f.value=!1,i.preventDefault(),i.stopPropagation(),_(e.comboboxState.value,{[0]:()=>e.goToOption(P.Next),[1]:()=>e.openCombobox()});case F.ArrowUp:return f.value=!1,i.preventDefault(),i.stopPropagation(),_(e.comboboxState.value,{[0]:()=>e.goToOption(P.Previous),[1]:()=>{e.openCombobox(),N(()=>{e.value.value||e.goToOption(P.Last)})}});case F.Home:if(i.shiftKey)break;return f.value=!1,i.preventDefault(),i.stopPropagation(),e.goToOption(P.First);case F.PageUp:return f.value=!1,i.preventDefault(),i.stopPropagation(),e.goToOption(P.First);case F.End:if(i.shiftKey)break;return f.value=!1,i.preventDefault(),i.stopPropagation(),e.goToOption(P.Last);case F.PageDown:return f.value=!1,i.preventDefault(),i.stopPropagation(),e.goToOption(P.Last);case F.Escape:if(f.value=!1,e.comboboxState.value!==0)return;i.preventDefault(),e.optionsRef.value&&!e.optionsPropsRef.value.static&&i.stopPropagation(),e.nullable.value&&e.mode.value===0&&e.value.value===null&&S(),e.closeCombobox();break;case F.Tab:if(f.value=!1,e.comboboxState.value!==0)return;e.mode.value===0&&e.activationTrigger.value!==1&&e.selectActiveOption(),e.closeCombobox();break}}function $(i){h(\"change\",i),e.nullable.value&&e.mode.value===0&&i.target.value===\"\"&&S(),e.openCombobox()}function B(i){var T,l,g;let I=(T=i.relatedTarget)!=null?T:oe.find(t=>t!==i.currentTarget);if(f.value=!1,!((l=x(e.optionsRef))!=null&&l.contains(I))&&!((g=x(e.buttonRef))!=null&&g.contains(I))&&e.comboboxState.value===0)return i.preventDefault(),e.mode.value===0&&(e.nullable.value&&e.value.value===null?S():e.activationTrigger.value!==1&&e.selectActiveOption()),e.closeCombobox()}function p(i){var T,l,g;let I=(T=i.relatedTarget)!=null?T:oe.find(t=>t!==i.currentTarget);(l=x(e.buttonRef))!=null&&l.contains(I)||(g=x(e.optionsRef))!=null&&g.contains(I)||e.disabled.value||e.immediate.value&&e.comboboxState.value!==0&&(e.openCombobox(),ae().nextFrame(()=>{e.setActivationTrigger(1)}))}let R=m(()=>{var i,I,T,l;return(l=(T=(I=a.defaultValue)!=null?I:e.defaultValue.value!==void 0?(i=a.displayValue)==null?void 0:i.call(a,e.defaultValue.value):null)!=null?T:e.defaultValue.value)!=null?l:\"\"});return()=>{var t,n,s,b,O,C,A;let i={open:e.comboboxState.value===0},{displayValue:I,onChange:T,...l}=a,g={\"aria-controls\":(t=e.optionsRef.value)==null?void 0:t.id,\"aria-expanded\":e.comboboxState.value===0,\"aria-activedescendant\":e.activeOptionIndex.value===null?void 0:e.virtual.value?(n=e.options.value.find(j=>!e.virtual.value.disabled(j.dataRef.value)&&e.compare(j.dataRef.value,e.virtual.value.options[e.activeOptionIndex.value])))==null?void 0:n.id:(s=e.options.value[e.activeOptionIndex.value])==null?void 0:s.id,\"aria-labelledby\":(C=(b=x(e.labelRef))==null?void 0:b.id)!=null?C:(O=x(e.buttonRef))==null?void 0:O.id,\"aria-autocomplete\":\"list\",id:u,onCompositionstart:D,onCompositionend:E,onKeydown:M,onInput:$,onFocus:p,onBlur:B,role:\"combobox\",type:(A=r.type)!=null?A:\"text\",tabIndex:0,ref:e.inputRef,defaultValue:R.value,disabled:e.disabled.value===!0?!0:void 0};return U({ourProps:g,theirProps:l,slot:i,attrs:r,slots:y,features:Q.RenderStrategy|Q.Static,name:\"ComboboxInput\"})}}}),ut=H({name:\"ComboboxOptions\",props:{as:{type:[Object,String],default:\"ul\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(a,{attrs:h,slots:r,expose:y}){let o=K(\"ComboboxOptions\"),u=`headlessui-combobox-options-${W()}`;y({el:o.optionsRef,$el:o.optionsRef}),Y(()=>{o.optionsPropsRef.value.static=a.static}),Y(()=>{o.optionsPropsRef.value.hold=a.hold});let e=Ce(),c=m(()=>e!==null?(e.value&G.Open)===G.Open:o.comboboxState.value===0);ge({container:m(()=>x(o.optionsRef)),enabled:m(()=>o.comboboxState.value===0),accept(S){return S.getAttribute(\"role\")===\"option\"?NodeFilter.FILTER_REJECT:S.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(S){S.setAttribute(\"role\",\"none\")}});function f(S){S.preventDefault()}return()=>{var D,E,w;let S={open:o.comboboxState.value===0},v={\"aria-labelledby\":(w=(D=x(o.labelRef))==null?void 0:D.id)!=null?w:(E=x(o.buttonRef))==null?void 0:E.id,id:u,ref:o.optionsRef,role:\"listbox\",\"aria-multiselectable\":o.mode.value===1?!0:void 0,onMousedown:f},d=Z(a,[\"hold\"]);return U({ourProps:v,theirProps:d,slot:S,attrs:h,slots:o.virtual.value&&o.comboboxState.value===0?{...r,default:()=>[z(Ae,{},r.default)]}:r,features:Q.RenderStrategy|Q.Static,visible:c.value,name:\"ComboboxOptions\"})}}}),rt=H({name:\"ComboboxOption\",props:{as:{type:[Object,String],default:\"li\"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(a,{slots:h,attrs:r,expose:y}){let o=K(\"ComboboxOption\"),u=`headlessui-combobox-option-${W()}`,e=k(null),c=m(()=>a.disabled);y({el:e,$el:e});let f=m(()=>{var p;return o.virtual.value?o.activeOptionIndex.value===o.calculateIndex(a.value):o.activeOptionIndex.value===null?!1:((p=o.options.value[o.activeOptionIndex.value])==null?void 0:p.id)===u}),S=m(()=>o.isSelected(a.value)),v=ee(ie,null),d=m(()=>({disabled:a.disabled,value:a.value,domRef:e,order:m(()=>a.order)}));X(()=>o.registerOption(u,d)),fe(()=>o.unregisterOption(u,f.value)),Y(()=>{let p=x(e);p&&(v==null||v.value.measureElement(p))}),Y(()=>{o.comboboxState.value===0&&f.value&&(o.virtual.value||o.activationTrigger.value!==0&&N(()=>{var p,R;return(R=(p=x(e))==null?void 0:p.scrollIntoView)==null?void 0:R.call(p,{block:\"nearest\"})}))});function D(p){p.preventDefault(),p.button===ye.Left&&(c.value||(o.selectOption(u),we()||requestAnimationFrame(()=>{var R;return(R=x(o.inputRef))==null?void 0:R.focus({preventScroll:!0})}),o.mode.value===0&&o.closeCombobox()))}function E(){var R;if(a.disabled||(R=o.virtual.value)!=null&&R.disabled(a.value))return o.goToOption(P.Nothing);let p=o.calculateIndex(a.value);o.goToOption(P.Specific,p)}let w=xe();function M(p){w.update(p)}function $(p){var V;if(!w.wasMoved(p)||a.disabled||(V=o.virtual.value)!=null&&V.disabled(a.value)||f.value)return;let R=o.calculateIndex(a.value);o.goToOption(P.Specific,R,0)}function B(p){var R;w.wasMoved(p)&&(a.disabled||(R=o.virtual.value)!=null&&R.disabled(a.value)||f.value&&(o.optionsPropsRef.value.hold||o.goToOption(P.Nothing)))}return()=>{let{disabled:p}=a,R={active:f.value,selected:S.value,disabled:p},V={id:u,ref:e,role:\"option\",tabIndex:p===!0?void 0:-1,\"aria-disabled\":p===!0?!0:void 0,\"aria-selected\":S.value,disabled:void 0,onMousedown:D,onFocus:E,onPointerenter:M,onMouseenter:M,onPointermove:$,onMousemove:$,onPointerleave:B,onMouseleave:B},i=Z(a,[\"order\",\"value\"]);return U({ourProps:V,theirProps:i,slot:R,attrs:r,slots:h,name:\"ComboboxOption\"})}}});export{lt as Combobox,nt as ComboboxButton,it as ComboboxInput,at as ComboboxLabel,rt as ComboboxOption,ut as ComboboxOptions};\n","import{computed as v,defineComponent as x,inject as L,onMounted as k,onUnmounted as C,provide as j,ref as y,unref as h}from\"vue\";import{useId as w}from'../../hooks/use-id.js';import{render as R}from'../../utils/render.js';let a=Symbol(\"LabelContext\");function d(){let t=L(a,null);if(t===null){let n=new Error(\"You used a <Label /> component, but it is not inside a parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(n,d),n}return t}function E({slot:t={},name:n=\"Label\",props:i={}}={}){let e=y([]);function o(r){return e.value.push(r),()=>{let l=e.value.indexOf(r);l!==-1&&e.value.splice(l,1)}}return j(a,{register:o,slot:t,name:n,props:i}),v(()=>e.value.length>0?e.value.join(\" \"):void 0)}let K=x({name:\"Label\",props:{as:{type:[Object,String],default:\"label\"},passive:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{slots:n,attrs:i}){var r;let e=(r=t.id)!=null?r:`headlessui-label-${w()}`,o=d();return k(()=>C(o.register(e))),()=>{let{name:l=\"Label\",slot:p={},props:c={}}=o,{passive:f,...s}=t,u={...Object.entries(c).reduce((b,[g,m])=>Object.assign(b,{[g]:h(m)}),{}),id:e};return f&&(delete u.onClick,delete u.htmlFor,delete s.onClick),R({ourProps:u,theirProps:s,slot:p,attrs:i,slots:n,name:l})}}});export{K as Label,E as useLabels};\n","import{computed as o,defineComponent as F,Fragment as _,h as C,inject as $,onMounted as D,onUnmounted as U,provide as W,ref as k,toRaw as y,watch as J}from\"vue\";import{useControllable as q}from'../../hooks/use-controllable.js';import{useId as x}from'../../hooks/use-id.js';import{useTreeWalker as Q}from'../../hooks/use-tree-walker.js';import{Features as X,Hidden as Y}from'../../internal/hidden.js';import{Keys as h}from'../../keyboard.js';import{dom as E}from'../../utils/dom.js';import{Focus as w,focusIn as I,FocusResult as P,sortByDomNode as Z}from'../../utils/focus-management.js';import{attemptSubmit as z,objectToFormEntries as ee}from'../../utils/form.js';import{getOwnerDocument as A}from'../../utils/owner.js';import{compact as te,omit as ae,render as B}from'../../utils/render.js';import{Description as ne,useDescriptions as V}from'../description/description.js';import{Label as re,useLabels as j}from'../label/label.js';function le(t,m){return t===m}let H=Symbol(\"RadioGroupContext\");function N(t){let m=$(H,null);if(m===null){let u=new Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,N),u}return m}let he=F({name:\"RadioGroup\",emits:{\"update:modelValue\":t=>!0},props:{as:{type:[Object,String],default:\"div\"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>le},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},id:{type:String,default:null}},inheritAttrs:!1,setup(t,{emit:m,attrs:u,slots:S,expose:g}){var O;let d=(O=t.id)!=null?O:`headlessui-radiogroup-${x()}`,p=k(null),l=k([]),R=j({name:\"RadioGroupLabel\"}),T=V({name:\"RadioGroupDescription\"});g({el:p,$el:p});let[f,G]=q(o(()=>t.modelValue),e=>m(\"update:modelValue\",e),o(()=>t.defaultValue)),s={options:l,value:f,disabled:o(()=>t.disabled),firstOption:o(()=>l.value.find(e=>!e.propsRef.disabled)),containsCheckedOption:o(()=>l.value.some(e=>s.compare(y(e.propsRef.value),y(t.modelValue)))),compare(e,a){if(typeof t.by==\"string\"){let n=t.by;return(e==null?void 0:e[n])===(a==null?void 0:a[n])}return t.by(e,a)},change(e){var n;if(t.disabled||s.compare(y(f.value),y(e)))return!1;let a=(n=l.value.find(i=>s.compare(y(i.propsRef.value),y(e))))==null?void 0:n.propsRef;return a!=null&&a.disabled?!1:(G(e),!0)},registerOption(e){l.value.push(e),l.value=Z(l.value,a=>a.element)},unregisterOption(e){let a=l.value.findIndex(n=>n.id===e);a!==-1&&l.value.splice(a,1)}};W(H,s),Q({container:o(()=>E(p)),accept(e){return e.getAttribute(\"role\")===\"radio\"?NodeFilter.FILTER_REJECT:e.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(e){e.setAttribute(\"role\",\"none\")}});function v(e){if(!p.value||!p.value.contains(e.target))return;let a=l.value.filter(n=>n.propsRef.disabled===!1).map(n=>n.element);switch(e.key){case h.Enter:z(e.currentTarget);break;case h.ArrowLeft:case h.ArrowUp:if(e.preventDefault(),e.stopPropagation(),I(a,w.Previous|w.WrapAround)===P.Success){let i=l.value.find(r=>{var c;return r.element===((c=A(p))==null?void 0:c.activeElement)});i&&s.change(i.propsRef.value)}break;case h.ArrowRight:case h.ArrowDown:if(e.preventDefault(),e.stopPropagation(),I(a,w.Next|w.WrapAround)===P.Success){let i=l.value.find(r=>{var c;return r.element===((c=A(r.element))==null?void 0:c.activeElement)});i&&s.change(i.propsRef.value)}break;case h.Space:{e.preventDefault(),e.stopPropagation();let n=l.value.find(i=>{var r;return i.element===((r=A(i.element))==null?void 0:r.activeElement)});n&&s.change(n.propsRef.value)}break}}let b=o(()=>{var e;return(e=E(p))==null?void 0:e.closest(\"form\")});return D(()=>{J([b],()=>{if(!b.value||t.defaultValue===void 0)return;function e(){s.change(t.defaultValue)}return b.value.addEventListener(\"reset\",e),()=>{var a;(a=b.value)==null||a.removeEventListener(\"reset\",e)}},{immediate:!0})}),()=>{let{disabled:e,name:a,form:n,...i}=t,r={ref:p,id:d,role:\"radiogroup\",\"aria-labelledby\":R.value,\"aria-describedby\":T.value,onKeydown:v};return C(_,[...a!=null&&f.value!=null?ee({[a]:f.value}).map(([c,L])=>C(Y,te({features:X.Hidden,key:c,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,form:n,disabled:e,name:c,value:L}))):[],B({ourProps:r,theirProps:{...u,...ae(i,[\"modelValue\",\"defaultValue\",\"by\"])},slot:{},attrs:u,slots:S,name:\"RadioGroup\"})])}}});var ie=(u=>(u[u.Empty=1]=\"Empty\",u[u.Active=2]=\"Active\",u))(ie||{});let Oe=F({name:\"RadioGroupOption\",props:{as:{type:[Object,String],default:\"div\"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{attrs:m,slots:u,expose:S}){var i;let g=(i=t.id)!=null?i:`headlessui-radiogroup-option-${x()}`,d=N(\"RadioGroupOption\"),p=j({name:\"RadioGroupLabel\"}),l=V({name:\"RadioGroupDescription\"}),R=k(null),T=o(()=>({value:t.value,disabled:t.disabled})),f=k(1);S({el:R,$el:R});let G=o(()=>E(R));D(()=>d.registerOption({id:g,element:G,propsRef:T})),U(()=>d.unregisterOption(g));let s=o(()=>{var r;return((r=d.firstOption.value)==null?void 0:r.id)===g}),v=o(()=>d.disabled.value||t.disabled),b=o(()=>d.compare(y(d.value.value),y(t.value))),O=o(()=>v.value?-1:b.value||!d.containsCheckedOption.value&&s.value?0:-1);function e(){var r;d.change(t.value)&&(f.value|=2,(r=E(R))==null||r.focus())}function a(){f.value|=2}function n(){f.value&=-3}return()=>{let{value:r,disabled:c,...L}=t,K={checked:b.value,disabled:v.value,active:Boolean(f.value&2)},M={id:g,ref:R,role:\"radio\",\"aria-checked\":b.value?\"true\":\"false\",\"aria-labelledby\":p.value,\"aria-describedby\":l.value,\"aria-disabled\":v.value?!0:void 0,tabIndex:O.value,onClick:v.value?void 0:e,onFocus:v.value?void 0:a,onBlur:v.value?void 0:n};return B({ourProps:M,theirProps:L,slot:K,attrs:m,slots:u,name:\"RadioGroupOption\"})}}}),ke=re,Ee=ne;export{he as RadioGroup,Ee as RadioGroupDescription,ke as RadioGroupLabel,Oe as RadioGroupOption};\n","import{computed as u,defineComponent as v,Fragment as H,h as S,inject as M,onMounted as I,provide as P,ref as w,watch as j}from\"vue\";import{useControllable as G}from'../../hooks/use-controllable.js';import{useId as V}from'../../hooks/use-id.js';import{useResolveButtonType as F}from'../../hooks/use-resolve-button-type.js';import{Features as O,Hidden as A}from'../../internal/hidden.js';import{Keys as g}from'../../keyboard.js';import{dom as N}from'../../utils/dom.js';import{attemptSubmit as $}from'../../utils/form.js';import{compact as U,omit as _,render as k}from'../../utils/render.js';import{Description as q,useDescriptions as z}from'../description/description.js';import{Label as J,useLabels as Q}from'../label/label.js';let C=Symbol(\"GroupContext\"),oe=v({name:\"SwitchGroup\",props:{as:{type:[Object,String],default:\"template\"}},setup(l,{slots:c,attrs:i}){let r=w(null),f=Q({name:\"SwitchLabel\",props:{htmlFor:u(()=>{var t;return(t=r.value)==null?void 0:t.id}),onClick(t){r.value&&(t.currentTarget.tagName===\"LABEL\"&&t.preventDefault(),r.value.click(),r.value.focus({preventScroll:!0}))}}}),p=z({name:\"SwitchDescription\"});return P(C,{switchRef:r,labelledby:f,describedby:p}),()=>k({theirProps:l,ourProps:{},slot:{},slots:c,attrs:i,name:\"SwitchGroup\"})}}),ue=v({name:\"Switch\",emits:{\"update:modelValue\":l=>!0},props:{as:{type:[Object,String],default:\"button\"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(l,{emit:c,attrs:i,slots:r,expose:f}){var h;let p=(h=l.id)!=null?h:`headlessui-switch-${V()}`,n=M(C,null),[t,s]=G(u(()=>l.modelValue),e=>c(\"update:modelValue\",e),u(()=>l.defaultChecked));function m(){s(!t.value)}let E=w(null),o=n===null?E:n.switchRef,L=F(u(()=>({as:l.as,type:i.type})),o);f({el:o,$el:o});function D(e){e.preventDefault(),m()}function R(e){e.key===g.Space?(e.preventDefault(),m()):e.key===g.Enter&&$(e.currentTarget)}function x(e){e.preventDefault()}let d=u(()=>{var e,a;return(a=(e=N(o))==null?void 0:e.closest)==null?void 0:a.call(e,\"form\")});return I(()=>{j([d],()=>{if(!d.value||l.defaultChecked===void 0)return;function e(){s(l.defaultChecked)}return d.value.addEventListener(\"reset\",e),()=>{var a;(a=d.value)==null||a.removeEventListener(\"reset\",e)}},{immediate:!0})}),()=>{let{name:e,value:a,form:K,tabIndex:y,...b}=l,T={checked:t.value},B={id:p,ref:o,role:\"switch\",type:L.value,tabIndex:y===-1?0:y,\"aria-checked\":t.value,\"aria-labelledby\":n==null?void 0:n.labelledby.value,\"aria-describedby\":n==null?void 0:n.describedby.value,onClick:D,onKeyup:R,onKeypress:x};return S(H,[e!=null&&t.value!=null?S(A,U({features:O.Hidden,as:\"input\",type:\"checkbox\",hidden:!0,readOnly:!0,checked:t.value,form:K,disabled:b.disabled,name:e,value:a})):null,k({ourProps:B,theirProps:{...i,..._(b,[\"modelValue\",\"defaultChecked\"])},slot:T,attrs:i,slots:r,name:\"Switch\"})])}}}),de=J,ce=q;export{ue as Switch,ce as SwitchDescription,oe as SwitchGroup,de as SwitchLabel};\n","<template>\n  <div ref=\"reference\">\n    <div\n      ref=\"target\"\n      :class=\"['flex', $attrs.class]\"\n      @click=\"updatePosition\"\n      @focusin=\"updatePosition\"\n      @keydown=\"updatePosition\"\n      @mouseover=\"onMouseover\"\n      @mouseleave=\"onMouseleave\"\n    >\n      <slot\n        name=\"target\"\n        v-bind=\"{ togglePopover, updatePosition, open, close, isOpen }\"\n      />\n    </div>\n    <teleport to=\"#frappeui-popper-root\">\n      <div\n        ref=\"popover\"\n        class=\"relative z-[100]\"\n        :class=\"[popoverContainerClass, popoverClass]\"\n        :style=\"{ minWidth: targetWidth ? targetWidth + 'px' : null }\"\n        @mouseover=\"pointerOverTargetOrPopup = true\"\n        @mouseleave=\"onMouseleave\"\n      >\n        <transition v-bind=\"popupTransition\">\n          <div v-show=\"isOpen\">\n            <slot\n              name=\"body\"\n              v-bind=\"{ togglePopover, updatePosition, open, close, isOpen }\"\n            >\n              <div class=\"rounded-lg border bg-surface-modal shadow-xl\">\n                <slot\n                  name=\"body-main\"\n                  v-bind=\"{\n                    togglePopover,\n                    updatePosition,\n                    open,\n                    close,\n                    isOpen,\n                  }\"\n                />\n              </div>\n            </slot>\n          </div>\n        </transition>\n      </div>\n    </teleport>\n  </div>\n</template>\n\n<script>\nimport { createPopper } from '@popperjs/core'\n\nexport default {\n  name: 'Popover',\n  inheritAttrs: false,\n  props: {\n    show: {\n      default: undefined,\n    },\n    trigger: {\n      type: String,\n      default: 'click', // click, hover\n    },\n    hoverDelay: {\n      type: Number,\n      default: 0,\n    },\n    leaveDelay: {\n      type: Number,\n      default: 0,\n    },\n    placement: {\n      type: String,\n      default: 'bottom-start',\n    },\n    popoverClass: [String, Object, Array],\n    transition: {\n      default: null,\n    },\n    hideOnBlur: {\n      default: true,\n    },\n  },\n  emits: ['open', 'close', 'update:show'],\n  expose: ['open', 'close'],\n  data() {\n    return {\n      popoverContainerClass: 'body-container',\n      showPopup: false,\n      targetWidth: null,\n      pointerOverTargetOrPopup: false,\n    }\n  },\n  watch: {\n    show(val) {\n      if (val) {\n        this.open()\n      } else {\n        this.close()\n      }\n    },\n  },\n  created() {\n    if (typeof window === 'undefined') return\n    if (!document.getElementById('frappeui-popper-root')) {\n      const root = document.createElement('div')\n      root.id = 'frappeui-popper-root'\n      document.body.appendChild(root)\n    }\n  },\n  mounted() {\n    this.listener = (e) => {\n      const clickedElement = e.target\n      const reference = this.$refs.reference\n      const popoverBody = this.$refs.popover\n      const insideClick =\n        clickedElement === reference ||\n        clickedElement === popoverBody ||\n        reference?.contains(clickedElement) ||\n        popoverBody?.contains(clickedElement)\n      if (insideClick) {\n        return\n      }\n\n      const root = document.getElementById('frappeui-popper-root')\n      const insidePopoverRoot = root.contains(clickedElement)\n      if (!insidePopoverRoot) {\n        return this.close()\n      }\n\n      const bodyClass = `.${this.popoverContainerClass}`\n      const clickedElementBody = clickedElement?.closest(bodyClass)\n      const currentPopoverBody = reference?.closest(bodyClass)\n      const isSiblingClicked =\n        clickedElementBody &&\n        currentPopoverBody &&\n        clickedElementBody === currentPopoverBody\n\n      if (isSiblingClicked) {\n        this.close()\n      }\n    }\n    if (this.hideOnBlur) {\n      document.addEventListener('click', this.listener)\n      // https://github.com/tailwindlabs/headlessui/issues/834#issuecomment-1030907894\n      document.addEventListener('mousedown', this.listener)\n    }\n    this.$nextTick(() => {\n      this.targetWidth = this.$refs['target'].clientWidth\n    })\n  },\n  beforeDestroy() {\n    this.popper && this.popper.destroy()\n    document.removeEventListener('click', this.listener)\n    document.removeEventListener('mousedown', this.listener)\n  },\n  computed: {\n    showPropPassed() {\n      return this.show != null\n    },\n    isOpen: {\n      get() {\n        if (this.showPropPassed) {\n          return this.show\n        }\n        return this.showPopup\n      },\n      set(val) {\n        val = Boolean(val)\n        if (this.showPropPassed) {\n          this.$emit('update:show', val)\n        } else {\n          this.showPopup = val\n        }\n        if (val === false) {\n          this.$emit('close')\n        } else if (val === true) {\n          this.$emit('open')\n        }\n      },\n    },\n    popupTransition() {\n      let templates = {\n        default: {\n          enterActiveClass: 'transition duration-150 ease-out',\n          enterFromClass: 'translate-y-1 opacity-0',\n          enterToClass: 'translate-y-0 opacity-100',\n          leaveActiveClass: 'transition duration-150 ease-in',\n          leaveFromClass: 'translate-y-0 opacity-100',\n          leaveToClass: 'translate-y-1 opacity-0',\n        },\n      }\n      if (typeof this.transition === 'string') {\n        return templates[this.transition]\n      }\n      return this.transition\n    },\n  },\n  methods: {\n    setupPopper() {\n      if (!this.popper) {\n        this.popper = createPopper(this.$refs.reference, this.$refs.popover, {\n          placement: this.placement,\n        })\n      } else {\n        this.updatePosition()\n      }\n    },\n    updatePosition() {\n      this.popper && this.popper.update()\n    },\n    togglePopover(flag) {\n      if (flag instanceof Event) {\n        flag = null\n      }\n      if (flag == null) {\n        flag = !this.isOpen\n      }\n      flag = Boolean(flag)\n      if (flag) {\n        this.open()\n      } else {\n        this.close()\n      }\n    },\n    open() {\n      this.isOpen = true\n      this.$nextTick(() => this.setupPopper())\n    },\n    close() {\n      this.isOpen = false\n    },\n    onMouseover() {\n      this.pointerOverTargetOrPopup = true\n      if (this.leaveTimer) {\n        clearTimeout(this.leaveTimer)\n        this.leaveTimer = null\n      }\n      if (this.trigger === 'hover') {\n        if (this.hoverDelay) {\n          this.hoverTimer = setTimeout(\n            () => {\n              if (this.pointerOverTargetOrPopup) {\n                this.open()\n              }\n            },\n            Number(this.hoverDelay) * 1000,\n          )\n        } else {\n          this.open()\n        }\n      }\n    },\n    onMouseleave(e) {\n      this.pointerOverTargetOrPopup = false\n      if (this.hoverTimer) {\n        clearTimeout(this.hoverTimer)\n        this.hoverTimer = null\n      }\n      if (this.trigger === 'hover') {\n        if (this.leaveTimer) {\n          clearTimeout(this.leaveTimer)\n        }\n        if (this.leaveDelay) {\n          this.leaveTimer = setTimeout(\n            () => {\n              if (!this.pointerOverTargetOrPopup) {\n                this.close()\n              }\n            },\n            Number(this.leaveDelay) * 1000,\n          )\n        } else {\n          if (!this.pointerOverTargetOrPopup) {\n            this.close()\n          }\n        }\n      }\n    },\n  },\n}\n</script>\n","<template>\n  <Combobox\n    v-model=\"selectedValue\"\n    :multiple=\"multiple\"\n    nullable\n    :by=\"compareFn\"\n    v-slot=\"{ open: isComboboxOpen }\"\n  >\n    <Popover\n      class=\"w-full\"\n      v-model:show=\"showOptions\"\n      ref=\"rootRef\"\n      :placement=\"placement\"\n    >\n      <template\n        #target=\"{ open: openPopover, togglePopover, close: closePopover }\"\n      >\n        <slot\n          name=\"target\"\n          v-bind=\"{\n            open: openPopover,\n            close: closePopover,\n            togglePopover,\n            isOpen: isComboboxOpen,\n          }\"\n        >\n          <div class=\"w-full space-y-1.5\">\n            <label v-if=\"props.label\" class=\"block text-xs text-ink-gray-5\">\n              {{ props.label }}\n            </label>\n            <button\n              class=\"flex h-7 w-full items-center justify-between gap-2 rounded bg-surface-gray-2 px-2 py-1 transition-colors hover:bg-surface-gray-3 border border-transparent focus:border-outline-gray-4 focus:outline-none focus:ring-2 focus:ring-outline-gray-3\"\n              :class=\"{ 'bg-surface-gray-3': isComboboxOpen }\"\n              @click=\"() => togglePopover()\"\n            >\n              <div class=\"flex items-center overflow-hidden\">\n                <slot name=\"prefix\" />\n                <span\n                  class=\"truncate text-base leading-5 text-ink-gray-8\"\n                  v-if=\"displayValue\"\n                >\n                  {{ displayValue }}\n                </span>\n                <span class=\"text-base leading-5 text-ink-gray-4\" v-else>\n                  {{ placeholder || '' }}\n                </span>\n                <slot name=\"suffix\" />\n              </div>\n              <FeatherIcon\n                name=\"chevron-down\"\n                class=\"h-4 w-4 text-ink-gray-5\"\n                aria-hidden=\"true\"\n              />\n            </button>\n          </div>\n        </slot>\n      </template>\n      <template #body=\"{ isOpen, togglePopover }\">\n        <div v-show=\"isOpen\">\n          <div\n            class=\"relative mt-1 rounded-lg bg-surface-modal text-base shadow-2xl\"\n            :class=\"bodyClasses\"\n          >\n            <ComboboxOptions\n              class=\"max-h-[15rem] overflow-y-auto px-1.5 pb-1.5\"\n              :class=\"{ 'pt-1.5': hideSearch }\"\n              static\n            >\n              <div\n                v-if=\"!hideSearch\"\n                class=\"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-surface-modal py-1.5\"\n              >\n                <div class=\"relative w-full\">\n                  <ComboboxInput\n                    ref=\"searchInput\"\n                    class=\"form-input w-full focus:bg-surface-gray-3 hover:bg-surface-gray-4 text-ink-gray-8\"\n                    type=\"text\"\n                    :value=\"query\"\n                    @change=\"query = $event.target.value\"\n                    autocomplete=\"off\"\n                    placeholder=\"Search\"\n                  />\n                  <div\n                    class=\"absolute right-0 inline-flex h-7 w-7 items-center justify-center\"\n                  >\n                    <LoadingIndicator\n                      v-if=\"props.loading\"\n                      class=\"h-4 w-4 text-ink-gray-5\"\n                    />\n                    <button v-else @click=\"clearAll\">\n                      <FeatherIcon name=\"x\" class=\"w-4 text-ink-gray-8\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n              <div\n                v-for=\"group in groups\"\n                :key=\"group.key\"\n                v-show=\"group.items.length > 0\"\n              >\n                <div\n                  v-if=\"group.group && !group.hideLabel\"\n                  class=\"sticky top-10 truncate bg-surface-modal px-2.5 py-1.5 text-sm font-medium text-ink-gray-5\"\n                >\n                  {{ group.group }}\n                </div>\n                <ComboboxOption\n                  as=\"template\"\n                  v-for=\"(option, idx) in group.items.slice(\n                    0,\n                    props.maxOptions,\n                  )\"\n                  :key=\"idx\"\n                  :value=\"option\"\n                  :disabled=\"option.disabled\"\n                  v-slot=\"{ active, selected }\"\n                >\n                  <li\n                    :class=\"[\n                      'flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base',\n                      {\n                        'bg-surface-gray-3': active,\n                        'opacity-50': option.disabled,\n                      },\n                    ]\"\n                  >\n                    <div class=\"flex flex-1 gap-2 overflow-hidden items-center\">\n                      <div\n                        v-if=\"$slots['item-prefix'] || props.multiple\"\n                        class=\"flex flex-shrink-0\"\n                      >\n                        <slot\n                          name=\"item-prefix\"\n                          v-bind=\"{ active, selected, option }\"\n                        >\n                          <FeatherIcon\n                            name=\"check\"\n                            v-if=\"isOptionSelected(option)\"\n                            class=\"h-4 w-4 text-ink-gray-7\"\n                          />\n                          <div v-else class=\"h-4 w-4\" />\n                        </slot>\n                      </div>\n                      <span class=\"flex-1 truncate text-ink-gray-7\">\n                        {{ getLabel(option) }}\n                      </span>\n                    </div>\n\n                    <div\n                      v-if=\"$slots['item-suffix'] || option?.description\"\n                      class=\"ml-2 flex-shrink-0\"\n                    >\n                      <slot\n                        name=\"item-suffix\"\n                        v-bind=\"{ active, selected, option }\"\n                      >\n                        <div\n                          v-if=\"option?.description\"\n                          class=\"text-sm text-ink-gray-5\"\n                        >\n                          {{ option.description }}\n                        </div>\n                      </slot>\n                    </div>\n                  </li>\n                </ComboboxOption>\n              </div>\n              <li\n                v-if=\"groups.length == 0\"\n                class=\"rounded-md px-2.5 py-1.5 text-base text-ink-gray-5\"\n              >\n                No results found\n              </li>\n            </ComboboxOptions>\n\n            <div\n              v-if=\"$slots.footer || props.showFooter || multiple\"\n              class=\"border-t p-1\"\n            >\n              <slot name=\"footer\" v-bind=\"{ togglePopover }\">\n                <div v-if=\"multiple\" class=\"flex items-center justify-end\">\n                  <Button\n                    v-if=\"!areAllOptionsSelected\"\n                    label=\"Select All\"\n                    @click.stop=\"selectAll\"\n                  />\n                  <Button\n                    v-if=\"areAllOptionsSelected\"\n                    label=\"Clear All\"\n                    @click.stop=\"clearAll\"\n                  />\n                </div>\n                <div v-else class=\"flex items-center justify-end\">\n                  <Button label=\"Clear\" @click.stop=\"clearAll\" />\n                </div>\n              </slot>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Combobox>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from '@headlessui/vue'\nimport { computed, nextTick, ref, watch } from 'vue'\nimport { Popover } from '../Popover'\nimport { Button } from '../Button'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport LoadingIndicator from '../LoadingIndicator.vue'\nimport type {\n  AutocompleteOptionGroup,\n  AutocompleteOption,\n  AutocompleteProps,\n  Option,\n} from './types'\n\nconst props = withDefaults(defineProps<AutocompleteProps>(), {\n  multiple: false,\n  maxOptions: 50,\n  hideSearch: false,\n  compareFn: (a, b) => a.value === b.value,\n})\nconst emit = defineEmits(['update:modelValue', 'update:query', 'change'])\n\nconst searchInput = ref()\nconst showOptions = ref(false)\nconst query = ref('')\n\nconst groups = computed(() => {\n  if (!props.options?.length) return []\n\n  let groups: AutocompleteOptionGroup[]\n  if (isOptionGroup(props.options[0])) {\n    groups = props.options as AutocompleteOptionGroup[]\n  } else {\n    groups = [\n      {\n        group: '',\n        items: sanitizeOptions(props.options as AutocompleteOption[]),\n        hideLabel: false,\n      },\n    ]\n  }\n\n  return groups\n    .map((group, i) => {\n      return {\n        key: i,\n        group: group.group,\n        hideLabel: group.hideLabel,\n        items: filterOptions(sanitizeOptions(group.items || [])),\n      }\n    })\n    .filter((group) => group.items.length > 0)\n})\n\nconst allOptions = computed(() => {\n  return groups.value.flatMap((group) => group.items)\n})\n\nconst sanitizeOptions = (options: AutocompleteOption[]) => {\n  if (!options) return []\n  // in case the options are just values, convert them to objects\n  return options.map((option) => {\n    return isOption(option)\n      ? option\n      : { label: option.toString(), value: option }\n  })\n}\n\nconst filterOptions = (options: Option[]) => {\n  if (!query.value) return options\n  return options.filter((option) => {\n    return (\n      option.label.toLowerCase().includes(query.value.trim().toLowerCase()) ||\n      option.value\n        .toString()\n        .toLowerCase()\n        .includes(query.value.trim().toLowerCase())\n    )\n  })\n}\n\nconst selectedValue = computed({\n  get() {\n    if (!props.multiple) {\n      return (\n        findOption(props.modelValue as AutocompleteOption) ||\n        // if the modelValue is not found in the option list\n        // return the modelValue as is\n        makeOption(props.modelValue as AutocompleteOption)\n      )\n    }\n    // in case of `multiple`, modelValue is an array of values\n    // if the modelValue is a list of values, convert them to options\n    const values = (props.modelValue || []) as AutocompleteOption[]\n    return isOption(values[0])\n      ? values\n      : values.map((v) => findOption(v) || makeOption(v))\n  },\n  set(val) {\n    query.value = ''\n    if (val && !props.multiple) showOptions.value = false\n    if (!props.multiple) {\n      emit('update:modelValue', val)\n      return\n    }\n    emit('update:modelValue', val)\n  },\n})\n\nconst findOption = (option: AutocompleteOption) => {\n  if (!option) return option\n  const value = isOption(option) ? option.value : option\n  return allOptions.value.find((o) => o.value === value)\n}\n\nconst makeOption = (option: AutocompleteOption) => {\n  return isOption(option) ? option : { label: option, value: option }\n}\n\nconst getLabel = (option: AutocompleteOption) => {\n  if (isOption(option)) {\n    return option?.label || option?.value\n  }\n  return option\n}\n\nconst displayValue = computed(() => {\n  if (!selectedValue.value) return ''\n  if (!props.multiple) {\n    return getLabel(selectedValue.value as AutocompleteOption)\n  }\n  return (selectedValue.value as AutocompleteOption[])\n    .map((v) => getLabel(v))\n    .join(', ')\n})\n\nconst isOptionSelected = (option: AutocompleteOption) => {\n  if (!selectedValue.value) return false\n  const value = isOption(option) ? option.value : option\n  if (!props.multiple) {\n    return selectedValue.value === value\n  }\n  return (selectedValue.value as AutocompleteOption[]).find((v) =>\n    isOption(v) ? v.value === value : v === value,\n  )\n}\n\nconst areAllOptionsSelected = computed(() => {\n  if (!props.multiple) return false\n  return (\n    allOptions.value.length ===\n    (selectedValue.value as AutocompleteOption[])?.length\n  )\n})\n\nconst selectAll = () => {\n  selectedValue.value = allOptions.value\n}\n\nconst clearAll = () => {\n  selectedValue.value = props.multiple ? [] : undefined\n}\n\nconst isOption = (option: AutocompleteOption) => {\n  return typeof option === 'object'\n}\n\nconst isOptionGroup = (option: any) => {\n  return typeof option === 'object' && 'items' in option && 'group' in option\n}\n\nwatch(\n  () => query.value,\n  () => {\n    emit('update:query', query.value)\n  },\n)\n\nwatch(\n  () => showOptions.value,\n  () => {\n    if (showOptions.value) {\n      nextTick(() => searchInput.value?.$el.focus())\n    }\n  },\n)\n\nconst rootRef = ref()\n\nconst togglePopover = () => {\n  showOptions.value = !showOptions.value\n}\n\ndefineExpose({\n  rootRef,\n  togglePopover,\n})\n</script>\n","<template>\n  <div\n    class=\"inline-flex select-none items-center gap-1 rounded-full\"\n    :class=\"classes\"\n  >\n    <div\n      :class=\"[props.size == 'lg' ? 'max-h-6' : 'max-h-4']\"\n      v-if=\"$slots.prefix\"\n    >\n      <slot name=\"prefix\"></slot>\n    </div>\n    <slot>{{ props.label?.toString() }}</slot>\n    <div\n      :class=\"[props.size == 'lg' ? 'max-h-6' : 'max-h-4']\"\n      v-if=\"$slots.suffix\"\n    >\n      <slot name=\"suffix\"></slot>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport type { BadgeProps } from './types'\n\nconst props = withDefaults(defineProps<BadgeProps>(), {\n  theme: 'gray',\n  size: 'md',\n  variant: 'subtle',\n})\n\nconst classes = computed(() => {\n  let solidClasses = {\n    gray: 'text-ink-white bg-surface-gray-7',\n    blue: 'text-ink-blue-1 bg-surface-blue-2',\n    green: 'text-ink-green-1 bg-surface-green-3',\n    orange: 'text-ink-amber-1 bg-surface-amber-2',\n    red: 'text-ink-red-1 bg-surface-red-4',\n  }[props.theme]\n\n  let subtleClasses = {\n    gray: 'text-ink-gray-6 bg-surface-gray-2',\n    blue: 'text-ink-blue-2 bg-surface-blue-1',\n    green: 'text-ink-green-3 bg-surface-green-2',\n    orange: 'text-ink-amber-3 bg-surface-amber-1',\n    red: 'text-ink-red-4 bg-surface-red-1',\n  }[props.theme]\n\n  let outlineClasses = {\n    gray: 'text-ink-gray-6 bg-transparent border border-outline-gray-1',\n    blue: 'text-ink-blue-2 bg-transparent border border-outline-blue-1',\n    green: 'text-ink-green-3 bg-transparent border border-outline-green-2',\n    orange: 'text-ink-amber-3 bg-transparent border border-outline-amber-2',\n    red: 'text-ink-red-4 bg-transparent border border-outline-red-2',\n  }[props.theme]\n\n  let ghostClasses = {\n    gray: 'text-ink-gray-6 bg-transparent',\n    blue: 'text-ink-blue-2 bg-transparent',\n    green: 'text-ink-green-3 bg-transparent',\n    orange: 'text-ink-amber-3 bg-transparent',\n    red: 'text-ink-red-4 bg-transparent',\n  }[props.theme]\n\n  let variantClasses = {\n    subtle: subtleClasses,\n    solid: solidClasses,\n    outline: outlineClasses,\n    ghost: ghostClasses,\n  }[props.variant]\n\n  let sizeClasses = {\n    sm: 'h-4 text-xs px-1.5',\n    md: 'h-5 text-xs px-1.5',\n    lg: 'h-6 text-sm px-2',\n  }[props.size]\n\n  return [variantClasses, sizeClasses]\n})\n</script>\n","import { ref, computed } from 'vue';\nimport { i as injectConfigProviderContext } from '../ConfigProvider/ConfigProvider.js';\n\nfunction useDirection(dir) {\n  const context = injectConfigProviderContext({\n    dir: ref(\"ltr\")\n  });\n  return computed(() => dir?.value || context.dir?.value || \"ltr\");\n}\n\nexport { useDirection as u };\n//# sourceMappingURL=useDirection.js.map\n","const ignoredElement = [\"INPUT\", \"TEXTAREA\"];\nfunction useArrowNavigation(e, currentElement, parentElement, options = {}) {\n  if (!currentElement || options.enableIgnoredElement && ignoredElement.includes(currentElement.nodeName))\n    return null;\n  const {\n    arrowKeyOptions = \"both\",\n    attributeName = \"[data-reka-collection-item]\",\n    itemsArray = [],\n    loop = true,\n    dir = \"ltr\",\n    preventScroll = true,\n    focus = false\n  } = options;\n  const [right, left, up, down, home, end] = [\n    e.key === \"ArrowRight\",\n    e.key === \"ArrowLeft\",\n    e.key === \"ArrowUp\",\n    e.key === \"ArrowDown\",\n    e.key === \"Home\",\n    e.key === \"End\"\n  ];\n  const goingVertical = up || down;\n  const goingHorizontal = right || left;\n  if (!home && !end && (!goingVertical && !goingHorizontal || arrowKeyOptions === \"vertical\" && goingHorizontal || arrowKeyOptions === \"horizontal\" && goingVertical)) {\n    return null;\n  }\n  const allCollectionItems = parentElement ? Array.from(parentElement.querySelectorAll(attributeName)) : itemsArray;\n  if (!allCollectionItems.length)\n    return null;\n  if (preventScroll)\n    e.preventDefault();\n  let item = null;\n  if (goingHorizontal || goingVertical) {\n    const goForward = goingVertical ? down : dir === \"ltr\" ? right : left;\n    item = findNextFocusableElement(allCollectionItems, currentElement, {\n      goForward,\n      loop\n    });\n  } else if (home) {\n    item = allCollectionItems.at(0) || null;\n  } else if (end) {\n    item = allCollectionItems.at(-1) || null;\n  }\n  if (focus)\n    item?.focus();\n  return item;\n}\nfunction findNextFocusableElement(elements, currentElement, options, iterations = elements.length) {\n  if (--iterations === 0)\n    return null;\n  const index = elements.indexOf(currentElement);\n  const newIndex = options.goForward ? index + 1 : index - 1;\n  if (!options.loop && (newIndex < 0 || newIndex >= elements.length))\n    return null;\n  const adjustedNewIndex = (newIndex + elements.length) % elements.length;\n  const candidate = elements[adjustedNewIndex];\n  if (!candidate)\n    return null;\n  const isDisabled = candidate.hasAttribute(\"disabled\") && candidate.getAttribute(\"disabled\") !== \"false\";\n  if (isDisabled) {\n    return findNextFocusableElement(\n      elements,\n      candidate,\n      options,\n      iterations\n    );\n  }\n  return candidate;\n}\n\nexport { useArrowNavigation as u };\n//# sourceMappingURL=useArrowNavigation.js.map\n","import { g as getActiveElement } from '../shared/getActiveElement.js';\n\nconst ITEM_SELECT = \"menu.itemSelect\";\nconst SELECTION_KEYS = [\"Enter\", \" \"];\nconst FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nconst LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nconst FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nconst SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nconst SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = getActiveElement();\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT)\n      return;\n    candidate.focus();\n    if (getActiveElement() !== PREVIOUSLY_FOCUSED_ELEMENT)\n      return;\n  }\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect)\n      inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area)\n    return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction isMouseEvent(event) {\n  return event.pointerType === \"mouse\";\n}\n\nexport { FIRST_LAST_KEYS as F, ITEM_SELECT as I, LAST_KEYS as L, SELECTION_KEYS as S, getCheckedState as a, isPointerInGraceArea as b, isMouseEvent as c, SUB_CLOSE_KEYS as d, SUB_OPEN_KEYS as e, focusFirst as f, getOpenState as g, isIndeterminate as i };\n//# sourceMappingURL=utils.js.map\n","import { createGlobalState } from '@vueuse/core';\nimport { ref } from 'vue';\n\nconst useFocusStackState = createGlobalState(() => {\n  const stack = ref([]);\n  return stack;\n});\nfunction createFocusScopesStack() {\n  const stack = useFocusStackState();\n  return {\n    add(focusScope) {\n      const activeFocusScope = stack.value[0];\n      if (focusScope !== activeFocusScope)\n        activeFocusScope?.pause();\n      stack.value = arrayRemove(stack.value, focusScope);\n      stack.value.unshift(focusScope);\n    },\n    remove(focusScope) {\n      stack.value = arrayRemove(stack.value, focusScope);\n      stack.value[0]?.resume();\n    }\n  };\n}\nfunction arrayRemove(array, item) {\n  const updatedArray = [...array];\n  const index = updatedArray.indexOf(item);\n  if (index !== -1)\n    updatedArray.splice(index, 1);\n  return updatedArray;\n}\nfunction removeLinks(items) {\n  return items.filter((item) => item.tagName !== \"A\");\n}\n\nexport { createFocusScopesStack as c, removeLinks as r };\n//# sourceMappingURL=stack.js.map\n","import { defineComponent, ref, reactive, watchEffect, nextTick, createBlock, openBlock, unref, withCtx, renderSlot } from 'vue';\nimport { isClient } from '@vueuse/shared';\nimport { c as createFocusScopesStack, r as removeLinks } from './stack.js';\nimport { A as AUTOFOCUS_ON_MOUNT, f as focusFirst, g as getTabbableCandidates, a as focus, b as AUTOFOCUS_ON_UNMOUNT, E as EVENT_OPTIONS, c as getTabbableEdges } from './utils.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { g as getActiveElement } from '../shared/getActiveElement.js';\nimport { P as Primitive } from '../Primitive/Primitive.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"FocusScope\",\n  props: {\n    loop: { type: Boolean, default: false },\n    trapped: { type: Boolean, default: false },\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"mountAutoFocus\", \"unmountAutoFocus\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const { currentRef, currentElement } = useForwardExpose();\n    const lastFocusedElementRef = ref(null);\n    const focusScopesStack = createFocusScopesStack();\n    const focusScope = reactive({\n      paused: false,\n      pause() {\n        this.paused = true;\n      },\n      resume() {\n        this.paused = false;\n      }\n    });\n    watchEffect((cleanupFn) => {\n      if (!isClient)\n        return;\n      const container = currentElement.value;\n      if (!props.trapped)\n        return;\n      function handleFocusIn(event) {\n        if (focusScope.paused || !container)\n          return;\n        const target = event.target;\n        if (container.contains(target))\n          lastFocusedElementRef.value = target;\n        else focus(lastFocusedElementRef.value, { select: true });\n      }\n      function handleFocusOut(event) {\n        if (focusScope.paused || !container)\n          return;\n        const relatedTarget = event.relatedTarget;\n        if (relatedTarget === null)\n          return;\n        if (!container.contains(relatedTarget))\n          focus(lastFocusedElementRef.value, { select: true });\n      }\n      function handleMutations(mutations) {\n        const isLastFocusedElementExist = container.contains(lastFocusedElementRef.value);\n        if (!isLastFocusedElementExist)\n          focus(container);\n      }\n      document.addEventListener(\"focusin\", handleFocusIn);\n      document.addEventListener(\"focusout\", handleFocusOut);\n      const mutationObserver = new MutationObserver(handleMutations);\n      if (container)\n        mutationObserver.observe(container, { childList: true, subtree: true });\n      cleanupFn(() => {\n        document.removeEventListener(\"focusin\", handleFocusIn);\n        document.removeEventListener(\"focusout\", handleFocusOut);\n        mutationObserver.disconnect();\n      });\n    });\n    watchEffect(async (cleanupFn) => {\n      const container = currentElement.value;\n      await nextTick();\n      if (!container)\n        return;\n      focusScopesStack.add(focusScope);\n      const previouslyFocusedElement = getActiveElement();\n      const hasFocusedCandidate = container.contains(previouslyFocusedElement);\n      if (!hasFocusedCandidate) {\n        const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT, EVENT_OPTIONS);\n        container.addEventListener(AUTOFOCUS_ON_MOUNT, (ev) => emits(\"mountAutoFocus\", ev));\n        container.dispatchEvent(mountEvent);\n        if (!mountEvent.defaultPrevented) {\n          focusFirst(removeLinks(getTabbableCandidates(container)), {\n            select: true\n          });\n          if (getActiveElement() === previouslyFocusedElement)\n            focus(container);\n        }\n      }\n      cleanupFn(() => {\n        container.removeEventListener(AUTOFOCUS_ON_MOUNT, (ev) => emits(\"mountAutoFocus\", ev));\n        const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT, EVENT_OPTIONS);\n        const unmountEventHandler = (ev) => {\n          emits(\"unmountAutoFocus\", ev);\n        };\n        container.addEventListener(AUTOFOCUS_ON_UNMOUNT, unmountEventHandler);\n        container.dispatchEvent(unmountEvent);\n        setTimeout(() => {\n          if (!unmountEvent.defaultPrevented)\n            focus(previouslyFocusedElement ?? document.body, { select: true });\n          container.removeEventListener(AUTOFOCUS_ON_UNMOUNT, unmountEventHandler);\n          focusScopesStack.remove(focusScope);\n        }, 0);\n      });\n    });\n    function handleKeyDown(event) {\n      if (!props.loop && !props.trapped)\n        return;\n      if (focusScope.paused)\n        return;\n      const isTabKey = event.key === \"Tab\" && !event.altKey && !event.ctrlKey && !event.metaKey;\n      const focusedElement = getActiveElement();\n      if (isTabKey && focusedElement) {\n        const container = event.currentTarget;\n        const [first, last] = getTabbableEdges(container);\n        const hasTabbableElementsInside = first && last;\n        if (!hasTabbableElementsInside) {\n          if (focusedElement === container)\n            event.preventDefault();\n        } else {\n          if (!event.shiftKey && focusedElement === last) {\n            event.preventDefault();\n            if (props.loop)\n              focus(first, { select: true });\n          } else if (event.shiftKey && focusedElement === first) {\n            event.preventDefault();\n            if (props.loop)\n              focus(last, { select: true });\n          }\n        }\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(Primitive), {\n        ref_key: \"currentRef\",\n        ref: currentRef,\n        tabindex: \"-1\",\n        \"as-child\": _ctx.asChild,\n        as: _ctx.as,\n        onKeydown: handleKeyDown\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 8, [\"as-child\", \"as\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=FocusScope.js.map\n","var getDefaultParent = function (originalTarget) {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;\n    return sampleTarget.ownerDocument.body;\n};\nvar counterMap = new WeakMap();\nvar uncontrolledNodes = new WeakMap();\nvar markerMap = {};\nvar lockCount = 0;\nvar unwrapHost = function (node) {\n    return node && (node.host || unwrapHost(node.parentNode));\n};\nvar correctTargets = function (parent, targets) {\n    return targets\n        .map(function (target) {\n        if (parent.contains(target)) {\n            return target;\n        }\n        var correctedTarget = unwrapHost(target);\n        if (correctedTarget && parent.contains(correctedTarget)) {\n            return correctedTarget;\n        }\n        console.error('aria-hidden', target, 'in not contained inside', parent, '. Doing nothing');\n        return null;\n    })\n        .filter(function (x) { return Boolean(x); });\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @param {String} [controlAttribute] - html Attribute to control\n * @return {Undo} undo command\n */\nvar applyAttributeToOthers = function (originalTarget, parentNode, markerName, controlAttribute) {\n    var targets = correctTargets(parentNode, Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    if (!markerMap[markerName]) {\n        markerMap[markerName] = new WeakMap();\n    }\n    var markerCounter = markerMap[markerName];\n    var hiddenNodes = [];\n    var elementsToKeep = new Set();\n    var elementsToStop = new Set(targets);\n    var keep = function (el) {\n        if (!el || elementsToKeep.has(el)) {\n            return;\n        }\n        elementsToKeep.add(el);\n        keep(el.parentNode);\n    };\n    targets.forEach(keep);\n    var deep = function (parent) {\n        if (!parent || elementsToStop.has(parent)) {\n            return;\n        }\n        Array.prototype.forEach.call(parent.children, function (node) {\n            if (elementsToKeep.has(node)) {\n                deep(node);\n            }\n            else {\n                try {\n                    var attr = node.getAttribute(controlAttribute);\n                    var alreadyHidden = attr !== null && attr !== 'false';\n                    var counterValue = (counterMap.get(node) || 0) + 1;\n                    var markerValue = (markerCounter.get(node) || 0) + 1;\n                    counterMap.set(node, counterValue);\n                    markerCounter.set(node, markerValue);\n                    hiddenNodes.push(node);\n                    if (counterValue === 1 && alreadyHidden) {\n                        uncontrolledNodes.set(node, true);\n                    }\n                    if (markerValue === 1) {\n                        node.setAttribute(markerName, 'true');\n                    }\n                    if (!alreadyHidden) {\n                        node.setAttribute(controlAttribute, 'true');\n                    }\n                }\n                catch (e) {\n                    console.error('aria-hidden: cannot operate on ', node, e);\n                }\n            }\n        });\n    };\n    deep(parentNode);\n    elementsToKeep.clear();\n    lockCount++;\n    return function () {\n        hiddenNodes.forEach(function (node) {\n            var counterValue = counterMap.get(node) - 1;\n            var markerValue = markerCounter.get(node) - 1;\n            counterMap.set(node, counterValue);\n            markerCounter.set(node, markerValue);\n            if (!counterValue) {\n                if (!uncontrolledNodes.has(node)) {\n                    node.removeAttribute(controlAttribute);\n                }\n                uncontrolledNodes.delete(node);\n            }\n            if (!markerValue) {\n                node.removeAttribute(markerName);\n            }\n        });\n        lockCount--;\n        if (!lockCount) {\n            // clear\n            counterMap = new WeakMap();\n            counterMap = new WeakMap();\n            uncontrolledNodes = new WeakMap();\n            markerMap = {};\n        }\n    };\n};\n/**\n * Marks everything except given node(or nodes) as aria-hidden\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var hideOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-aria-hidden'; }\n    var targets = Array.from(Array.isArray(originalTarget) ? originalTarget : [originalTarget]);\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    // we should not hide aria-live elements - https://github.com/theKashey/aria-hidden/issues/10\n    // and script elements, as they have no impact on accessibility.\n    targets.push.apply(targets, Array.from(activeParentNode.querySelectorAll('[aria-live], script')));\n    return applyAttributeToOthers(targets, activeParentNode, markerName, 'aria-hidden');\n};\n/**\n * Marks everything except given node(or nodes) as inert\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var inertOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-inert-ed'; }\n    var activeParentNode = parentNode || getDefaultParent(originalTarget);\n    if (!activeParentNode) {\n        return function () { return null; };\n    }\n    return applyAttributeToOthers(originalTarget, activeParentNode, markerName, 'inert');\n};\n/**\n * @returns if current browser supports inert\n */\nexport var supportsInert = function () {\n    return typeof HTMLElement !== 'undefined' && HTMLElement.prototype.hasOwnProperty('inert');\n};\n/**\n * Automatic function to \"suppress\" DOM elements - _hide_ or _inert_ in the best possible way\n * @param {Element | Element[]} originalTarget - elements to keep on the page\n * @param [parentNode] - top element, defaults to document.body\n * @param {String} [markerName] - a special attribute to mark every node\n * @return {Undo} undo command\n */\nexport var suppressOthers = function (originalTarget, parentNode, markerName) {\n    if (markerName === void 0) { markerName = 'data-suppressed'; }\n    return (supportsInert() ? inertOthers : hideOthers)(originalTarget, parentNode, markerName);\n};\n","import { unrefElement } from '@vueuse/core';\nimport { hideOthers } from 'aria-hidden';\nimport { watch, onUnmounted } from 'vue';\n\nfunction useHideOthers(target) {\n  let undo;\n  watch(() => unrefElement(target), (el) => {\n    if (el)\n      undo = hideOthers(el);\n    else if (undo)\n      undo();\n  });\n  onUnmounted(() => {\n    if (undo)\n      undo();\n  });\n}\n\nexport { useHideOthers as u };\n//# sourceMappingURL=useHideOthers.js.map\n","function isPlainObject(value) {\n  if (value === null || typeof value !== \"object\") {\n    return false;\n  }\n  const prototype = Object.getPrototypeOf(value);\n  if (prototype !== null && prototype !== Object.prototype && Object.getPrototypeOf(prototype) !== null) {\n    return false;\n  }\n  if (Symbol.iterator in value) {\n    return false;\n  }\n  if (Symbol.toStringTag in value) {\n    return Object.prototype.toString.call(value) === \"[object Module]\";\n  }\n  return true;\n}\n\nfunction _defu(baseObject, defaults, namespace = \".\", merger) {\n  if (!isPlainObject(defaults)) {\n    return _defu(baseObject, {}, namespace, merger);\n  }\n  const object = Object.assign({}, defaults);\n  for (const key in baseObject) {\n    if (key === \"__proto__\" || key === \"constructor\") {\n      continue;\n    }\n    const value = baseObject[key];\n    if (value === null || value === void 0) {\n      continue;\n    }\n    if (merger && merger(object, key, value, namespace)) {\n      continue;\n    }\n    if (Array.isArray(value) && Array.isArray(object[key])) {\n      object[key] = [...value, ...object[key]];\n    } else if (isPlainObject(value) && isPlainObject(object[key])) {\n      object[key] = _defu(\n        value,\n        object[key],\n        (namespace ? `${namespace}.` : \"\") + key.toString(),\n        merger\n      );\n    } else {\n      object[key] = value;\n    }\n  }\n  return object;\n}\nfunction createDefu(merger) {\n  return (...arguments_) => (\n    // eslint-disable-next-line unicorn/no-array-reduce\n    arguments_.reduce((p, c) => _defu(p, c, \"\", merger), {})\n  );\n}\nconst defu = createDefu();\nconst defuFn = createDefu((object, key, currentValue) => {\n  if (object[key] !== void 0 && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\nconst defuArrayFn = createDefu((object, key, currentValue) => {\n  if (Array.isArray(object[key]) && typeof currentValue === \"function\") {\n    object[key] = currentValue(object[key]);\n    return true;\n  }\n});\n\nexport { createDefu, defu as default, defu, defuArrayFn, defuFn };\n","import { createSharedComposable, useEventListener } from '@vueuse/core';\nimport { tryOnBeforeUnmount, isClient, isIOS } from '@vueuse/shared';\nimport { defu } from 'defu';\nimport { computed, ref, watch, nextTick } from 'vue';\nimport { i as injectConfigProviderContext } from '../ConfigProvider/ConfigProvider.js';\n\nconst useBodyLockStackCount = createSharedComposable(() => {\n  const map = ref(/* @__PURE__ */ new Map());\n  const initialOverflow = ref();\n  const locked = computed(() => {\n    for (const value of map.value.values()) {\n      if (value)\n        return true;\n    }\n    return false;\n  });\n  const context = injectConfigProviderContext({\n    scrollBody: ref(true)\n  });\n  let stopTouchMoveListener = null;\n  const resetBodyStyle = () => {\n    document.body.style.paddingRight = \"\";\n    document.body.style.marginRight = \"\";\n    document.body.style.pointerEvents = \"\";\n    document.documentElement.style.removeProperty(\"--scrollbar-width\");\n    document.body.style.overflow = initialOverflow.value ?? \"\";\n    isIOS && stopTouchMoveListener?.();\n    initialOverflow.value = void 0;\n  };\n  watch(locked, (val, oldVal) => {\n    if (!isClient)\n      return;\n    if (!val) {\n      if (oldVal)\n        resetBodyStyle();\n      return;\n    }\n    if (initialOverflow.value === void 0)\n      initialOverflow.value = document.body.style.overflow;\n    const verticalScrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    const defaultConfig = { padding: verticalScrollbarWidth, margin: 0 };\n    const config = context.scrollBody?.value ? typeof context.scrollBody.value === \"object\" ? defu({\n      padding: context.scrollBody.value.padding === true ? verticalScrollbarWidth : context.scrollBody.value.padding,\n      margin: context.scrollBody.value.margin === true ? verticalScrollbarWidth : context.scrollBody.value.margin\n    }, defaultConfig) : defaultConfig : { padding: 0, margin: 0 };\n    if (verticalScrollbarWidth > 0) {\n      document.body.style.paddingRight = typeof config.padding === \"number\" ? `${config.padding}px` : String(config.padding);\n      document.body.style.marginRight = typeof config.margin === \"number\" ? `${config.margin}px` : String(config.margin);\n      document.documentElement.style.setProperty(\"--scrollbar-width\", `${verticalScrollbarWidth}px`);\n      document.body.style.overflow = \"hidden\";\n    }\n    if (isIOS) {\n      stopTouchMoveListener = useEventListener(\n        document,\n        \"touchmove\",\n        (e) => preventDefault(e),\n        { passive: false }\n      );\n    }\n    nextTick(() => {\n      document.body.style.pointerEvents = \"none\";\n      document.body.style.overflow = \"hidden\";\n    });\n  }, { immediate: true, flush: \"sync\" });\n  return map;\n});\nfunction useBodyScrollLock(initialState) {\n  const id = Math.random().toString(36).substring(2, 7);\n  const map = useBodyLockStackCount();\n  map.value.set(id, initialState ?? false);\n  const locked = computed({\n    get: () => map.value.get(id) ?? false,\n    set: (value) => map.value.set(id, value)\n  });\n  tryOnBeforeUnmount(() => {\n    map.value.delete(id);\n  });\n  return locked;\n}\nfunction checkOverflowScroll(ele) {\n  const style = window.getComputedStyle(ele);\n  if (style.overflowX === \"scroll\" || style.overflowY === \"scroll\" || style.overflowX === \"auto\" && ele.clientWidth < ele.scrollWidth || style.overflowY === \"auto\" && ele.clientHeight < ele.scrollHeight) {\n    return true;\n  } else {\n    const parent = ele.parentNode;\n    if (!(parent instanceof Element) || parent.tagName === \"BODY\")\n      return false;\n    return checkOverflowScroll(parent);\n  }\n}\nfunction preventDefault(rawEvent) {\n  const e = rawEvent || window.event;\n  const _target = e.target;\n  if (_target instanceof Element && checkOverflowScroll(_target))\n    return false;\n  if (e.touches.length > 1)\n    return true;\n  if (e.preventDefault && e.cancelable)\n    e.preventDefault();\n  return false;\n}\n\nexport { useBodyScrollLock as u };\n//# sourceMappingURL=useBodyScrollLock.js.map\n","import { g as getActiveElement } from '../shared/getActiveElement.js';\n\nconst ENTRY_FOCUS = \"rovingFocusGroup.onEntryFocus\";\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\nconst MAP_KEY_TO_FOCUS_INTENT = {\n  ArrowLeft: \"prev\",\n  ArrowUp: \"prev\",\n  ArrowRight: \"next\",\n  ArrowDown: \"next\",\n  PageUp: \"first\",\n  Home: \"first\",\n  PageDown: \"last\",\n  End: \"last\"\n};\nfunction getDirectionAwareKey(key, dir) {\n  if (dir !== \"rtl\")\n    return key;\n  return key === \"ArrowLeft\" ? \"ArrowRight\" : key === \"ArrowRight\" ? \"ArrowLeft\" : key;\n}\nfunction getFocusIntent(event, orientation, dir) {\n  const key = getDirectionAwareKey(event.key, dir);\n  if (orientation === \"vertical\" && [\"ArrowLeft\", \"ArrowRight\"].includes(key))\n    return void 0;\n  if (orientation === \"horizontal\" && [\"ArrowUp\", \"ArrowDown\"].includes(key))\n    return void 0;\n  return MAP_KEY_TO_FOCUS_INTENT[key];\n}\nfunction focusFirst(candidates, preventScroll = false) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = getActiveElement();\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT)\n      return;\n    candidate.focus({ preventScroll });\n    if (getActiveElement() !== PREVIOUSLY_FOCUSED_ELEMENT)\n      return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\n\nexport { ENTRY_FOCUS as E, MAP_KEY_TO_FOCUS_INTENT as M, EVENT_OPTIONS as a, focusFirst as f, getFocusIntent as g, wrapArray as w };\n//# sourceMappingURL=utils.js.map\n","import { defineComponent, toRefs, ref, createBlock, openBlock, unref, withCtx, createVNode, renderSlot } from 'vue';\nimport { useVModel } from '@vueuse/core';\nimport { u as useCollection } from '../Collection/Collection.js';\nimport { f as focusFirst, E as ENTRY_FOCUS, a as EVENT_OPTIONS } from './utils.js';\nimport { u as useDirection } from '../shared/useDirection.js';\nimport { c as createContext } from '../shared/createContext.js';\nimport { P as Primitive } from '../Primitive/Primitive.js';\n\nconst [injectRovingFocusGroupContext, provideRovingFocusGroupContext] = createContext(\"RovingFocusGroup\");\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"RovingFocusGroup\",\n  props: {\n    orientation: { default: void 0 },\n    dir: {},\n    loop: { type: Boolean, default: false },\n    currentTabStopId: {},\n    defaultCurrentTabStopId: {},\n    preventScrollOnEntryFocus: { type: Boolean, default: false },\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"entryFocus\", \"update:currentTabStopId\"],\n  setup(__props, { expose: __expose, emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const { loop, orientation, dir: propDir } = toRefs(props);\n    const dir = useDirection(propDir);\n    const currentTabStopId = useVModel(props, \"currentTabStopId\", emits, {\n      defaultValue: props.defaultCurrentTabStopId,\n      passive: props.currentTabStopId === void 0\n    });\n    const isTabbingBackOut = ref(false);\n    const isClickFocus = ref(false);\n    const focusableItemsCount = ref(0);\n    const { getItems, CollectionSlot } = useCollection({ isProvider: true });\n    function handleFocus(event) {\n      const isKeyboardFocus = !isClickFocus.value;\n      if (event.currentTarget && event.target === event.currentTarget && isKeyboardFocus && !isTabbingBackOut.value) {\n        const entryFocusEvent = new CustomEvent(ENTRY_FOCUS, EVENT_OPTIONS);\n        event.currentTarget.dispatchEvent(entryFocusEvent);\n        emits(\"entryFocus\", entryFocusEvent);\n        if (!entryFocusEvent.defaultPrevented) {\n          const items = getItems().map((i) => i.ref).filter((i) => i.dataset.disabled !== \"\");\n          const activeItem = items.find((item) => item.getAttribute(\"data-active\") === \"\");\n          const currentItem = items.find(\n            (item) => item.id === currentTabStopId.value\n          );\n          const candidateItems = [activeItem, currentItem, ...items].filter(\n            Boolean\n          );\n          focusFirst(candidateItems, props.preventScrollOnEntryFocus);\n        }\n      }\n      isClickFocus.value = false;\n    }\n    function handleMouseUp() {\n      setTimeout(() => {\n        isClickFocus.value = false;\n      }, 1);\n    }\n    __expose({\n      getItems\n    });\n    provideRovingFocusGroupContext({\n      loop,\n      dir,\n      orientation,\n      currentTabStopId,\n      onItemFocus: (tabStopId) => {\n        currentTabStopId.value = tabStopId;\n      },\n      onItemShiftTab: () => {\n        isTabbingBackOut.value = true;\n      },\n      onFocusableItemAdd: () => {\n        focusableItemsCount.value++;\n      },\n      onFocusableItemRemove: () => {\n        focusableItemsCount.value--;\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(CollectionSlot), null, {\n        default: withCtx(() => [\n          createVNode(unref(Primitive), {\n            tabindex: isTabbingBackOut.value || focusableItemsCount.value === 0 ? -1 : 0,\n            \"data-orientation\": unref(orientation),\n            as: _ctx.as,\n            \"as-child\": _ctx.asChild,\n            dir: unref(dir),\n            style: { \"outline\": \"none\" },\n            onMousedown: _cache[0] || (_cache[0] = ($event) => isClickFocus.value = true),\n            onMouseup: handleMouseUp,\n            onFocus: handleFocus,\n            onBlur: _cache[1] || (_cache[1] = ($event) => isTabbingBackOut.value = false)\n          }, {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 8, [\"tabindex\", \"data-orientation\", \"as\", \"as-child\", \"dir\"])\n        ]),\n        _: 3\n      });\n    };\n  }\n});\n\nexport { _sfc_main as _, injectRovingFocusGroupContext as i };\n//# sourceMappingURL=RovingFocusGroup.js.map\n","import { refAutoReset } from '@vueuse/shared';\nimport { g as getActiveElement } from './getActiveElement.js';\n\nfunction useTypeahead(callback) {\n  const search = refAutoReset(\"\", 1e3);\n  const handleTypeaheadSearch = (key, items) => {\n    search.value = search.value + key;\n    {\n      const currentItem = getActiveElement();\n      const itemsWithTextValue = items.map((item) => ({\n        ...item,\n        textValue: item.value?.textValue ?? item.ref.textContent?.trim() ?? \"\"\n      }));\n      const currentMatch = itemsWithTextValue.find((item) => item.ref === currentItem);\n      const values = itemsWithTextValue.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search.value, currentMatch?.textValue);\n      const newItem = itemsWithTextValue.find((item) => item.textValue === nextMatch);\n      if (newItem)\n        newItem.ref.focus();\n      return newItem?.ref;\n    }\n  };\n  const resetTypeahead = () => {\n    search.value = \"\";\n  };\n  return {\n    search,\n    handleTypeaheadSearch,\n    resetTypeahead\n  };\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch)\n    wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\n\nexport { getNextMatch as g, useTypeahead as u, wrapArray as w };\n//# sourceMappingURL=useTypeahead.js.map\n","import { createSharedComposable, useEventListener } from '@vueuse/core';\nimport { ref, onMounted } from 'vue';\n\nfunction useIsUsingKeyboardImpl() {\n  const isUsingKeyboard = ref(false);\n  onMounted(() => {\n    useEventListener(\"keydown\", () => {\n      isUsingKeyboard.value = true;\n    }, { capture: true, passive: true });\n    useEventListener([\"pointerdown\", \"pointermove\"], () => {\n      isUsingKeyboard.value = false;\n    }, { capture: true, passive: true });\n  });\n  return isUsingKeyboard;\n}\nconst useIsUsingKeyboard = createSharedComposable(useIsUsingKeyboardImpl);\n\nexport { useIsUsingKeyboard as u };\n//# sourceMappingURL=useIsUsingKeyboard.js.map\n","import { defineComponent, toRefs, ref, createBlock, openBlock, unref, withCtx, renderSlot } from 'vue';\nimport { useVModel } from '@vueuse/core';\nimport { _ as _sfc_main$1 } from '../Popper/PopperRoot.js';\nimport { u as useIsUsingKeyboard } from '../shared/useIsUsingKeyboard.js';\nimport { c as createContext } from '../shared/createContext.js';\nimport { u as useDirection } from '../shared/useDirection.js';\n\nconst [injectMenuContext, provideMenuContext] = createContext([\"MenuRoot\", \"MenuSub\"], \"MenuContext\");\nconst [injectMenuRootContext, provideMenuRootContext] = createContext(\"MenuRoot\");\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuRoot\",\n  props: {\n    open: { type: Boolean, default: false },\n    dir: {},\n    modal: { type: Boolean, default: true }\n  },\n  emits: [\"update:open\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const { modal, dir: propDir } = toRefs(props);\n    const dir = useDirection(propDir);\n    const open = useVModel(props, \"open\", emits);\n    const content = ref();\n    const isUsingKeyboardRef = useIsUsingKeyboard();\n    provideMenuContext({\n      open,\n      onOpenChange: (value) => {\n        open.value = value;\n      },\n      content,\n      onContentChange: (element) => {\n        content.value = element;\n      }\n    });\n    provideMenuRootContext({\n      onClose: () => {\n        open.value = false;\n      },\n      isUsingKeyboardRef,\n      dir,\n      modal\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), null, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      });\n    };\n  }\n});\n\nexport { _sfc_main as _, injectMenuRootContext as a, injectMenuContext as i, provideMenuContext as p };\n//# sourceMappingURL=MenuRoot.js.map\n","import { isClient } from '@vueuse/shared';\nimport { watchEffect } from 'vue';\n\nlet count = 0;\nfunction useFocusGuards() {\n  watchEffect((cleanupFn) => {\n    if (!isClient)\n      return;\n    const edgeGuards = document.querySelectorAll(\"[data-reka-focus-guard]\");\n    document.body.insertAdjacentElement(\n      \"afterbegin\",\n      edgeGuards[0] ?? createFocusGuard()\n    );\n    document.body.insertAdjacentElement(\n      \"beforeend\",\n      edgeGuards[1] ?? createFocusGuard()\n    );\n    count++;\n    cleanupFn(() => {\n      if (count === 1) {\n        document.querySelectorAll(\"[data-reka-focus-guard]\").forEach((node) => node.remove());\n      }\n      count--;\n    });\n  });\n}\nfunction createFocusGuard() {\n  const element = document.createElement(\"span\");\n  element.setAttribute(\"data-reka-focus-guard\", \"\");\n  element.tabIndex = 0;\n  element.style.outline = \"none\";\n  element.style.opacity = \"0\";\n  element.style.position = \"fixed\";\n  element.style.pointerEvents = \"none\";\n  return element;\n}\n\nexport { useFocusGuards as u };\n//# sourceMappingURL=useFocusGuards.js.map\n","import { defineComponent, mergeDefaults, toRefs, ref, watch, onUnmounted, createBlock, openBlock, unref, withCtx, createVNode, renderSlot } from 'vue';\nimport { _ as _sfc_main$4, P as PopperContentPropsDefaultValue } from '../Popper/PopperContent.js';\nimport { g as getOpenState, b as isPointerInGraceArea, F as FIRST_LAST_KEYS, L as LAST_KEYS, f as focusFirst, c as isMouseEvent } from './utils.js';\nimport { u as useBodyScrollLock } from '../shared/useBodyScrollLock.js';\nimport { c as createContext } from '../shared/createContext.js';\nimport { i as injectMenuContext, a as injectMenuRootContext } from './MenuRoot.js';\nimport { u as useFocusGuards } from '../shared/useFocusGuards.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { u as useTypeahead } from '../shared/useTypeahead.js';\nimport { _ as _sfc_main$1 } from '../FocusScope/FocusScope.js';\nimport { _ as _sfc_main$2 } from '../DismissableLayer/DismissableLayer.js';\nimport { _ as _sfc_main$3 } from '../RovingFocus/RovingFocusGroup.js';\nimport { u as useArrowNavigation } from '../shared/useArrowNavigation.js';\nimport { g as getActiveElement } from '../shared/getActiveElement.js';\n\nconst [injectMenuContentContext, provideMenuContentContext] = createContext(\"MenuContent\");\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuContentImpl\",\n  props: /* @__PURE__ */ mergeDefaults({\n    loop: { type: Boolean },\n    disableOutsidePointerEvents: { type: Boolean },\n    disableOutsideScroll: { type: Boolean },\n    trapFocus: { type: Boolean },\n    side: {},\n    sideOffset: {},\n    align: {},\n    alignOffset: {},\n    avoidCollisions: { type: Boolean },\n    collisionBoundary: {},\n    collisionPadding: {},\n    arrowPadding: {},\n    sticky: {},\n    hideWhenDetached: { type: Boolean },\n    positionStrategy: {},\n    updatePositionStrategy: {},\n    disableUpdateOnLayoutShift: { type: Boolean },\n    prioritizePosition: { type: Boolean },\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  }, {\n    ...PopperContentPropsDefaultValue\n  }),\n  emits: [\"escapeKeyDown\", \"pointerDownOutside\", \"focusOutside\", \"interactOutside\", \"entryFocus\", \"openAutoFocus\", \"closeAutoFocus\", \"dismiss\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const menuContext = injectMenuContext();\n    const rootContext = injectMenuRootContext();\n    const { trapFocus, disableOutsidePointerEvents, loop } = toRefs(props);\n    useFocusGuards();\n    useBodyScrollLock(disableOutsidePointerEvents.value);\n    const searchRef = ref(\"\");\n    const timerRef = ref(0);\n    const pointerGraceTimerRef = ref(0);\n    const pointerGraceIntentRef = ref(null);\n    const pointerDirRef = ref(\"right\");\n    const lastPointerXRef = ref(0);\n    const currentItemId = ref(null);\n    const rovingFocusGroupRef = ref();\n    const { forwardRef, currentElement: contentElement } = useForwardExpose();\n    const { handleTypeaheadSearch } = useTypeahead();\n    watch(contentElement, (el) => {\n      menuContext.onContentChange(el);\n    });\n    onUnmounted(() => {\n      window.clearTimeout(timerRef.value);\n    });\n    function isPointerMovingToSubmenu(event) {\n      const isMovingTowards = pointerDirRef.value === pointerGraceIntentRef.value?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.value?.area);\n    }\n    async function handleMountAutoFocus(event) {\n      emits(\"openAutoFocus\", event);\n      if (event.defaultPrevented)\n        return;\n      event.preventDefault();\n      contentElement.value?.focus({\n        preventScroll: true\n      });\n    }\n    function handleKeyDown(event) {\n      if (event.defaultPrevented)\n        return;\n      const target = event.target;\n      const isKeyDownInside = target.closest(\"[data-reka-menu-content]\") === event.currentTarget;\n      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n      const isCharacterKey = event.key.length === 1;\n      const el = useArrowNavigation(\n        event,\n        getActiveElement(),\n        contentElement.value,\n        {\n          loop: loop.value,\n          arrowKeyOptions: \"vertical\",\n          dir: rootContext?.dir.value,\n          focus: true,\n          attributeName: \"[data-reka-collection-item]:not([data-disabled])\"\n        }\n      );\n      if (el)\n        return el?.focus();\n      if (event.code === \"Space\")\n        return;\n      const collectionItems = rovingFocusGroupRef.value?.getItems() ?? [];\n      if (isKeyDownInside) {\n        if (event.key === \"Tab\")\n          event.preventDefault();\n        if (!isModifierKey && isCharacterKey)\n          handleTypeaheadSearch(event.key, collectionItems);\n      }\n      if (event.target !== contentElement.value)\n        return;\n      if (!FIRST_LAST_KEYS.includes(event.key))\n        return;\n      event.preventDefault();\n      const candidateNodes = [...collectionItems.map((item) => item.ref)];\n      if (LAST_KEYS.includes(event.key))\n        candidateNodes.reverse();\n      focusFirst(candidateNodes);\n    }\n    function handleBlur(event) {\n      if (!event?.currentTarget?.contains?.(event.target)) {\n        window.clearTimeout(timerRef.value);\n        searchRef.value = \"\";\n      }\n    }\n    function handlePointerMove(event) {\n      if (!isMouseEvent(event))\n        return;\n      const target = event.target;\n      const pointerXHasChanged = lastPointerXRef.value !== event.clientX;\n      if (event?.currentTarget?.contains(target) && pointerXHasChanged) {\n        const newDir = event.clientX > lastPointerXRef.value ? \"right\" : \"left\";\n        pointerDirRef.value = newDir;\n        lastPointerXRef.value = event.clientX;\n      }\n    }\n    provideMenuContentContext({\n      onItemEnter: (event) => {\n        if (isPointerMovingToSubmenu(event))\n          return true;\n        else\n          return false;\n      },\n      onItemLeave: (event) => {\n        if (isPointerMovingToSubmenu(event))\n          return;\n        contentElement.value?.focus();\n        currentItemId.value = null;\n      },\n      onTriggerLeave: (event) => {\n        if (isPointerMovingToSubmenu(event))\n          return true;\n        else\n          return false;\n      },\n      searchRef,\n      pointerGraceTimerRef,\n      onPointerGraceIntentChange: (intent) => {\n        pointerGraceIntentRef.value = intent;\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), {\n        \"as-child\": \"\",\n        trapped: unref(trapFocus),\n        onMountAutoFocus: handleMountAutoFocus,\n        onUnmountAutoFocus: _cache[7] || (_cache[7] = ($event) => emits(\"closeAutoFocus\", $event))\n      }, {\n        default: withCtx(() => [\n          createVNode(unref(_sfc_main$2), {\n            \"as-child\": \"\",\n            \"disable-outside-pointer-events\": unref(disableOutsidePointerEvents),\n            onEscapeKeyDown: _cache[2] || (_cache[2] = ($event) => emits(\"escapeKeyDown\", $event)),\n            onPointerDownOutside: _cache[3] || (_cache[3] = ($event) => emits(\"pointerDownOutside\", $event)),\n            onFocusOutside: _cache[4] || (_cache[4] = ($event) => emits(\"focusOutside\", $event)),\n            onInteractOutside: _cache[5] || (_cache[5] = ($event) => emits(\"interactOutside\", $event)),\n            onDismiss: _cache[6] || (_cache[6] = ($event) => emits(\"dismiss\"))\n          }, {\n            default: withCtx(() => [\n              createVNode(unref(_sfc_main$3), {\n                ref_key: \"rovingFocusGroupRef\",\n                ref: rovingFocusGroupRef,\n                \"current-tab-stop-id\": currentItemId.value,\n                \"onUpdate:currentTabStopId\": _cache[0] || (_cache[0] = ($event) => currentItemId.value = $event),\n                \"as-child\": \"\",\n                orientation: \"vertical\",\n                dir: unref(rootContext).dir.value,\n                loop: unref(loop),\n                onEntryFocus: _cache[1] || (_cache[1] = (event) => {\n                  emits(\"entryFocus\", event);\n                  if (!unref(rootContext).isUsingKeyboardRef.value) event.preventDefault();\n                })\n              }, {\n                default: withCtx(() => [\n                  createVNode(unref(_sfc_main$4), {\n                    ref: unref(forwardRef),\n                    role: \"menu\",\n                    as: _ctx.as,\n                    \"as-child\": _ctx.asChild,\n                    \"aria-orientation\": \"vertical\",\n                    \"data-reka-menu-content\": \"\",\n                    \"data-state\": unref(getOpenState)(unref(menuContext).open.value),\n                    dir: unref(rootContext).dir.value,\n                    side: _ctx.side,\n                    \"side-offset\": _ctx.sideOffset,\n                    align: _ctx.align,\n                    \"align-offset\": _ctx.alignOffset,\n                    \"avoid-collisions\": _ctx.avoidCollisions,\n                    \"collision-boundary\": _ctx.collisionBoundary,\n                    \"collision-padding\": _ctx.collisionPadding,\n                    \"arrow-padding\": _ctx.arrowPadding,\n                    \"prioritize-position\": _ctx.prioritizePosition,\n                    \"position-strategy\": _ctx.positionStrategy,\n                    \"update-position-strategy\": _ctx.updatePositionStrategy,\n                    sticky: _ctx.sticky,\n                    \"hide-when-detached\": _ctx.hideWhenDetached,\n                    reference: _ctx.reference,\n                    onKeydown: handleKeyDown,\n                    onBlur: handleBlur,\n                    onPointermove: handlePointerMove\n                  }, {\n                    default: withCtx(() => [\n                      renderSlot(_ctx.$slots, \"default\")\n                    ]),\n                    _: 3\n                  }, 8, [\"as\", \"as-child\", \"data-state\", \"dir\", \"side\", \"side-offset\", \"align\", \"align-offset\", \"avoid-collisions\", \"collision-boundary\", \"collision-padding\", \"arrow-padding\", \"prioritize-position\", \"position-strategy\", \"update-position-strategy\", \"sticky\", \"hide-when-detached\", \"reference\"])\n                ]),\n                _: 3\n              }, 8, [\"current-tab-stop-id\", \"dir\", \"loop\"])\n            ]),\n            _: 3\n          }, 8, [\"disable-outside-pointer-events\"])\n        ]),\n        _: 3\n      }, 8, [\"trapped\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _, injectMenuContentContext as i };\n//# sourceMappingURL=MenuContentImpl.js.map\n","import { defineComponent, ref, createBlock, openBlock, unref, withCtx, createVNode, mergeProps, nextTick, renderSlot } from 'vue';\nimport { u as useCollection } from '../Collection/Collection.js';\nimport { c as isMouseEvent } from './utils.js';\nimport { i as injectMenuContentContext } from './MenuContentImpl.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { P as Primitive } from '../Primitive/Primitive.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...{\n    inheritAttrs: false\n  },\n  __name: \"MenuItemImpl\",\n  props: {\n    disabled: { type: Boolean },\n    textValue: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const contentContext = injectMenuContentContext();\n    const { forwardRef } = useForwardExpose();\n    const { CollectionItem } = useCollection();\n    const isFocused = ref(false);\n    async function handlePointerMove(event) {\n      if (event.defaultPrevented)\n        return;\n      if (!isMouseEvent(event))\n        return;\n      if (props.disabled) {\n        contentContext.onItemLeave(event);\n      } else {\n        const defaultPrevented = contentContext.onItemEnter(event);\n        if (!defaultPrevented) {\n          const item = event.currentTarget;\n          item?.focus({ preventScroll: true });\n        }\n      }\n    }\n    async function handlePointerLeave(event) {\n      await nextTick();\n      if (event.defaultPrevented)\n        return;\n      if (!isMouseEvent(event))\n        return;\n      contentContext.onItemLeave(event);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(CollectionItem), {\n        value: { textValue: _ctx.textValue }\n      }, {\n        default: withCtx(() => [\n          createVNode(unref(Primitive), mergeProps({\n            ref: unref(forwardRef),\n            role: \"menuitem\",\n            tabindex: \"-1\"\n          }, _ctx.$attrs, {\n            as: _ctx.as,\n            \"as-child\": _ctx.asChild,\n            \"aria-disabled\": _ctx.disabled || void 0,\n            \"data-disabled\": _ctx.disabled ? \"\" : void 0,\n            \"data-highlighted\": isFocused.value ? \"\" : void 0,\n            onPointermove: handlePointerMove,\n            onPointerleave: handlePointerLeave,\n            onFocus: _cache[0] || (_cache[0] = async (event) => {\n              await nextTick();\n              if (event.defaultPrevented || _ctx.disabled) return;\n              isFocused.value = true;\n            }),\n            onBlur: _cache[1] || (_cache[1] = async (event) => {\n              await nextTick();\n              if (event.defaultPrevented) return;\n              isFocused.value = false;\n            })\n          }), {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 16, [\"as\", \"as-child\", \"aria-disabled\", \"data-disabled\", \"data-highlighted\"])\n        ]),\n        _: 3\n      }, 8, [\"value\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuItemImpl.js.map\n","import { defineComponent, ref, createBlock, openBlock, mergeProps, unref, nextTick, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from './MenuItemImpl.js';\nimport { S as SELECTION_KEYS, I as ITEM_SELECT } from './utils.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { a as injectMenuRootContext } from './MenuRoot.js';\nimport { i as injectMenuContentContext } from './MenuContentImpl.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuItem\",\n  props: {\n    disabled: { type: Boolean },\n    textValue: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"select\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const { forwardRef, currentElement } = useForwardExpose();\n    const rootContext = injectMenuRootContext();\n    const contentContext = injectMenuContentContext();\n    const isPointerDownRef = ref(false);\n    async function handleSelect() {\n      const menuItem = currentElement.value;\n      if (!props.disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, {\n          bubbles: true,\n          cancelable: true\n        });\n        emits(\"select\", itemSelectEvent);\n        await nextTick();\n        if (itemSelectEvent.defaultPrevented)\n          isPointerDownRef.value = false;\n        else rootContext.onClose();\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$1, mergeProps(props, {\n        ref: unref(forwardRef),\n        onClick: handleSelect,\n        onPointerdown: _cache[0] || (_cache[0] = () => {\n          isPointerDownRef.value = true;\n        }),\n        onPointerup: _cache[1] || (_cache[1] = async (event) => {\n          await nextTick();\n          if (event.defaultPrevented) return;\n          if (!isPointerDownRef.value) event.currentTarget?.click();\n        }),\n        onKeydown: _cache[2] || (_cache[2] = async (event) => {\n          const isTypingAhead = unref(contentContext).searchRef.value !== \"\";\n          if (_ctx.disabled || isTypingAhead && event.key === \" \") return;\n          if (unref(SELECTION_KEYS).includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuItem.js.map\n","import { defineComponent, createBlock, openBlock, mergeProps, unref, withModifiers, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from './MenuContentImpl.js';\nimport { u as useForwardPropsEmits } from '../shared/useForwardPropsEmits.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { u as useHideOthers } from '../shared/useHideOthers.js';\nimport { i as injectMenuContext } from './MenuRoot.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuRootContentModal\",\n  props: {\n    loop: { type: Boolean },\n    side: {},\n    sideOffset: {},\n    align: {},\n    alignOffset: {},\n    avoidCollisions: { type: Boolean },\n    collisionBoundary: {},\n    collisionPadding: {},\n    arrowPadding: {},\n    sticky: {},\n    hideWhenDetached: { type: Boolean },\n    positionStrategy: {},\n    updatePositionStrategy: {},\n    disableUpdateOnLayoutShift: { type: Boolean },\n    prioritizePosition: { type: Boolean },\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"escapeKeyDown\", \"pointerDownOutside\", \"focusOutside\", \"interactOutside\", \"entryFocus\", \"openAutoFocus\", \"closeAutoFocus\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const forwarded = useForwardPropsEmits(props, emits);\n    const menuContext = injectMenuContext();\n    const { forwardRef, currentElement } = useForwardExpose();\n    useHideOthers(currentElement);\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$1, mergeProps(unref(forwarded), {\n        ref: unref(forwardRef),\n        \"trap-focus\": unref(menuContext).open.value,\n        \"disable-outside-pointer-events\": unref(menuContext).open.value,\n        \"disable-outside-scroll\": true,\n        onDismiss: _cache[0] || (_cache[0] = ($event) => unref(menuContext).onOpenChange(false)),\n        onFocusOutside: _cache[1] || (_cache[1] = withModifiers(($event) => emits(\"focusOutside\", $event), [\"prevent\"]))\n      }), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16, [\"trap-focus\", \"disable-outside-pointer-events\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuRootContentModal.js.map\n","import { defineComponent, createBlock, openBlock, mergeProps, unref, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from './MenuContentImpl.js';\nimport { u as useForwardPropsEmits } from '../shared/useForwardPropsEmits.js';\nimport { i as injectMenuContext } from './MenuRoot.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuRootContentNonModal\",\n  props: {\n    loop: { type: Boolean },\n    side: {},\n    sideOffset: {},\n    align: {},\n    alignOffset: {},\n    avoidCollisions: { type: Boolean },\n    collisionBoundary: {},\n    collisionPadding: {},\n    arrowPadding: {},\n    sticky: {},\n    hideWhenDetached: { type: Boolean },\n    positionStrategy: {},\n    updatePositionStrategy: {},\n    disableUpdateOnLayoutShift: { type: Boolean },\n    prioritizePosition: { type: Boolean },\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"escapeKeyDown\", \"pointerDownOutside\", \"focusOutside\", \"interactOutside\", \"entryFocus\", \"openAutoFocus\", \"closeAutoFocus\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const forwarded = useForwardPropsEmits(props, emits);\n    const menuContext = injectMenuContext();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$1, mergeProps(unref(forwarded), {\n        \"trap-focus\": false,\n        \"disable-outside-pointer-events\": false,\n        \"disable-outside-scroll\": false,\n        onDismiss: _cache[0] || (_cache[0] = ($event) => unref(menuContext).onOpenChange(false))\n      }), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuRootContentNonModal.js.map\n","import { defineComponent, createBlock, openBlock, unref, withCtx, normalizeProps, mergeProps, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from './MenuRootContentModal.js';\nimport { _ as _sfc_main$2 } from './MenuRootContentNonModal.js';\nimport { u as useForwardPropsEmits } from '../shared/useForwardPropsEmits.js';\nimport { P as Presence } from '../Presence/Presence.js';\nimport { i as injectMenuContext, a as injectMenuRootContext } from './MenuRoot.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuContent\",\n  props: {\n    forceMount: { type: Boolean },\n    loop: { type: Boolean },\n    side: {},\n    sideOffset: {},\n    align: {},\n    alignOffset: {},\n    avoidCollisions: { type: Boolean },\n    collisionBoundary: {},\n    collisionPadding: {},\n    arrowPadding: {},\n    sticky: {},\n    hideWhenDetached: { type: Boolean },\n    positionStrategy: {},\n    updatePositionStrategy: {},\n    disableUpdateOnLayoutShift: { type: Boolean },\n    prioritizePosition: { type: Boolean },\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"escapeKeyDown\", \"pointerDownOutside\", \"focusOutside\", \"interactOutside\", \"entryFocus\", \"openAutoFocus\", \"closeAutoFocus\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const forwarded = useForwardPropsEmits(props, emits);\n    const menuContext = injectMenuContext();\n    const rootContext = injectMenuRootContext();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(Presence), {\n        present: _ctx.forceMount || unref(menuContext).open.value\n      }, {\n        default: withCtx(() => [\n          unref(rootContext).modal.value ? (openBlock(), createBlock(_sfc_main$1, normalizeProps(mergeProps({ key: 0 }, { ..._ctx.$attrs, ...unref(forwarded) })), {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 16)) : (openBlock(), createBlock(_sfc_main$2, normalizeProps(mergeProps({ key: 1 }, { ..._ctx.$attrs, ...unref(forwarded) })), {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 16))\n        ]),\n        _: 3\n      }, 8, [\"present\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuContent.js.map\n","import { defineComponent, createBlock, openBlock, unref, normalizeProps, guardReactiveProps, withCtx, renderSlot } from 'vue';\nimport { P as Primitive } from '../Primitive/Primitive.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuLabel\",\n  props: {\n    asChild: { type: Boolean },\n    as: { default: \"div\" }\n  },\n  setup(__props) {\n    const props = __props;\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(Primitive), normalizeProps(guardReactiveProps(props)), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuLabel.js.map\n","import { defineComponent, createBlock, openBlock, unref, normalizeProps, guardReactiveProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Teleport/Teleport.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuPortal\",\n  props: {\n    to: {},\n    disabled: { type: Boolean },\n    defer: { type: Boolean },\n    forceMount: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), normalizeProps(guardReactiveProps(props)), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuPortal.js.map\n","import { defineComponent, ref, watchEffect, createBlock, openBlock, unref, withCtx, renderSlot } from 'vue';\nimport { useVModel } from '@vueuse/core';\nimport { _ as _sfc_main$1 } from '../Popper/PopperRoot.js';\nimport { i as injectMenuContext, p as provideMenuContext } from './MenuRoot.js';\nimport { c as createContext } from '../shared/createContext.js';\n\nconst [injectMenuSubContext, provideMenuSubContext] = createContext(\"MenuSub\");\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuSub\",\n  props: {\n    open: { type: Boolean, default: void 0 }\n  },\n  emits: [\"update:open\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const open = useVModel(props, \"open\", emits, {\n      defaultValue: false,\n      passive: props.open === void 0\n    });\n    const parentMenuContext = injectMenuContext();\n    const trigger = ref();\n    const content = ref();\n    watchEffect((cleanupFn) => {\n      if (parentMenuContext?.open.value === false)\n        open.value = false;\n      cleanupFn(() => open.value = false);\n    });\n    provideMenuContext({\n      open,\n      onOpenChange: (value) => {\n        open.value = value;\n      },\n      content,\n      onContentChange: (element) => {\n        content.value = element;\n      }\n    });\n    provideMenuSubContext({\n      triggerId: \"\",\n      contentId: \"\",\n      trigger,\n      onTriggerChange: (element) => {\n        trigger.value = element;\n      }\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), null, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      });\n    };\n  }\n});\n\nexport { _sfc_main as _, injectMenuSubContext as i };\n//# sourceMappingURL=MenuSub.js.map\n","import { defineComponent, createBlock, openBlock, unref, withCtx, createVNode, mergeProps, withModifiers, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from './MenuContentImpl.js';\nimport { d as SUB_CLOSE_KEYS } from './utils.js';\nimport { u as useForwardPropsEmits } from '../shared/useForwardPropsEmits.js';\nimport { i as injectMenuSubContext } from './MenuSub.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { u as useId } from '../shared/useId.js';\nimport { P as Presence } from '../Presence/Presence.js';\nimport { i as injectMenuContext, a as injectMenuRootContext } from './MenuRoot.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuSubContent\",\n  props: {\n    forceMount: { type: Boolean },\n    loop: { type: Boolean },\n    sideOffset: {},\n    alignOffset: {},\n    avoidCollisions: { type: Boolean },\n    collisionBoundary: {},\n    collisionPadding: {},\n    arrowPadding: {},\n    sticky: {},\n    hideWhenDetached: { type: Boolean },\n    positionStrategy: {},\n    updatePositionStrategy: {},\n    disableUpdateOnLayoutShift: { type: Boolean },\n    prioritizePosition: { type: Boolean, default: true },\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"escapeKeyDown\", \"pointerDownOutside\", \"focusOutside\", \"interactOutside\", \"entryFocus\", \"openAutoFocus\", \"closeAutoFocus\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const forwarded = useForwardPropsEmits(props, emits);\n    const menuContext = injectMenuContext();\n    const rootContext = injectMenuRootContext();\n    const menuSubContext = injectMenuSubContext();\n    const { forwardRef, currentElement: subContentElement } = useForwardExpose();\n    menuSubContext.contentId ||= useId(void 0, \"reka-menu-sub-content\");\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(Presence), {\n        present: _ctx.forceMount || unref(menuContext).open.value\n      }, {\n        default: withCtx(() => [\n          createVNode(_sfc_main$1, mergeProps(unref(forwarded), {\n            id: unref(menuSubContext).contentId,\n            ref: unref(forwardRef),\n            \"aria-labelledby\": unref(menuSubContext).triggerId,\n            align: \"start\",\n            side: unref(rootContext).dir.value === \"rtl\" ? \"left\" : \"right\",\n            \"disable-outside-pointer-events\": false,\n            \"disable-outside-scroll\": false,\n            \"trap-focus\": false,\n            onOpenAutoFocus: _cache[0] || (_cache[0] = withModifiers((event) => {\n              if (unref(rootContext).isUsingKeyboardRef.value) unref(subContentElement)?.focus();\n            }, [\"prevent\"])),\n            onCloseAutoFocus: _cache[1] || (_cache[1] = withModifiers(() => {\n            }, [\"prevent\"])),\n            onFocusOutside: _cache[2] || (_cache[2] = (event) => {\n              if (event.defaultPrevented) return;\n              if (event.target !== unref(menuSubContext).trigger.value)\n                unref(menuContext).onOpenChange(false);\n            }),\n            onEscapeKeyDown: _cache[3] || (_cache[3] = (event) => {\n              unref(rootContext).onClose();\n              event.preventDefault();\n            }),\n            onKeydown: _cache[4] || (_cache[4] = (event) => {\n              const isKeyDownInside = event.currentTarget?.contains(event.target);\n              const isCloseKey = unref(SUB_CLOSE_KEYS)[unref(rootContext).dir.value].includes(event.key);\n              if (isKeyDownInside && isCloseKey) {\n                unref(menuContext).onOpenChange(false);\n                unref(menuSubContext).trigger.value?.focus();\n                event.preventDefault();\n              }\n            })\n          }), {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 16, [\"id\", \"aria-labelledby\", \"side\"])\n        ]),\n        _: 3\n      }, 8, [\"present\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuSubContent.js.map\n","import { defineComponent, createBlock, openBlock, unref, normalizeProps, guardReactiveProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Popper/PopperAnchor.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuAnchor\",\n  props: {\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  setup(__props) {\n    const props = __props;\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), normalizeProps(guardReactiveProps(props)), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuAnchor.js.map\n","import { defineComponent, ref, onUnmounted, createBlock, openBlock, withCtx, createVNode, mergeProps, unref, renderSlot, nextTick } from 'vue';\nimport { _ as _sfc_main$1 } from './MenuAnchor.js';\nimport { _ as _sfc_main$2 } from './MenuItemImpl.js';\nimport { g as getOpenState, c as isMouseEvent, e as SUB_OPEN_KEYS } from './utils.js';\nimport { u as useId } from '../shared/useId.js';\nimport { i as injectMenuContext, a as injectMenuRootContext } from './MenuRoot.js';\nimport { i as injectMenuSubContext } from './MenuSub.js';\nimport { i as injectMenuContentContext } from './MenuContentImpl.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"MenuSubTrigger\",\n  props: {\n    disabled: { type: Boolean },\n    textValue: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const menuContext = injectMenuContext();\n    const rootContext = injectMenuRootContext();\n    const subContext = injectMenuSubContext();\n    const contentContext = injectMenuContentContext();\n    const openTimerRef = ref(null);\n    subContext.triggerId ||= useId(void 0, \"reka-menu-sub-trigger\");\n    function clearOpenTimer() {\n      if (openTimerRef.value)\n        window.clearTimeout(openTimerRef.value);\n      openTimerRef.value = null;\n    }\n    onUnmounted(() => {\n      clearOpenTimer();\n    });\n    function handlePointerMove(event) {\n      if (!isMouseEvent(event))\n        return;\n      const defaultPrevented = contentContext.onItemEnter(event);\n      if (defaultPrevented)\n        return;\n      if (!props.disabled && !menuContext.open.value && !openTimerRef.value) {\n        contentContext.onPointerGraceIntentChange(null);\n        openTimerRef.value = window.setTimeout(() => {\n          menuContext.onOpenChange(true);\n          clearOpenTimer();\n        }, 100);\n      }\n    }\n    async function handlePointerLeave(event) {\n      if (!isMouseEvent(event))\n        return;\n      clearOpenTimer();\n      const contentRect = menuContext.content.value?.getBoundingClientRect();\n      if (contentRect?.width) {\n        const side = menuContext.content.value?.dataset.side;\n        const rightSide = side === \"right\";\n        const bleed = rightSide ? -5 : 5;\n        const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n        const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n        contentContext.onPointerGraceIntentChange({\n          area: [\n            // Apply a bleed on clientX to ensure that our exit point is\n            // consistently within polygon bounds\n            { x: event.clientX + bleed, y: event.clientY },\n            { x: contentNearEdge, y: contentRect.top },\n            { x: contentFarEdge, y: contentRect.top },\n            { x: contentFarEdge, y: contentRect.bottom },\n            { x: contentNearEdge, y: contentRect.bottom }\n          ],\n          side\n        });\n        window.clearTimeout(contentContext.pointerGraceTimerRef.value);\n        contentContext.pointerGraceTimerRef.value = window.setTimeout(\n          () => contentContext.onPointerGraceIntentChange(null),\n          300\n        );\n      } else {\n        const defaultPrevented = contentContext.onTriggerLeave(event);\n        if (defaultPrevented)\n          return;\n        contentContext.onPointerGraceIntentChange(null);\n      }\n    }\n    async function handleKeyDown(event) {\n      const isTypingAhead = contentContext.searchRef.value !== \"\";\n      if (props.disabled || isTypingAhead && event.key === \" \")\n        return;\n      if (SUB_OPEN_KEYS[rootContext.dir.value].includes(event.key)) {\n        menuContext.onOpenChange(true);\n        await nextTick();\n        menuContext.content.value?.focus();\n        event.preventDefault();\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(_sfc_main$1, { \"as-child\": \"\" }, {\n        default: withCtx(() => [\n          createVNode(_sfc_main$2, mergeProps(props, {\n            id: unref(subContext).triggerId,\n            ref: (vnode) => {\n              unref(subContext)?.onTriggerChange(vnode?.$el);\n              return void 0;\n            },\n            \"aria-haspopup\": \"menu\",\n            \"aria-expanded\": unref(menuContext).open.value,\n            \"aria-controls\": unref(subContext).contentId,\n            \"data-state\": unref(getOpenState)(unref(menuContext).open.value),\n            onClick: _cache[0] || (_cache[0] = async (event) => {\n              if (props.disabled || event.defaultPrevented) return;\n              event.currentTarget.focus();\n              if (!unref(menuContext).open.value) unref(menuContext).onOpenChange(true);\n            }),\n            onPointermove: handlePointerMove,\n            onPointerleave: handlePointerLeave,\n            onKeydown: handleKeyDown\n          }), {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 16, [\"id\", \"aria-expanded\", \"aria-controls\", \"data-state\"])\n        ]),\n        _: 3\n      });\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=MenuSubTrigger.js.map\n","import { defineComponent, ref, toRefs, createBlock, openBlock, unref, isRef, withCtx, renderSlot } from 'vue';\nimport { useVModel } from '@vueuse/core';\nimport { _ as _sfc_main$1 } from '../Menu/MenuRoot.js';\nimport { c as createContext } from '../shared/createContext.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { u as useDirection } from '../shared/useDirection.js';\n\nconst [injectDropdownMenuRootContext, provideDropdownMenuRootContext] = createContext(\"DropdownMenuRoot\");\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuRoot\",\n  props: {\n    defaultOpen: { type: Boolean },\n    open: { type: Boolean, default: void 0 },\n    dir: {},\n    modal: { type: Boolean, default: true }\n  },\n  emits: [\"update:open\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit = __emit;\n    useForwardExpose();\n    const open = useVModel(props, \"open\", emit, {\n      defaultValue: props.defaultOpen,\n      passive: props.open === void 0\n    });\n    const triggerElement = ref();\n    const { modal, dir: propDir } = toRefs(props);\n    const dir = useDirection(propDir);\n    provideDropdownMenuRootContext({\n      open,\n      onOpenChange: (value) => {\n        open.value = value;\n      },\n      onOpenToggle: () => {\n        open.value = !open.value;\n      },\n      triggerId: \"\",\n      triggerElement,\n      contentId: \"\",\n      modal,\n      dir\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), {\n        open: unref(open),\n        \"onUpdate:open\": _cache[0] || (_cache[0] = ($event) => isRef(open) ? open.value = $event : null),\n        dir: unref(dir),\n        modal: unref(modal)\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\", { open: unref(open) })\n        ]),\n        _: 3\n      }, 8, [\"open\", \"dir\", \"modal\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _, injectDropdownMenuRootContext as i };\n//# sourceMappingURL=DropdownMenuRoot.js.map\n","import { defineComponent, ref, createBlock, openBlock, unref, mergeProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Menu/MenuContent.js';\nimport { u as useForwardPropsEmits } from '../shared/useForwardPropsEmits.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { i as injectDropdownMenuRootContext } from './DropdownMenuRoot.js';\nimport { u as useId } from '../shared/useId.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuContent\",\n  props: {\n    forceMount: { type: Boolean },\n    loop: { type: Boolean },\n    side: {},\n    sideOffset: {},\n    align: {},\n    alignOffset: {},\n    avoidCollisions: { type: Boolean },\n    collisionBoundary: {},\n    collisionPadding: {},\n    arrowPadding: {},\n    sticky: {},\n    hideWhenDetached: { type: Boolean },\n    positionStrategy: {},\n    updatePositionStrategy: {},\n    disableUpdateOnLayoutShift: { type: Boolean },\n    prioritizePosition: { type: Boolean },\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"escapeKeyDown\", \"pointerDownOutside\", \"focusOutside\", \"interactOutside\", \"closeAutoFocus\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const forwarded = useForwardPropsEmits(props, emits);\n    useForwardExpose();\n    const rootContext = injectDropdownMenuRootContext();\n    const hasInteractedOutsideRef = ref(false);\n    function handleCloseAutoFocus(event) {\n      if (event.defaultPrevented)\n        return;\n      if (!hasInteractedOutsideRef.value) {\n        setTimeout(() => {\n          rootContext.triggerElement.value?.focus();\n        }, 0);\n      }\n      hasInteractedOutsideRef.value = false;\n      event.preventDefault();\n    }\n    rootContext.contentId ||= useId(void 0, \"reka-dropdown-menu-content\");\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), mergeProps(unref(forwarded), {\n        id: unref(rootContext).contentId,\n        \"aria-labelledby\": unref(rootContext)?.triggerId,\n        style: {\n          \"--reka-dropdown-menu-content-transform-origin\": \"var(--reka-popper-transform-origin)\",\n          \"--reka-dropdown-menu-content-available-width\": \"var(--reka-popper-available-width)\",\n          \"--reka-dropdown-menu-content-available-height\": \"var(--reka-popper-available-height)\",\n          \"--reka-dropdown-menu-trigger-width\": \"var(--reka-popper-anchor-width)\",\n          \"--reka-dropdown-menu-trigger-height\": \"var(--reka-popper-anchor-height)\"\n        },\n        onCloseAutoFocus: handleCloseAutoFocus,\n        onInteractOutside: _cache[0] || (_cache[0] = (event) => {\n          if (event.defaultPrevented) return;\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!unref(rootContext).modal.value || isRightClick) hasInteractedOutsideRef.value = true;\n          if (unref(rootContext).triggerElement.value?.contains(event.target)) event.preventDefault();\n        })\n      }), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16, [\"id\", \"aria-labelledby\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuContent.js.map\n","import { defineComponent, createBlock, openBlock, unref, normalizeProps, guardReactiveProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Menu/MenuItem.js';\nimport { u as useEmitAsProps } from '../shared/useEmitAsProps.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuItem\",\n  props: {\n    disabled: { type: Boolean },\n    textValue: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"select\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const emitsAsProps = useEmitAsProps(emits);\n    useForwardExpose();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), normalizeProps(guardReactiveProps({ ...props, ...unref(emitsAsProps) })), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuItem.js.map\n","import { defineComponent, createBlock, openBlock, unref, normalizeProps, guardReactiveProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Menu/MenuLabel.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuLabel\",\n  props: {\n    asChild: { type: Boolean },\n    as: {}\n  },\n  setup(__props) {\n    const props = __props;\n    useForwardExpose();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), normalizeProps(guardReactiveProps(props)), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuLabel.js.map\n","import { defineComponent, createBlock, openBlock, unref, normalizeProps, guardReactiveProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Menu/MenuPortal.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuPortal\",\n  props: {\n    to: {},\n    disabled: { type: Boolean },\n    defer: { type: Boolean },\n    forceMount: { type: Boolean }\n  },\n  setup(__props) {\n    const props = __props;\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), normalizeProps(guardReactiveProps(props)), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuPortal.js.map\n","import { defineComponent, createBlock, openBlock, unref, isRef, withCtx, renderSlot } from 'vue';\nimport { useVModel } from '@vueuse/core';\nimport { _ as _sfc_main$1 } from '../Menu/MenuSub.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuSub\",\n  props: {\n    defaultOpen: { type: Boolean },\n    open: { type: Boolean, default: void 0 }\n  },\n  emits: [\"update:open\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emit = __emit;\n    const open = useVModel(props, \"open\", emit, {\n      passive: props.open === void 0,\n      defaultValue: props.defaultOpen ?? false\n    });\n    useForwardExpose();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), {\n        open: unref(open),\n        \"onUpdate:open\": _cache[0] || (_cache[0] = ($event) => isRef(open) ? open.value = $event : null)\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\", { open: unref(open) })\n        ]),\n        _: 3\n      }, 8, [\"open\"]);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuSub.js.map\n","import { defineComponent, createBlock, openBlock, unref, mergeProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Menu/MenuSubContent.js';\nimport '@floating-ui/vue';\nimport { u as useForwardPropsEmits } from '../shared/useForwardPropsEmits.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuSubContent\",\n  props: {\n    forceMount: { type: Boolean },\n    loop: { type: Boolean },\n    sideOffset: {},\n    alignOffset: {},\n    avoidCollisions: { type: Boolean },\n    collisionBoundary: {},\n    collisionPadding: {},\n    arrowPadding: {},\n    sticky: {},\n    hideWhenDetached: { type: Boolean },\n    positionStrategy: {},\n    updatePositionStrategy: {},\n    disableUpdateOnLayoutShift: { type: Boolean },\n    prioritizePosition: { type: Boolean },\n    reference: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  emits: [\"escapeKeyDown\", \"pointerDownOutside\", \"focusOutside\", \"interactOutside\", \"entryFocus\", \"openAutoFocus\", \"closeAutoFocus\"],\n  setup(__props, { emit: __emit }) {\n    const props = __props;\n    const emits = __emit;\n    const forwarded = useForwardPropsEmits(props, emits);\n    useForwardExpose();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), mergeProps(unref(forwarded), { style: {\n        \"--reka-dropdown-menu-content-transform-origin\": \"var(--reka-popper-transform-origin)\",\n        \"--reka-dropdown-menu-content-available-width\": \"var(--reka-popper-available-width)\",\n        \"--reka-dropdown-menu-content-available-height\": \"var(--reka-popper-available-height)\",\n        \"--reka-dropdown-menu-trigger-width\": \"var(--reka-popper-anchor-width)\",\n        \"--reka-dropdown-menu-trigger-height\": \"var(--reka-popper-anchor-height)\"\n      } }), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuSubContent.js.map\n","import { defineComponent, createBlock, openBlock, unref, normalizeProps, guardReactiveProps, withCtx, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Menu/MenuSubTrigger.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuSubTrigger\",\n  props: {\n    disabled: { type: Boolean },\n    textValue: {},\n    asChild: { type: Boolean },\n    as: {}\n  },\n  setup(__props) {\n    const props = __props;\n    useForwardExpose();\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), normalizeProps(guardReactiveProps(props)), {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\")\n        ]),\n        _: 3\n      }, 16);\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuSubTrigger.js.map\n","import { defineComponent, onMounted, createBlock, openBlock, unref, withCtx, createVNode, withKeys, nextTick, renderSlot } from 'vue';\nimport { _ as _sfc_main$1 } from '../Menu/MenuAnchor.js';\nimport { u as useForwardExpose } from '../shared/useForwardExpose.js';\nimport { u as useId } from '../shared/useId.js';\nimport { P as Primitive } from '../Primitive/Primitive.js';\nimport { i as injectDropdownMenuRootContext } from './DropdownMenuRoot.js';\n\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"DropdownMenuTrigger\",\n  props: {\n    disabled: { type: Boolean },\n    asChild: { type: Boolean },\n    as: { default: \"button\" }\n  },\n  setup(__props) {\n    const props = __props;\n    const rootContext = injectDropdownMenuRootContext();\n    const { forwardRef, currentElement: triggerElement } = useForwardExpose();\n    onMounted(() => {\n      rootContext.triggerElement = triggerElement;\n    });\n    rootContext.triggerId ||= useId(void 0, \"reka-dropdown-menu-trigger\");\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(unref(_sfc_main$1), { \"as-child\": \"\" }, {\n        default: withCtx(() => [\n          createVNode(unref(Primitive), {\n            id: unref(rootContext).triggerId,\n            ref: unref(forwardRef),\n            type: _ctx.as === \"button\" ? \"button\" : void 0,\n            \"as-child\": props.asChild,\n            as: _ctx.as,\n            \"aria-haspopup\": \"menu\",\n            \"aria-expanded\": unref(rootContext).open.value,\n            \"aria-controls\": unref(rootContext).open.value ? unref(rootContext).contentId : void 0,\n            \"data-disabled\": _ctx.disabled ? \"\" : void 0,\n            disabled: _ctx.disabled,\n            \"data-state\": unref(rootContext).open.value ? \"open\" : \"closed\",\n            onClick: _cache[0] || (_cache[0] = async (event) => {\n              if (!_ctx.disabled && event.button === 0 && event.ctrlKey === false) {\n                unref(rootContext)?.onOpenToggle();\n                await nextTick();\n                if (unref(rootContext).open.value) event.preventDefault();\n              }\n            }),\n            onKeydown: _cache[1] || (_cache[1] = withKeys(\n              (event) => {\n                if (_ctx.disabled) return;\n                if ([\"Enter\", \" \"].includes(event.key)) unref(rootContext).onOpenToggle();\n                if (event.key === \"ArrowDown\") unref(rootContext).onOpenChange(true);\n                if ([\"Enter\", \" \", \"ArrowDown\"].includes(event.key))\n                  event.preventDefault();\n              },\n              [\"enter\", \"space\", \"arrow-down\"]\n            ))\n          }, {\n            default: withCtx(() => [\n              renderSlot(_ctx.$slots, \"default\")\n            ]),\n            _: 3\n          }, 8, [\"id\", \"type\", \"as-child\", \"as\", \"aria-expanded\", \"aria-controls\", \"data-disabled\", \"disabled\", \"data-state\"])\n        ]),\n        _: 3\n      });\n    };\n  }\n});\n\nexport { _sfc_main as _ };\n//# sourceMappingURL=DropdownMenuTrigger.js.map\n","<template>\n  <DropdownMenuRoot v-slot=\"{ open }\">\n    <DropdownMenuTrigger as-child>\n      <slot v-if=\"$slots.default\" v-bind=\"{ open, ...attrs }\" />\n      <Button v-else :active=\"false\" v-bind=\"{ ...button, ...attrs }\">\n        {{ button ? button?.label || null : 'Options' }}\n      </Button>\n    </DropdownMenuTrigger>\n\n    <DropdownMenuPortal>\n      <DropdownMenuContent\n        :class=\"[\n          cssClasses.dropdownContent,\n          {\n            'origin-top-left': placement == 'left',\n            'origin-top-right': placement == 'right',\n            'origin-top': placement == 'center',\n          },\n        ]\"\n        :side=\"contentSide\"\n        :align=\"contentAlign\"\n        :side-offset=\"4\"\n      >\n        <div\n          v-for=\"group in groups\"\n          :key=\"group.key\"\n          :class=\"cssClasses.groupContainer\"\n        >\n          <DropdownMenuLabel\n            v-if=\"group.group && !group.hideLabel\"\n            :class=\"cssClasses.groupLabel\"\n          >\n            {{ group.group }}\n          </DropdownMenuLabel>\n\n          <DropdownMenuItem\n            v-for=\"item in group.items\"\n            :key=\"item.label\"\n            as-child\n            @select=\"item.onClick\"\n          >\n            <component\n              v-if=\"item.component\"\n              :is=\"item.component\"\n              :active=\"false\"\n            />\n            <DropdownMenuSub v-else-if=\"item.submenu\">\n              <DropdownMenuSubTrigger as-child>\n                <button :class=\"cssClasses.submenuTrigger\">\n                  <FeatherIcon\n                    v-if=\"item.icon && typeof item.icon === 'string'\"\n                    :name=\"item.icon\"\n                    :class=\"cssClasses.itemIcon\"\n                    aria-hidden=\"true\"\n                  />\n                  <component\n                    :class=\"cssClasses.itemIcon\"\n                    v-else-if=\"item.icon\"\n                    :is=\"item.icon\"\n                  />\n                  <span :class=\"cssClasses.itemLabel\">\n                    {{ item.label }}\n                  </span>\n                  <FeatherIcon\n                    name=\"chevron-right\"\n                    :class=\"cssClasses.chevronIcon\"\n                    aria-hidden=\"true\"\n                  />\n                </button>\n              </DropdownMenuSubTrigger>\n              <DropdownMenuPortal>\n                <DropdownMenuSubContent\n                  :class=\"cssClasses.dropdownContent\"\n                  :side-offset=\"4\"\n                >\n                  <div\n                    v-for=\"submenuGroup in getSubmenuGroups(item.submenu)\"\n                    :key=\"submenuGroup.key\"\n                    :class=\"cssClasses.groupContainer\"\n                  >\n                    <DropdownMenuLabel\n                      v-if=\"submenuGroup.group && !submenuGroup.hideLabel\"\n                      :class=\"cssClasses.groupLabel\"\n                    >\n                      {{ submenuGroup.group }}\n                    </DropdownMenuLabel>\n\n                    <DropdownMenuItem\n                      v-for=\"subItem in submenuGroup.items\"\n                      :key=\"subItem.label\"\n                      as-child\n                      @select=\"() => handleItemClick(subItem)\"\n                    >\n                      <component\n                        v-if=\"subItem.component\"\n                        :is=\"subItem.component\"\n                        :active=\"false\"\n                      />\n                      <button v-else :class=\"cssClasses.itemButton\">\n                        <FeatherIcon\n                          v-if=\"\n                            subItem.icon && typeof subItem.icon === 'string'\n                          \"\n                          :name=\"subItem.icon\"\n                          :class=\"cssClasses.itemIcon\"\n                          aria-hidden=\"true\"\n                        />\n                        <component\n                          :class=\"cssClasses.itemIcon\"\n                          v-else-if=\"subItem.icon\"\n                          :is=\"subItem.icon\"\n                        />\n                        <span :class=\"cssClasses.itemLabel\">\n                          {{ subItem.label }}\n                        </span>\n                      </button>\n                    </DropdownMenuItem>\n                  </div>\n                </DropdownMenuSubContent>\n              </DropdownMenuPortal>\n            </DropdownMenuSub>\n            <button v-else :class=\"cssClasses.itemButton\">\n              <FeatherIcon\n                v-if=\"item.icon && typeof item.icon === 'string'\"\n                :name=\"item.icon\"\n                :class=\"cssClasses.itemIcon\"\n                aria-hidden=\"true\"\n              />\n              <component\n                :class=\"cssClasses.itemIcon\"\n                v-else-if=\"item.icon\"\n                :is=\"item.icon\"\n              />\n              <span :class=\"cssClasses.itemLabel\">\n                {{ item.label }}\n              </span>\n            </button>\n          </DropdownMenuItem>\n        </div>\n      </DropdownMenuContent>\n    </DropdownMenuPortal>\n  </DropdownMenuRoot>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  DropdownMenuRoot,\n  DropdownMenuTrigger,\n  DropdownMenuPortal,\n  DropdownMenuContent,\n  DropdownMenuLabel,\n  DropdownMenuItem,\n  DropdownMenuSub,\n  DropdownMenuSubTrigger,\n  DropdownMenuSubContent,\n} from 'reka-ui'\nimport { Button } from '../Button'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport { computed, useAttrs } from 'vue'\nimport { useRouter } from 'vue-router'\nimport type {\n  DropdownProps,\n  DropdownOption,\n  DropdownGroupOption,\n  DropdownOptions,\n} from './types'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst router = useRouter()\nconst attrs = useAttrs()\n\nconst props = withDefaults(defineProps<DropdownProps>(), {\n  options: () => [],\n  placement: 'left',\n})\n\n// Unified click handling for all dropdown items\nconst handleItemClick = (item: DropdownOption) => {\n  if (item.route) {\n    router.push(item.route)\n  } else if (item.onClick) {\n    item.onClick()\n  }\n}\n\nconst normalizeDropdownItem = (option: DropdownOption) => {\n  return {\n    label: option.label,\n    icon: option.icon,\n    component: option.component,\n    onClick: () => handleItemClick(option),\n    submenu: option.submenu,\n  }\n}\n\n// Unified group processing for both main options and submenu options\nconst processOptionsIntoGroups = (\n  options: DropdownOptions,\n): DropdownGroupOption[] => {\n  let groups: DropdownGroupOption[] = []\n  let currentGroup: DropdownGroupOption | null = null\n  let i = 0\n\n  for (let option of options) {\n    if (option == null) {\n      continue\n    }\n\n    if ('group' in option) {\n      if (currentGroup) {\n        groups.push(currentGroup)\n        currentGroup = null\n      }\n      let groupOption = {\n        key: i,\n        ...option,\n        items: filterOptions(option.items),\n      } as DropdownGroupOption\n      groups.push(groupOption)\n    } else {\n      if (!currentGroup) {\n        currentGroup = {\n          key: i,\n          group: '',\n          hideLabel: true,\n          items: [],\n        } as DropdownGroupOption\n      }\n      currentGroup.items.push(...filterOptions([option]))\n    }\n    i++\n  }\n\n  if (currentGroup) {\n    groups.push(currentGroup)\n  }\n\n  return groups\n}\n\nconst getSubmenuGroups = (submenuOptions: DropdownOptions) => {\n  return processOptionsIntoGroups(submenuOptions)\n}\n\nconst filterOptions = (options: DropdownOption[]) => {\n  return (options || [])\n    .filter(Boolean)\n    .filter((option) => (option.condition ? option.condition() : true))\n    .map((option) => normalizeDropdownItem(option))\n}\n\n// Semantic CSS classes for consistent styling\nconst cssClasses = {\n  // Container classes\n  dropdownContent:\n    'min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none dropdown-content',\n  groupContainer: 'p-1.5',\n\n  // Label classes\n  groupLabel: 'flex h-7 items-center px-2 text-sm font-medium text-ink-gray-6',\n  itemLabel: 'whitespace-nowrap text-ink-gray-7',\n\n  // Icon classes\n  itemIcon: 'mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-6',\n  chevronIcon: 'ml-auto h-4 w-4 flex-shrink-0 text-ink-gray-6',\n\n  // Button classes\n  itemButton:\n    'group flex h-7 w-full items-center rounded px-2 text-base text-ink-gray-6 focus:bg-surface-gray-3 focus:outline-none data-[highlighted]:bg-surface-gray-3',\n  submenuTrigger:\n    'group flex h-7 w-full items-center rounded px-2 text-base text-ink-gray-6 focus:bg-surface-gray-3 focus:outline-none data-[highlighted]:bg-surface-gray-3 data-[state=open]:bg-surface-gray-3',\n}\n\nconst groups = computed(() => {\n  return processOptionsIntoGroups(props.options)\n})\n\nconst contentSide = computed(() => {\n  return 'bottom' as const\n})\n\nconst contentAlign = computed(() => {\n  if (props.placement === 'left') return 'start' as const\n  if (props.placement === 'right') return 'end' as const\n  if (props.placement === 'center') return 'center' as const\n  return 'start' as const\n})\n</script>\n\n<style scoped>\n@keyframes dropdown-in {\n  from {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n@keyframes dropdown-out {\n  from {\n    opacity: 1;\n    transform: scale(1);\n  }\n  to {\n    opacity: 0;\n    transform: scale(0.95);\n  }\n}\n\n:global(.dropdown-content[data-state='open']) {\n  animation: dropdown-in 100ms ease-out;\n}\n\n:global(.dropdown-content[data-state='closed']) {\n  animation: dropdown-out 75ms ease-in;\n}\n</style>\n","<template>\n  <div class=\"flex min-w-0 items-center\">\n    <template v-if=\"dropdownItems.length\">\n      <Dropdown class=\"h-7\" :options=\"dropdownItems\">\n        <Button variant=\"ghost\">\n          <template #icon>\n            <svg\n              class=\"w-4 text-ink-gray-5\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              stroke-width=\"2\"\n              stroke-linecap=\"round\"\n              stroke-linejoin=\"round\"\n            >\n              <circle cx=\"12\" cy=\"12\" r=\"1\" />\n              <circle cx=\"19\" cy=\"12\" r=\"1\" />\n              <circle cx=\"5\" cy=\"12\" r=\"1\" />\n            </svg>\n          </template>\n        </Button>\n      </Dropdown>\n      <span class=\"ml-1 mr-0.5 text-base text-ink-gray-4\" aria-hidden=\"true\">\n        /\n      </span>\n    </template>\n    <div\n      class=\"flex min-w-0 items-center overflow-hidden text-ellipsis whitespace-nowrap\"\n    >\n      <template v-for=\"(item, i) in crumbs\" :key=\"item.label\">\n        <router-link\n          v-if=\"item.route\"\n          :to=\"item.route\"\n          @click=\"item.onClick ? item.onClick() : null\"\n          class=\"flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3\"\n          :class=\"[\n            i == crumbs.length - 1\n              ? 'text-ink-gray-9'\n              : 'text-ink-gray-5 hover:text-ink-gray-7',\n          ]\"\n        >\n          <slot name=\"prefix\" :item=\"item\" />\n          <span>\n            {{ item.label }}\n          </span>\n          <slot name=\"suffix\" :item=\"item\" />\n        </router-link>\n        <button\n          v-else\n          @click=\"item.onClick ? item.onClick() : null\"\n          class=\"flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3\"\n          :class=\"[\n            i == crumbs.length - 1\n              ? 'text-ink-gray-9'\n              : 'text-ink-gray-5 hover:text-ink-gray-7',\n          ]\"\n        >\n          <slot name=\"prefix\" :item=\"item\" />\n          <span>\n            {{ item.label }}\n          </span>\n          <slot name=\"suffix\" :item=\"item\" />\n        </button>\n        <span\n          v-if=\"i != crumbs.length - 1\"\n          class=\"mx-0.5 text-base text-ink-gray-4\"\n          aria-hidden=\"true\"\n        >\n          /\n        </span>\n      </template>\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { useWindowSize } from '@vueuse/core'\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { Dropdown } from '../Dropdown'\nimport { Button } from '../Button'\nimport type { BreadcrumbsProps } from './types'\n\nconst props = defineProps<BreadcrumbsProps>()\n\nconst router = useRouter()\nconst { width } = useWindowSize()\n\nconst items = computed(() => {\n  return (props.items || []).filter(Boolean)\n})\n\nconst dropdownItems = computed(() => {\n  if (width.value > 640) return []\n\n  let allExceptLastTwo = items.value.slice(0, -2)\n  return allExceptLastTwo.map((item) => {\n    let onClick = () => {\n      if (item.onClick) {\n        item.onClick()\n      }\n      if (item.route) {\n        router.push(item.route)\n      }\n    }\n    return {\n      ...item,\n      icon: null,\n      label: item.label,\n      onClick,\n    }\n  })\n})\n\nconst crumbs = computed(() => {\n  if (width.value > 640) return items.value\n\n  let lastTwo = items.value.slice(-2)\n  return lastTwo\n})\n</script>\n","let id = 0\nfunction generateId() {\n  return ++id\n}\n\nexport function useId() {\n  return 'frappe-ui-' + generateId()\n}\n","<template>\n  <div\n    class=\"inline-flex space-x-2 rounded transition\"\n    :class=\"{\n      'px-2.5 py-1.5': padding && size === 'sm',\n      'px-3 py-2': padding && size === 'md',\n      'focus-within:bg-surface-gray-2 focus-within:ring-2 focus-within:ring-outline-gray-3 hover:bg-surface-gray-3 active:bg-surface-gray-4':\n        padding && !disabled,\n    }\"\n  >\n    <input\n      class=\"rounded-sm mt-[1px]\"\n      :class=\"inputClasses\"\n      type=\"checkbox\"\n      :disabled=\"disabled\"\n      :id=\"htmlId\"\n      :checked=\"Boolean(modelValue)\"\n      @change=\"\n        (e) =>\n          $emit('update:modelValue', (e.target as HTMLInputElement).checked)\n      \"\n      v-bind=\"attrs\"\n    />\n    <label class=\"block\" :class=\"labelClasses\" v-if=\"label\" :for=\"htmlId\">\n      {{ label }}\n    </label>\n  </div>\n</template>\n<script lang=\"ts\" setup>\nimport { computed, useAttrs } from 'vue'\nimport { useId } from '../../utils/useId'\nimport type { CheckboxProps } from './types'\n\nconst props = withDefaults(defineProps<CheckboxProps>(), {\n  size: 'sm',\n  padding: false,\n})\n\nconst attrs = useAttrs()\n\nconst htmlId = props.id ?? useId()\n\nconst labelClasses = computed(() => {\n  return [\n    {\n      sm: 'text-base font-medium',\n      md: 'text-lg font-medium',\n    }[props.size],\n    props.disabled ? 'text-ink-gray-4' : 'text-ink-gray-8',\n    'select-none',\n  ]\n})\n\nconst inputClasses = computed(() => {\n  let baseClasses = props.disabled\n    ? 'border-outline-gray-2 bg-surface-menu-bar text-ink-gray-3'\n    : 'border-outline-gray-4 text-ink-gray-9 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition'\n\n  let interactionClasses = props.disabled\n    ? ''\n    : props.padding\n      ? 'focus:ring-0'\n      : 'hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 active:bg-surface-gray-2'\n\n  let sizeClasses = {\n    sm: 'w-3.5 h-3.5',\n    md: 'w-4 h-4',\n  }[props.size]\n\n  return [baseClasses, interactionClasses, sizeClasses]\n})\n</script>\n","import { dayjs } from '../../utils/dayjs'\n\ntype DateConstructorParam = string | number | Date\n\nfunction getDate(...args: DateConstructorParam[]): Date {\n  return new Date(...(args as [DateConstructorParam]))\n}\n\nfunction getDateValue(date: Date | string) {\n  if (!date || date.toString() === 'Invalid Date') return ''\n\n  return dayjs(date)\n    .set('hour', 0)\n    .set('minute', 0)\n    .set('second', 0)\n    .set('millisecond', 0)\n    .format('YYYY-MM-DD')\n}\n\nfunction getDatesAfter(date: Date, count: number) {\n  let incrementer = 1\n  if (count < 0) {\n    incrementer = -1\n    count = Math.abs(count)\n  }\n  const dates: Date[] = []\n\n  while (count) {\n    date = getDate(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate() + incrementer,\n    )\n    dates.push(date)\n    count--\n  }\n\n  if (incrementer === -1) {\n    return dates.reverse()\n  }\n  return dates\n}\n\nfunction getDaysInMonth(monthIndex: number, year: number) {\n  const daysInMonthMap = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n  const daysInMonth = daysInMonthMap[monthIndex]\n  if (monthIndex === 1 && isLeapYear(year)) {\n    return 29\n  }\n  return daysInMonth\n}\n\nfunction isLeapYear(year: number) {\n  if (year % 400 === 0) return true\n  if (year % 100 === 0) return false\n  if (year % 4 === 0) return true\n  return false\n}\n\nexport { getDate, getDateValue, getDatesAfter, getDaysInMonth, isLeapYear }\n","import { computed, ref } from 'vue'\nimport { getDate, getDatesAfter, getDaysInMonth } from './utils'\n\nexport function useDatePicker() {\n  const currentYear = ref<number>(0)\n  const currentMonth = ref<number>(0)\n\n  const today = computed(() => getDate())\n\n  const dates = computed(() => {\n    if (!(currentYear.value && currentMonth.value)) {\n      return []\n    }\n    const monthIndex = currentMonth.value - 1\n    const year = currentYear.value\n\n    const firstDayOfMonth = getDate(year, monthIndex, 1)\n    const lastDayOfMonth = getDate(year, monthIndex + 1, 0)\n    const leftPaddingCount = firstDayOfMonth.getDay()\n    const rightPaddingCount = 6 - lastDayOfMonth.getDay()\n\n    const leftPadding = getDatesAfter(firstDayOfMonth, -leftPaddingCount)\n    const rightPadding = getDatesAfter(lastDayOfMonth, rightPaddingCount)\n    const daysInMonth = getDaysInMonth(monthIndex, year)\n    const datesInMonth = getDatesAfter(firstDayOfMonth, daysInMonth - 1)\n\n    let dates = [\n      ...leftPadding,\n      firstDayOfMonth,\n      ...datesInMonth,\n      ...rightPadding,\n    ]\n\n    if (dates.length < 42) {\n      const lastDate = dates.at(-1)\n      if (lastDate) {\n        const finalPadding = getDatesAfter(lastDate, 42 - dates.length)\n        dates = dates.concat(...finalPadding)\n      }\n    }\n    return dates\n  })\n\n  const datesAsWeeks = computed(() => {\n    const datesAsWeeks: Date[][] = []\n    const computedDates = dates.value.slice()\n    while (computedDates.length) {\n      const week = computedDates.splice(0, 7)\n      datesAsWeeks.push(week)\n    }\n    return datesAsWeeks\n  })\n\n  const formattedMonth = computed(() => {\n    if (!(currentYear.value && currentMonth.value)) {\n      return ''\n    }\n    const date = getDate(currentYear.value, currentMonth.value - 1, 1)\n    const month = date.toLocaleString('en-US', {\n      month: 'long',\n    })\n    return `${month}, ${date.getFullYear()}`\n  })\n\n  function prevMonth() {\n    changeMonth(-1)\n  }\n\n  function nextMonth() {\n    changeMonth(1)\n  }\n\n  function changeMonth(adder: number) {\n    currentMonth.value = currentMonth.value + adder\n    if (currentMonth.value < 1) {\n      currentMonth.value = 12\n      currentYear.value = currentYear.value - 1\n    }\n    if (currentMonth.value > 12) {\n      currentMonth.value = 1\n      currentYear.value = currentYear.value + 1\n    }\n  }\n\n  return {\n    currentYear,\n    currentMonth,\n    today,\n    dates,\n    datesAsWeeks,\n    formattedMonth,\n    prevMonth,\n    nextMonth,\n    changeMonth,\n  }\n}\n","<template>\n  <Popover\n    @open=\"selectCurrentMonthYear\"\n    class=\"flex w-full [&>div:first-child]:w-full\"\n    :placement=\"placement\"\n  >\n    <template #target=\"{ togglePopover }\">\n      <div class=\"flex flex-col space-y-1.5\">\n        <label v-if=\"props.label\" class=\"block text-xs text-ink-gray-5\">\n          {{ props.label }}\n        </label>\n         <TextInput\n          readonly\n          type=\"text\"\n          :placeholder=\"placeholder\"\n          :value=\"dateValue && formatter ? formatter(dateValue) : dateValue\"\n          @focus=\"!readonly ? togglePopover() : null\"\n          class=\"w-full\"\n          :class=\"inputClass\"\n          v-bind=\"$attrs\"\n        >\n          <template #prefix v-if=\"$slots.prefix\">\n            <slot name=\"prefix\" />\n          </template>\n        </TextInput>\n      </div>\n    </template>\n\n    <template #body=\"{ togglePopover }\">\n      <div\n        class=\"w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n        :class=\"marginClass\"\n      >\n        <!-- Month Switcher -->\n        <div class=\"flex items-center p-1 text-ink-gray-4\">\n          <Button variant=\"ghost\" class=\"h-7 w-7\" @click=\"prevMonth\">\n            <FeatherIcon\n              :stroke-width=\"2\"\n              name=\"chevron-left\"\n              class=\"h-4 w-4\"\n            />\n          </Button>\n          <div class=\"flex-1 text-center text-base font-medium text-ink-gray-6\">\n            {{ formattedMonth }}\n          </div>\n          <Button variant=\"ghost\" class=\"h-7 w-7\" @click=\"nextMonth\">\n            <FeatherIcon\n              :stroke-width=\"2\"\n              name=\"chevron-right\"\n              class=\"h-4 w-4\"\n            />\n          </Button>\n        </div>\n\n        <!-- Date Input -->\n        <div class=\"flex items-center justify-center gap-1 p-1\">\n          <TextInput\n            class=\"text-sm\"\n            type=\"text\"\n            :value=\"dateValue\"\n            @change=\"selectDate(getDate($event.target.value))\"\n          />\n          <Button\n            :label=\"'Today'\"\n            class=\"text-sm\"\n            @click=\"\n              () => {\n                selectDate(getDate(), true)\n                togglePopover()\n              }\n            \"\n          />\n        </div>\n\n        <!-- Calendar -->\n        <div\n          class=\"flex flex-col items-center justify-center p-1 text-ink-gray-8\"\n        >\n          <div class=\"flex items-center text-xs uppercase\">\n            <div\n              class=\"flex h-6 w-8 items-center justify-center text-center\"\n              v-for=\"(d, i) in ['s', 'm', 't', 'w', 't', 'f', 's']\"\n              :key=\"i\"\n            >\n              {{ d }}\n            </div>\n          </div>\n          <div\n            class=\"flex items-center\"\n            v-for=\"(week, i) in datesAsWeeks\"\n            :key=\"i\"\n          >\n            <div\n              v-for=\"date in week\"\n              :key=\"getDateValue(date)\"\n              class=\"flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2\"\n              :class=\"{\n                'text-ink-gray-3': date.getMonth() !== currentMonth - 1,\n                'font-extrabold text-ink-gray-9':\n                  getDateValue(date) === getDateValue(today),\n                'bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6':\n                  getDateValue(date) === dateValue,\n              }\"\n              @click=\"\n                () => {\n                  selectDate(date)\n                  togglePopover()\n                }\n              \"\n            >\n              {{ date.getDate() }}\n            </div>\n          </div>\n        </div>\n\n        <!-- Actions -->\n        <div class=\"flex justify-end p-1\">\n          <Button\n            :label=\"'Clear'\"\n            class=\"text-sm\"\n            @click=\"\n              () => {\n                selectDate('')\n                togglePopover()\n              }\n            \"\n          />\n        </div>\n      </div>\n    </template>\n  </Popover>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, onMounted } from 'vue'\n\nimport { Button } from '../Button'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport { Popover } from '../Popover'\nimport { TextInput } from '../TextInput'\n\nimport { dayjsLocal } from '../../utils/dayjs'\nimport { useDatePicker } from './useDatePicker'\nimport { getDate, getDateValue } from './utils'\n\nimport type { DatePickerEmits, DatePickerProps } from './types'\n\nconst props = defineProps<DatePickerProps>()\nconst emit = defineEmits<DatePickerEmits>()\n\nconst {\n  currentYear,\n  currentMonth,\n  today,\n  datesAsWeeks,\n  formattedMonth,\n  prevMonth,\n  nextMonth,\n} = useDatePicker()\n\nconst marginClass = computed(() => {\n  let _marginClass = 'mt-2'\n  if (props.placement?.startsWith('top')) {\n    _marginClass = 'mb-2'\n  } else if (props.placement?.startsWith('left')) {\n    _marginClass = 'mr-2'\n  } else if (props.placement?.startsWith('right')) {\n    _marginClass = 'ml-2'\n  }\n  return _marginClass\n})\n\nconst dateValue = computed(() => {\n  return props.value ? props.value : props.modelValue\n})\n\nfunction selectDate(date: Date | string, isNow: boolean = false) {\n  date = isNow ? dayjsLocal(date) : date\n  emit('change', getDateValue(date))\n  emit('update:modelValue', getDateValue(date))\n}\n\nfunction selectCurrentMonthYear() {\n  let date = dateValue.value ? getDate(dateValue.value) : getDate()\n  if (date.toString() === 'Invalid Date') {\n    date = getDate()\n  }\n  currentYear.value = date.getFullYear()\n  currentMonth.value = date.getMonth() + 1\n}\n\nonMounted(() => selectCurrentMonthYear())\n</script>\n","<template>\n  <div class=\"space-y-1.5\">\n    <label class=\"block\" :class=\"labelClasses\" v-if=\"label\" :for=\"id\">\n      {{ label }}\n    </label>\n    <textarea\n      ref=\"textareaRef\"\n      :placeholder=\"placeholder\"\n      :class=\"inputClasses\"\n      :disabled=\"disabled\"\n      :id=\"id\"\n      :value=\"modelValue\"\n      :rows=\"rows\"\n      @input=\"handleChange\"\n      @change=\"handleChange\"\n      v-bind=\"attrs\"\n    />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed, useAttrs, ref } from 'vue'\nimport debounce from '../../utils/debounce'\nimport type { TextareaProps } from './types'\n\nconst props = withDefaults(defineProps<TextareaProps>(), {\n  type: 'text',\n  size: 'sm',\n  variant: 'subtle',\n  rows: 3,\n})\n\nconst emit = defineEmits(['update:modelValue'])\nconst attrs = useAttrs()\nconst textareaRef = ref<HTMLTextAreaElement | null>(null)\n\nconst inputClasses = computed(() => {\n  let sizeClasses = {\n    sm: 'text-base rounded',\n    md: 'text-base rounded',\n    lg: 'text-lg rounded-md',\n    xl: 'text-xl rounded-md',\n  }[props.size]\n\n  let paddingClasses = {\n    sm: ['py-1.5 px-2'],\n    md: ['py-1.5 px-2.5'],\n    lg: ['py-1.5 px-3'],\n    xl: ['py-1.5 px-3'],\n  }[props.size]\n\n  let variant = props.disabled ? 'disabled' : props.variant\n  let variantClasses = {\n    subtle:\n      'border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3',\n    outline:\n      'border border-outline-gray-2 bg-surface-white placeholder-ink-gray-4 hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3',\n    disabled: [\n      'border bg-surface-gray-1 placeholder-ink-gray-3',\n      props.variant === 'outline'\n        ? 'border-outline-gray-2'\n        : 'border-transparent',\n    ],\n  }[variant]\n\n  return [\n    sizeClasses,\n    paddingClasses,\n    variantClasses,\n    props.disabled ? 'text-ink-gray-5' : 'text-ink-gray-8',\n    'transition-colors w-full block',\n  ]\n})\n\nconst labelClasses = computed(() => {\n  return [\n    {\n      sm: 'text-xs',\n      md: 'text-base',\n      lg: 'text-lg',\n      xl: 'text-xl',\n    }[props.size],\n    'text-ink-gray-5',\n  ]\n})\n\nlet emitChange = (value: string) => {\n  emit('update:modelValue', value)\n}\nif (props.debounce) {\n  emitChange = debounce(emitChange, props.debounce)\n}\n\nlet handleChange = (e: Event) => {\n  emitChange((e.target as HTMLInputElement).value)\n}\n\ndefineExpose({ el: textareaRef })\n</script>\n","<template>\n  <label class=\"block\" :class=\"labelClasses\" :for=\"id\">\n    {{ label }}\n    <template v-if=\"required\">\n      <span class=\"text-ink-red-3 select-none\" aria-hidden=\"true\">*</span>\n      <span class=\"sr-only\">(required)</span>\n    </template>\n  </label>\n</template>\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\n\ninterface FormLabelProps {\n  label: string\n  size?: 'sm' | 'md'\n  id?: string\n  required?: boolean\n}\n\nconst props = withDefaults(defineProps<FormLabelProps>(), {\n  size: 'sm',\n})\n\nconst labelClasses = computed(() => {\n  return [\n    {\n      sm: 'text-xs',\n      md: 'text-base',\n    }[props.size],\n    'text-ink-gray-5',\n  ]\n})\n</script>\n","<template>\n  <div\n    v-if=\"type != 'checkbox'\"\n    :class=\"['space-y-1.5', attrs.class]\"\n    :style=\"attrs.style\"\n  >\n    <FormLabel\n      v-if=\"label\"\n      :label=\"label\"\n      :size=\"size\"\n      :id=\"id\"\n      :required=\"required\"\n    />\n    <Select\n      v-if=\"type === 'select'\"\n      :id=\"id\"\n      v-bind=\"{ ...controlAttrs, size, variant }\"\n    >\n      <template #prefix v-if=\"$slots.prefix\">\n        <slot name=\"prefix\" />\n      </template>\n    </Select>\n    <Autocomplete\n      v-else-if=\"type === 'autocomplete'\"\n      v-bind=\"{ ...controlAttrs }\"\n    >\n      <template #prefix v-if=\"$slots.prefix\">\n        <slot name=\"prefix\" />\n      </template>\n      <template #item-prefix=\"itemPrefixProps\" v-if=\"$slots['item-prefix']\">\n        <slot name=\"item-prefix\" v-bind=\"itemPrefixProps\" />\n      </template>\n    </Autocomplete>\n    <Textarea\n      v-else-if=\"type === 'textarea'\"\n      :id=\"id\"\n      v-bind=\"{ ...controlAttrs, size, variant }\"\n    />\n    <TextInput\n      v-else\n      :id=\"id\"\n      v-bind=\"{ ...controlAttrs, type, size, variant, required }\"\n    >\n      <template #prefix v-if=\"$slots.prefix\">\n        <slot name=\"prefix\" />\n      </template>\n      <template #suffix v-if=\"$slots.suffix\">\n        <slot name=\"suffix\" />\n      </template>\n    </TextInput>\n    <slot name=\"description\">\n      <p v-if=\"description\" :class=\"descriptionClasses\">{{ description }}</p>\n    </slot>\n  </div>\n  <Checkbox\n    v-else\n    :id=\"id\"\n    v-bind=\"{ ...controlAttrs, label, size, class: attrs.class }\"\n  />\n</template>\n<script setup lang=\"ts\">\nimport { useAttrs, computed } from 'vue'\nimport { useId } from '../../utils/useId'\nimport { TextInput } from '../TextInput'\nimport { Select } from '../Select'\nimport { Textarea } from '../Textarea'\nimport { Checkbox } from '../Checkbox'\nimport { Autocomplete } from '../Autocomplete'\nimport FormLabel from '../FormLabel.vue'\nimport type { FormControlProps } from './types'\n\nconst id = useId()\nconst props = withDefaults(defineProps<FormControlProps>(), {\n  type: 'text',\n  size: 'sm',\n  variant: 'subtle',\n})\n\nconst attrs = useAttrs()\nconst controlAttrs = computed(() => {\n  // pass everything except class and style\n  let _attrs: typeof attrs = {}\n  for (let key in attrs) {\n    if (key !== 'class' && key !== 'style') {\n      _attrs[key] = attrs[key]\n    }\n  }\n  return _attrs\n})\n\nconst descriptionClasses = computed(() => {\n  return [\n    {\n      sm: 'text-xs',\n      md: 'text-base',\n    }[props.size],\n    'text-ink-gray-5',\n  ]\n})\n</script>\n<script lang=\"ts\">\nexport default {\n  inheritAttrs: false,\n}\n</script>\n","<template>\n  <SwitchGroup\n    as=\"div\"\n    :tabindex=\"switchType == SwitchVariant.ONLY_LABEL ? 0 : -1\"\n    @keyup.space.self=\"emit('update:modelValue', !modelValue)\"\n    :class=\"switchGroupClasses\"\n  >\n    <span :class=\"labelContainerClasses\">\n      <SwitchLabel v-if=\"props.label\" as=\"span\" :class=\"switchLabelClasses\">{{\n        props.label\n      }}</SwitchLabel>\n      <SwitchDescription\n        v-if=\"props.description\"\n        as=\"span\"\n        :class=\"switchDescriptionClasses\"\n      >\n        {{ props.description }}\n      </SwitchDescription>\n    </span>\n    <Switch\n      :disabled=\"props.disabled\"\n      :model-value=\"modelValue ? true : false\"\n      :class=\"switchClasses\"\n      @update:model-value=\"emit('update:modelValue', !modelValue)\"\n    >\n      <span aria-hidden=\"true\" :class=\"switchCircleClasses\"></span>\n    </Switch>\n  </SwitchGroup>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed } from 'vue'\nimport {\n  Switch,\n  SwitchDescription,\n  SwitchGroup,\n  SwitchLabel,\n} from '@headlessui/vue'\nimport type { SwitchProps } from './types'\n\nenum SwitchVariant {\n  DEFAULT,\n  ONLY_LABEL,\n  WITH_LABEL_AND_DESCRIPTION,\n}\n\nconst props = withDefaults(defineProps<SwitchProps>(), {\n  size: 'sm',\n  label: '',\n  description: '',\n  disabled: false,\n})\n\nconst emit = defineEmits(['change', 'update:modelValue'])\n\nconst switchType = computed(() => {\n  if (props.label && props.description) {\n    return SwitchVariant.WITH_LABEL_AND_DESCRIPTION\n  }\n\n  if (props.label) {\n    return SwitchVariant.ONLY_LABEL\n  }\n\n  return SwitchVariant.DEFAULT\n})\n\nconst switchClasses = computed(() => {\n  return [\n    'relative inline-flex flex-shrink-0 cursor-pointer rounded-full border-transparent transition-colors duration-100 ease-in-out items-center',\n    'focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-outline-gray-3',\n    'disabled:cursor-not-allowed disabled:bg-surface-gray-3',\n    props.modelValue\n      ? 'bg-surface-gray-7 enabled:hover:bg-surface-gray-6 active:bg-surface-gray-5 group-hover:enabled:bg-surface-gray-6'\n      : 'bg-surface-gray-4 enabled:hover:bg-gray-400 active:bg-gray-500 group-hover:enabled:bg-gray-400',\n    props.size === 'md' ? 'h-5 w-8 border-[3px]' : 'h-4 w-[26px] border-2',\n  ]\n})\n\nconst switchCircleClasses = computed(() => {\n  return [\n    'pointer-events-none inline-block transform rounded-full bg-surface-white shadow ring-0 transition duration-100 ease-in-out',\n    props.size === 'md' ? 'h-3.5 w-3.5' : 'h-3 w-3',\n    props.size === 'md'\n      ? props.modelValue\n        ? 'translate-x-3 rtl:-translate-x-3'\n        : 'translate-x-0'\n      : props.modelValue\n        ? 'translate-x-2.5 rtl:-translate-x-2.5'\n        : 'translate-x-0',\n  ]\n})\n\nconst switchLabelClasses = computed(() => {\n  return [\n    'font-medium leading-normal',\n    props.disabled && switchType.value === SwitchVariant.ONLY_LABEL\n      ? 'text-ink-gray-4'\n      : 'text-ink-gray-8',\n    props.size === 'md' ? 'text-lg' : 'text-base',\n  ]\n})\n\nconst switchDescriptionClasses = computed(() => {\n  return ['max-w-xs text-p-base text-ink-gray-7']\n})\n\nconst switchGroupClasses = computed(() => {\n  const classes = ['flex justify-between']\n\n  if (switchType.value === SwitchVariant.ONLY_LABEL) {\n    classes.push(\n      'group items-center space-x-3 cursor-pointer rounded focus-visible:bg-surface-gray-2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-outline-gray-3',\n    )\n\n    classes.push(\n      props.disabled\n        ? 'cursor-not-allowed'\n        : 'hover:bg-surface-gray-3 active:bg-surface-gray-4',\n    )\n\n    classes.push(props.size === 'md' ? 'px-3 py-1.5' : 'px-2.5 py-1.5')\n  } else if (switchType.value === SwitchVariant.WITH_LABEL_AND_DESCRIPTION) {\n    classes.push('items-start')\n    classes.push(props.size === 'md' ? 'space-x-3.5' : 'space-x-2.5')\n  }\n\n  return classes\n})\n\nconst labelContainerClasses = computed(() => {\n  return ['flex flex-col space-y-0.5']\n})\n</script>\n","<template>\n  <RadioGroup v-model=\"value\">\n    <div\n      class=\"flex space-x-0.5 rounded-md bg-surface-gray-2 h-7 items-center px-[1px] text-sm\"\n    >\n      <RadioGroupOption\n        as=\"div\"\n        v-for=\"button in buttons\"\n        :key=\"button.label\"\n        :disabled=\"button.disabled\"\n        :value=\"button.value ?? button.label\"\n        v-slot=\"{ active, checked }\"\n      >\n        <Button\n          @click=\"button.onClick\"\n          v-bind=\"button\"\n          class=\"!h-6.5\"\n          :class=\"[\n            active ? 'ring-outline-gray-2 focus-visible:ring' : '',\n            checked && '!bg-surface-white',\n            button.disabled\n              ? ''\n              : checked\n                ? ' text-ink-gray-9 shadow'\n                : 'text-ink-gray-7',\n          ]\"\n        >\n          <RadioGroupLabel\n            as=\"span\"\n            class=\"flex h-4 items-center\"\n            v-show=\"button.label && !button.hideLabel\"\n            >{{ button.label }}</RadioGroupLabel\n          >\n        </Button>\n      </RadioGroupOption>\n    </div>\n  </RadioGroup>\n</template>\n<script>\nimport { RadioGroup, RadioGroupLabel, RadioGroupOption } from '@headlessui/vue'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport Button from '../Button/Button.vue'\n\nexport default {\n  name: 'TabButtons',\n  props: {\n    buttons: {\n      type: Array,\n      required: true,\n    },\n    modelValue: {\n      type: [String, Boolean, Number],\n    },\n  },\n  emits: ['update:modelValue'],\n  components: {\n    Button,\n    FeatherIcon,\n    RadioGroup,\n    RadioGroupOption,\n    RadioGroupLabel,\n  },\n  computed: {\n    value: {\n      get() {\n        return this.modelValue\n      },\n      set(value) {\n        this.$emit('update:modelValue', value)\n      },\n    },\n  },\n}\n</script>\n","import {\n  watch,\n  getCurrentInstance,\n  onBeforeUnmount,\n  type App,\n  type WatchStopHandle,\n} from 'vue'\n\ninterface PageMeta {\n  title?: string\n  emoji?: string\n  icon?: string\n}\n\ntype PageMetaFunction = () => PageMeta | null | undefined\ntype StopWatcherFunction = () => void\n\nlet faviconRef: HTMLLinkElement | null = null\nlet defaultFavIcon: string | null = null\n\nfunction initializeFavicon(): void {\n  if (typeof window !== 'undefined' && !faviconRef) {\n    faviconRef = document.querySelector('link[rel=\"icon\"]')\n    defaultFavIcon = faviconRef?.href || null\n  }\n}\n\nexport function usePageMeta(fn: PageMetaFunction): StopWatcherFunction {\n  // Initialize favicon if we're on the client\n  if (typeof window !== 'undefined') {\n    initializeFavicon()\n  }\n\n  const stopWatcher: WatchStopHandle = watch(\n    () => {\n      try {\n        return fn()\n      } catch (error) {\n        if (process.env.NODE_ENV === 'development') {\n          console.warn('Failed to parse pageMeta in', fn)\n          console.error(error)\n        }\n        return null\n      }\n    },\n    (pageMeta: PageMeta | null | undefined) => {\n      // Only execute on client side\n      if (typeof window === 'undefined') return\n      if (!pageMeta) return\n\n      if (pageMeta.title) {\n        document.title = pageMeta.title\n      }\n\n      // Ensure favicon ref is initialized\n      if (!faviconRef) initializeFavicon()\n\n      if (pageMeta.emoji) {\n        const href = `data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${pageMeta.emoji}</text></svg>`\n        if (faviconRef) faviconRef.href = href\n      } else if (pageMeta.icon) {\n        if (faviconRef) faviconRef.href = pageMeta.icon\n      } else {\n        if (faviconRef && defaultFavIcon) faviconRef.href = defaultFavIcon\n      }\n    },\n    {\n      immediate: true,\n      deep: true,\n    },\n  )\n\n  // Auto-cleanup if called within a component (like <script setup>)\n  const instance = getCurrentInstance()\n  if (instance) {\n    onBeforeUnmount(stopWatcher)\n  }\n\n  return stopWatcher\n}\n\ninterface PageMetaPlugin {\n  install(app: App): void\n}\n\nexport default {\n  install(app: App): void {\n    app.mixin(createMixin())\n  },\n} as PageMetaPlugin\n\ninterface ComponentWithPageMeta {\n  $options: {\n    pageMeta?: PageMetaFunction\n  }\n  _pageMetaStopWatcher?: StopWatcherFunction\n}\n\nfunction createMixin() {\n  return {\n    mounted(this: ComponentWithPageMeta): void {\n      if (this.$options.pageMeta) {\n        const fn = this.$options.pageMeta.bind(this)\n        this._pageMetaStopWatcher = usePageMeta(fn)\n      }\n    },\n    beforeUnmount(this: ComponentWithPageMeta): void {\n      if (this._pageMetaStopWatcher) {\n        this._pageMetaStopWatcher()\n        this._pageMetaStopWatcher = undefined\n      }\n    },\n  }\n}\n","import { createDocumentResource } from 'frappe-ui'\nimport { reactive, ref } from 'vue'\n\nconst settings = ref({})\nconst brand = reactive({})\n\nconst setting = createDocumentResource({\n  doctype: 'AntPOS Settings',\n  name: 'AntPOS Settings',\n  onSuccess: (data) => {\n    settings.value = data\n    getSettings().setupBrand()\n    return data\n  },\n})\n\nexport function getSettings() {\n  function setupBrand() {\n    brand.name = settings.value?.brand_name\n    brand.logo = settings.value?.brand_logo\n    brand.favicon = settings.value?.favicon\n  }\n\n  return {\n    setting,\n    settings,\n    brand,\n    setupBrand,\n  }\n}\n","import { defineStore } from 'pinia'\nimport { createResource } from 'frappe-ui'\nimport { useSessionStore } from './session'\nimport { reactive } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport const usersStore = defineStore('antpos-users', () => {\n  const session = useSessionStore()\n\n  let usersByName = reactive({})\n  const router = useRouter()\n\n  const users = createResource({\n    url: 'ant_pos.ant_pos.api.session.get_users',\n    cache: 'Users',\n    initialData: [],\n    auto: true,\n    transform(users) {\n      for (let user of users) {\n        usersByName[user.name] = user\n        if (user.name === 'Administrator') {\n          usersByName[user.email] = user\n        }\n      }\n      return users\n    },\n    onError(error) {\n      if (error && error.exc_type === 'AuthenticationError') {\n        router.push('/login')\n      }\n    },\n  })\n\n  function getUser(email) {\n    if (!email || email === 'sessionUser') {\n      email = session.user\n    }\n    if (!usersByName[email]) {\n      usersByName[email] = {\n        name: email,\n        email: email,\n        full_name: email.split('@')[0],\n        first_name: email.split('@')[0],\n        last_name: '',\n        user_image: null,\n        role: null,\n      }\n    }\n    return usersByName[email]\n  }\n\n  return {\n    users,\n    getUser,\n  }\n})\n","import mitt from 'mitt';\n\nconst emitter = mitt();\nexport default emitter;\n","<template>\n  <div\n  :class=\"[\n    'h-full pb-4 bg-white shadow-lg flex-col items-center transition-all duration-300 ease-in-out flex ',\n    props.collapse\n      ? 'w-[3%] sm:hidden lg:flex'\n      : 'w-[30%] px-1 fixed inset-0 z-40 lg:w-[10%] lg:inset-auto lg:z-auto lg:relative'\n  ]\"\n>\n      <Dropdown :options=\"option\" :class=\"props.collapse ? '' :'adjust w-full' \" >\n        <template #default>\n          <button\n            v-if=\"!props.collapse\"\n            class=\"flex h-14 items-center pb-2 mt-1 max-w-full  duration-150 ease-in-out justify-center object-cover \"\n            :class=\"props.collapse ? 'w-full ' : 'w-full  hover:bg-gray-100'\"\n\n          >\n            <img\n              :src=\"brand.logo || '/assets/ant_pos/antPOS.png'\"\n              alt=\"Brand Logo\"\n              class=\"object-cover max-h-[60%] lg:max-h-full transition-all duration-300 ease-in-out\"\n              :class=\"props.collapse ? 'h-7 w-full' : 'h-10 w-10 object-center'\"\n            />\n            <div\n              v-show=\"!props.collapse\"\n              class=\"flex flex-1 flex-col  text-left ml-3 transition-all duration-300 ease-in-out\"\n            >\n              <div class=\"text-p-sm font-semibold text-gray-900\">{{ brand.name ? brand.name : 'antPOS'}}</div>\n              <div class=\"mt-1 text-sm text-gray-600\">\n                {{ currentUser.full_name }}\n              </div>\n            </div>\n            <FeatherIcon\n              v-show=\"!props.collapse\"\n              name=\"chevron-down\"\n              class=\"h-5 w-5 text-gray-500 \"\n              aria-hidden=\"true\"\n            />\n          </button>\n          <button\n            v-else\n            class=\"flex h-14 justify-center items-center pb-2 mt-1 duration-150 ease-in-out\"\n            :class=\"props.collapse ? 'w-full' : 'w-44 rounded-lg hover:bg-gray-100'\"\n          >\n          <img\n              :src=\"brand.logo || '/assets/ant_pos/antPOS.png'\"\n              alt=\"Brand Logo\"\n              class=\"object-cover transition-all duration-300 ease-in-out\"\n              :class=\"props.collapse ? 'h-full w-full m-0.5' : 'h-10 w-10'\"\n            />\n        </button>\n        </template>\n      </Dropdown>\n  \n      <div class=\"w-full flex flex-col gap-3 mt-6\">\n        <div\n            class=\"w-full p-2 flex gap-3 items-center hover:bg-gray-100 hover:cursor-pointer rounded-lg transition-all duration-500 ease-in-out\"\n            :class=\"[\n                { 'bg-gray-100': base.page != 'payments' },\n                props.collapse ? 'justify-center' : ''\n            ]\"\n            @click=\"emitter.emit('updatePage', 'Pos')\"\n        >\n            <FeatherIcon name=\"monitor\" class=\"w-5 h-5 text-gray-600\" />\n            <p v-show=\"!props.collapse\" class=\"text-gray-700 font-medium\">POS</p>\n        </div>\n  \n        <div\n            class=\"w-full p-2 flex gap-3 items-center hover:bg-gray-100 hover:cursor-pointer rounded-lg transition-all duration-500 ease-in-out\"\n            :class=\"[\n                { 'bg-gray-100': base.page === 'payments' },\n                props.collapse ? 'justify-center' : ''\n            ]\"\n            @click=\"emitter.emit('updatePage', 'payments')\"\n        >\n          <FeatherIcon name=\"credit-card\" class=\"w-5 h-5 text-gray-600\" />\n          <p v-show=\"!props.collapse\" class=\"text-gray-700 font-medium\">Payments</p>\n        </div>\n  \n        <!-- <div\n            class=\"w-full p-2 flex gap-3 items-center hover:bg-gray-100 hover:cursor-pointer rounded-lg transition-all duration-500 ease-in-out\"\n            :class=\"[\n                { 'bg-gray-100': base.page === 'salesinvoice' },\n                props.collapse ? 'justify-center' : ''\n            ]\"\n            @click=\"emitter.emit('updatePage', 'salesinvoice')\"\n        >\n          <FeatherIcon name=\"file-text\" class=\"w-5 h-5 text-gray-600\" />\n          <p v-show=\"!props.collapse\" class=\"text-gray-700 font-medium\">Sales Invoice</p>\n        </div> -->\n      </div>\n  \n      <Button\n        :varient=\"'solid'\"\n        class=\"mt-auto w-full flex hover:cursor-pointer transition-all duration-500 ease-in-out \"\n        :class=\"props.collapse ? 'justify-end' : ''\"\n        @click=\"emitter.emit('trigger_collapse')\"\n      >\n      <div class=\"flex justify-center items-center\">\n        <FeatherIcon\n          :name=\"!props.collapse ? 'chevrons-left' : 'chevrons-right'\"\n          class=\"h-5 w-5\"\n        />\n        <span v-show=\"!props.collapse\">Collapse</span>\n      </div>\n      </Button>\n    </div>\n  </template>\n<script setup>\n    import { FeatherIcon, Dropdown, createResource, Button } from 'frappe-ui';\n    import { inject, ref, h, computed , defineProps} from 'vue';\n    import { getSettings } from '../stores/settings'\n    import { usersStore } from '../data/users';\n    import emitter from '../utils/emitter';\n    const { settings, brand } = getSettings()\n    let base = inject('base');\n    const sidebarStore = ref({\"isExpanded\":true})\n    const { loadComponent } = inject('dynamicComponent');\n    const users = usersStore()\n    const currentUser = computed(() => users.getUser())\n    const logout = createResource({\n        url: 'logout',\n        method: 'GET',\n        onSuccess(data) {\n        window.location.reload();\n        },\n    });\n    const props = defineProps({\n        collapse: {\n            type: Boolean,\n            required: true,\n        },\n    });\n    const option=[\n    {\n      label: 'Close Shift',\n      icon: () => h(FeatherIcon, { name: 'file-minus' }),\n      onClick: () => {\n        loadComponent('CloseShift')\n                  },\n    },\n    {\n      label: 'Settings',\n      icon: () => h(FeatherIcon, { name: 'settings' }),\n      onClick: () => {\n        loadComponent('Settings')\n                  },\n    },\n    \n    {\n      label: 'Logout',\n      icon: () => h(FeatherIcon, { name: 'log-out' }),\n      onClick: () => {\n        logout.fetch();\n                  },\n    },\n]\n</script>\n<style scoped>\n.adjust ::v-deep > div > div >div {\n  width: 100%;\n}\n</style>","<template>\n    <div class=\"w-full h-[6%]\">\n      <div class=\"bg-gray-300 w-full h-full flex items-center justify-between p-4 \">\n        <div class=\"flex items-center gap-2\">\n          <Button\n            variant=\"ghost\"\n            size=\"lg\"\n            @click=\"emitter.emit('trigger_collapse')\"\n            class=\"bg-gray-300 hover:bg-gray-400 rounded-full p-1.5 lg:hidden block \"\n          >\n            <FeatherIcon name=\"menu\" class=\"w-4 h-4\" />\n          </Button>\n          <div>\n            <Breadcrumbs\n              :items=\"getBreadcrumbs\"\n            />\n          </div>\n        </div>\n        <div class=\"flex  float-right gap-4\">\n          <div class=\"flex flex-row items-center\">\n            <Switch\n                v-if=\"base?.pos_profile?.custom_create_sales_order\"    \n                size=\"sm\"\n                label=\"Sales Order\"\n                :disabled=\"false\"\n                v-model=\"createSalesOrder\"\n            />\n            <Badge\n              v-if=\"badgeComponent\"\n              :label=\"badgeComponent.label\"\n              variant=\"subtle\"\n              :class=\"badgeComponent.class\"\n              :theme=\"badgeComponent.theme\"\n              size=\"lg\"\n            />\n\n          </div>\n          <div>\n            \n            <Badge\n              :variant=\"'subtle'\"\n              :ref_for=\"true\"\n              :class=\"'text-xs font-semibold'\"\n              theme=\"blue\"\n              size=\"lg\"\n            >\n              {{ base?.Ant_Opening_Shift?.pos_profile }}\n\n            </Badge>\n          </div>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script setup>\n    import { inject, computed } from 'vue';\n    import { Switch, Badge, FeatherIcon,Breadcrumbs } from 'frappe-ui';\n    import emitter from '../utils/emitter';\n    const base = inject('base');\n    const createSalesOrder = computed({\n    get() {\n        return base?.pos_profile?.custom_set_sales_order === 1;\n    },\n    set(value) {\n        if (base && base.pos_profile) {\n        base.pos_profile.custom_set_sales_order = value ? 1 : 0;\n        }\n    },\n    });\n    const badgeComponent = computed(() => {\n      if (base?.is_return) {\n        return {\n          label: 'Return',\n          theme: 'yellow',\n          class:\"'text-xs font-semibold text-yellow-300'\"\n        };\n      } else if (base?.invoice?.docstatus) {\n        return {\n          label: 'Draft',\n          theme: 'red',\n          class:\"'text-xs font-semibold'\"\n        };\n      } else {\n        return {\n          label: 'Not Saved',\n          theme: 'red',\n          class:\"'text-xs font-semibold'\"\n        };\n      }\n    });\nconst getBreadcrumbs = computed(() => {\n\n  const isPos = base?.page === 'Pos';\n\n  return [\n    {\n      label: isPos ? 'POS' : 'Payments',\n      route: { name: 'Pos' },\n    },\n  ];\n});  </script>\n  ","<template>\n  <Combobox\n    v-model=\"selectedValue\"\n    :multiple=\"multiple\"\n    nullable\n    v-slot=\"{ open: isComboboxOpen }\"\n  >\n    <Popover class=\"w-full\" v-model:show=\"showOptions\">\n      <template #target=\"{ open: openPopover, togglePopover }\">\n        <slot name=\"target\" v-bind=\"{ open: openPopover, togglePopover }\">\n          <div class=\"w-full\">\n            <button\n              class=\"flex h-7 w-full items-center justify-between gap-2 rounded bg-gray-100 px-2 py-1 transition-colors hover:bg-gray-200 focus:ring-2 focus:ring-gray-400\"\n              :class=\"{ 'bg-gray-200': isComboboxOpen }\"\n              @click=\"() => togglePopover()\"\n            >\n              <div class=\"flex items-center overflow-hidden\">\n                <slot name=\"prefix\" />\n                <span class=\"truncate text-base leading-5\" v-if=\"selectedValue\">\n                  {{ displayValue(selectedValue) }}\n                </span>\n                <span class=\"text-base leading-5 text-gray-500\" v-else>\n                  {{ placeholder || '' }}\n                </span>\n              </div>\n              <slot name=\"suffix\" />\n            </button>\n          </div>\n        </slot>\n      </template>\n      <template #body=\"{ isOpen, togglePopover }\">\n        <div v-show=\"isOpen\">\n          <div\n            class=\"relative mt-1 rounded-lg bg-white text-base shadow-2xl\"\n            :class=\"bodyClasses\"\n          >\n            <ComboboxOptions\n              class=\"max-h-[15rem] overflow-y-auto px-1.5 pb-1.5\"\n              :class=\"{ 'pt-1.5': hideSearch }\"\n              static\n            >\n              <div\n                v-if=\"!hideSearch\"\n                class=\"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-white py-1.5\"\n              >\n                <div class=\"relative w-full\">\n                  <ComboboxInput\n                    ref=\"searchInput\"\n                    class=\"form-input w-full\"\n                    type=\"text\"\n                    @change=\"\n                      (e) => {\n                        query = e.target.value\n                      }\n                    \"\n                    :value=\"query\"\n                    autocomplete=\"off\"\n                    placeholder=\"Search\"\n                  />\n                  <button\n                    class=\"absolute right-0 inline-flex h-7 w-7 items-center justify-center\"\n                    @click=\"selectedValue = null\"\n                  >\n                    <FeatherIcon name=\"x\" class=\"w-4\" />\n                  </button>\n                </div>\n              </div>\n              <div\n                v-for=\"group in groups\"\n                :key=\"group.key\"\n                v-show=\"group.items.length > 0\"\n              >\n                <div\n                  v-if=\"group.group && !group.hideLabel\"\n                  class=\"sticky top-10 truncate bg-white px-2.5 py-1.5 text-sm font-medium text-gray-600\"\n                >\n                  {{ group.group }}\n                </div>\n                <ComboboxOption\n                  as=\"template\"\n                  v-for=\"(option, idx) in group.items.slice(0, 50)\"\n                  :key=\"option?.value || idx\"\n                  :value=\"option\"\n                  v-slot=\"{ active, selected }\"\n                >\n                  <li\n                    :class=\"[\n                      'flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base',\n                      { 'bg-gray-100': active },\n                    ]\"\n                  >\n                    <div class=\"flex flex-1 gap-2 overflow-hidden\">\n                      <div\n                        v-if=\"$slots['item-prefix'] || $props.multiple\"\n                        class=\"flex-shrink-0\"\n                      >\n                        <slot\n                          name=\"item-prefix\"\n                          v-bind=\"{ active, selected, option }\"\n                        >\n                          <FeatherIcon\n                            name=\"check\"\n                            v-if=\"isOptionSelected(option)\"\n                            class=\"h-4 w-4 text-gray-700\"\n                          />\n                          <div v-else class=\"h-4 w-4\" />\n                        </slot>\n                      </div>\n                      <span class=\"flex-1 truncate\">\n                        {{ getLabel(option) }}  \n                      </span>\n                      <span class=\"truncate\">\n                        {{ getmobile(option) }}\n                      </span>\n                    </div>\n\n                    <div\n                      v-if=\"$slots['item-suffix'] || option?.description\"\n                      class=\"ml-2 flex-shrink-0\"\n                    >\n                      <slot\n                        name=\"item-suffix\"\n                        v-bind=\"{ active, selected, option }\"\n                      >\n                        <div\n                          v-if=\"option?.description\"\n                          class=\"text-sm text-gray-600\"\n                        >\n                          {{ option.description }}\n                        </div>\n                      </slot>\n                    </div>\n                  </li>\n                </ComboboxOption>\n              </div>\n              <li\n                v-if=\"groups.length == 0\"\n                class=\"rounded-md px-2.5 py-1.5 text-base text-gray-600\"\n              >\n                No results found\n              </li>\n            </ComboboxOptions>\n\n            <div v-if=\"$slots.footer || multiple\" class=\"border-t p-1\">\n              <slot name=\"footer\" v-bind=\"{ togglePopover }\">\n                <div v-if=\"multiple\" class=\"flex items-center justify-end\">\n                  <Button\n                    v-if=\"!areAllOptionsSelected\"\n                    label=\"Select All\"\n                    @click.stop=\"selectAll\"\n                  />\n                  <Button\n                    v-if=\"areAllOptionsSelected\"\n                    label=\"Clear All\"\n                    @click.stop=\"clearAll\"\n                  />\n                </div>\n              </slot>\n            </div>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Combobox>\n</template>\n\n<script>\nimport {\n  Combobox,\n  ComboboxButton,\n  ComboboxInput,\n  ComboboxOption,\n  ComboboxOptions,\n} from '@headlessui/vue'\nimport { nextTick } from 'vue'\nimport { FeatherIcon , Button , Popover } from 'frappe-ui'\n\nexport default {\n  name: 'Autocomplete',\n  props: [\n    'modelValue',\n    'options',\n    'placeholder',\n    'bodyClasses',\n    'multiple',\n    'hideSearch',\n  ],\n  emits: ['update:modelValue', 'update:query', 'change'],\n  components: {\n    Popover,\n    Button,\n    FeatherIcon,\n    Combobox,\n    ComboboxInput,\n    ComboboxOptions,\n    ComboboxOption,\n    ComboboxButton,\n  },\n  expose: ['togglePopover', 'closeOptions'],\n  data() {\n    return {\n      query: '',\n      showOptions: false,\n    }\n  },\n  computed: {\n    selectedValue: {\n      get() {\n        if (!this.multiple) {\n          return this.findOption(this.modelValue);\n        }\n        // In case of multiple, modelValue is an array of values\n        // If the modelValue is a list of values, convert them to options\n        return isOptionOrValue(this.modelValue?.[0]) === 'value'\n          ? this.modelValue?.map((v) => this.findOption(v))\n          : this.modelValue;\n      },\n      set(val) {\n        this.query = '';\n        if (val && !this.multiple) this.showOptions = false;\n        this.$emit('update:modelValue', val);\n      },\n    },\n    groups() {\n      if (!this.options || this.options.length === 0) return [];\n\n      let groups = this.options[0]?.group\n        ? this.options\n        : [{ group: '', items: this.sanitizeOptions(this.options) }];\n\n      return groups\n        .map((group, i) => {\n          const sanitizedItems = this.sanitizeOptions(group.items) || [];\n          return {\n            key: i,\n            group: group.group,\n            hideLabel: group.hideLabel || false,\n            items: this.filterOptions(sanitizedItems),\n          };\n        })\n        .filter((group) => group.items.length > 0);\n    },\n    allOptions() {\n      return this.groups.flatMap((group) => group.items)\n    },\n    areAllOptionsSelected() {\n      if (!this.multiple) return false\n      return this.allOptions.length === this.selectedValue?.length\n    },\n  },\n  watch: {\n    query(q) {\n      this.$emit('update:query', q)\n    },\n    showOptions(val) {\n      if (val) nextTick(() => this.$refs.searchInput?.$el?.focus())\n    },\n  },\n  methods: {\n    togglePopover(val) {\n      this.showOptions = val ?? !this.showOptions\n    },\n    closeOptions() {\n      this.showOptions = false;\n      this.openPopover = false;\n      this.togglePopover = false\n      this.isComboboxOpen = false\n    },\n    findOption(option) {\n      if (!option) return option\n      const value = isOptionOrValue(option) === 'value' ? option : option.value\n      return this.allOptions.find((o) => o.value === value)\n    },\n    filterOptions(options) {\n      if (!options) return [];\n      if (!this.query) return options;\n      const lowerQuery = this.query.trim().toLowerCase();\n      return options.filter((option) => {\n        const labelMatch = option.label?.toLowerCase().includes(lowerQuery);\n        const valueMatch = option.value?.toLowerCase().includes(lowerQuery);\n        const mobileMatch = option.mobile_no\n          ? option.mobile_no.toString().toLowerCase().includes(lowerQuery)\n          : false;\n        return labelMatch || valueMatch || mobileMatch;\n      });\n    },\n    displayValue(option) {\n      if (!option) return ''\n\n      if (!this.multiple) {\n        return this.getLabel(this.findOption(option))\n      }\n\n      if (!Array.isArray(option)) return ''\n\n      // in case of `multiple`, option is an array of values\n      // so the display value should be comma-separated labels\n      return option.map((v) => this.getLabel(this.findOption(v))).join(', ')\n    },\n    getLabel(option) {\n      if (isOptionOrValue(option) === 'value') return option\n      return option?.label || option?.value || 'No Name'\n    },\n    getmobile(option) {\n      if (isOptionOrValue(option) === 'value') return option\n      return option?.mobile_no || ''\n    },\n    sanitizeOptions(options) {\n      if (!options) return []\n      // in case the options are just values, convert them to objects\n      return options.map((option) => {\n        return isOptionOrValue(option) === 'option'\n          ? option\n          : { label: option, value: option }\n      })\n    },\n    isOptionSelected(option) {\n      if (!this.selectedValue) return false\n      const value = isOptionOrValue(option) === 'value' ? option : option.value\n      if (!this.multiple) {\n        return this.selectedValue?.value === value\n      }\n      return this.selectedValue?.find((v) => v && v.value === value)\n    },\n    selectAll() {\n      this.selectedValue = this.allOptions\n    },\n    clearAll() {\n      this.selectedValue = []\n    },\n  },\n}\n\nfunction isOptionOrValue(optionOrValue) {\n  return typeof optionOrValue === 'object' ? 'option' : 'value'\n}\n</script>","import { toast } from 'frappe-ui'\n\nexport function createToast(options) {\n\ttoast.create({\n\t\tposition: 'top-center',\n\t\t...options,\n\t})\n}\nexport function showToast(title, text, icon, bgColor = null, textColor = null, iconClasses = null) {\n    if (!iconClasses) {\n        iconClasses = icon === 'check' \n            ? 'bg-surface-green-3 text-ink-white rounded-md p-px' \n            : icon === 'alert-circle' \n            ? 'bg-yellow-600 text-ink-white rounded-md p-px' \n            : 'bg-surface-red-5 text-ink-white rounded-md p-px';\n    }\n\n    createToast({\n        title: title,\n        message: htmlToText ? htmlToText(text) : text,\n        icon: icon,\n        iconClasses: iconClasses,\n        timeout: 5,\n        style: {\n            backgroundColor: bgColor || 'white',\n            color: textColor || 'black' \n        },\n    });\n}\nfunction htmlToText(html) {\n    let div = document.createElement(\"div\");\n    div.innerHTML = html;\n    return div.textContent || div.innerText || \"\";\n}","<template>\n  <div class=\"w-full\">\n    <Autocomplete\n      :options=\"computedOptions\"\n      v-model=\"selectedCustomer\"\n      placeholder=\"Select Customer\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { computed, inject, onMounted, onUnmounted, watch } from 'vue';\nimport emitter from '../utils/emitter'; \nimport Autocomplete from './custom_components/Autocomplete.vue';\nimport { createListResource } from 'frappe-ui';\nimport { createToast } from '../utils';\n\n\nlet base = inject('base');\nlet errorHandled = false;\n\n\nconst customerResource = createListResource({\n  doctype: 'Customer',\n  fields: ['name', 'mobile_no','customer_group','territory','is_internal_customer'],\n  filters: {\n    disabled: false,\n  },\n  pageLength: Number.MAX_VALUE * 2,\n  auto: true,\n  onSuccess(data) {\n    errorHandled = false;\n  },\n  onError(error) {\n    if (!errorHandled) {\n        createToast({\n            title: 'error',\n            message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages || error || 'An error occurred',\n            icon: 'x-circle',\n            iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n            position: 'top-center',\n            timeout: 5,\n        });\n        errorHandled = true;\n    }\n    },\n  transform: (data) => {\n    return data.map((item) => ({\n      label: item.name,\n      value: item.name,\n      mobile_no: item.mobile_no,\n      name: item.name,\n      customer_group: item.customer_group,\n      territory: item.territory,\n      is_internal_customer: item.is_internal_customer,\n    }));\n  },\n});\n\nconst computedOptions = computed(() => {\n  return customerResource?.data\n    ? customerResource.data.map((option) => ({\n        mobile_no: option.mobile_no || '',\n        label: option.label || 'Unnamed',\n        value: option.value,\n        name: option.name,\n        customer_group: option.customer_group,\n        territory: option.territory,\n        is_internal_customer: option.is_internal_customer,\n      }))\n    : [];\n});\n\nconst refreshCustomerList = async (params) => {\n  await customerResource.fetch();\n  selectedCustomer.value={\n      mobile_no: params.mobile_no || '',\n      label: params.name || 'Unnamed',\n      value: params.name,\n      name: params.name,\n      customer_group: params.customer_group,\n      territory: params.territory,\n      is_internal_customer: params.is_internal_customer,\n  }\n};\n\n\nonMounted(() => {\n  emitter.on(\"customerCreated\"  ,refreshCustomerList);\n\n});\n\nonUnmounted(() => {\n  emitter.off(\"customerCreated\" , refreshCustomerList);\n});\n\nconst selectedCustomer = computed({\n  get: () => base.customer,\n  set: (newVal) => {\n    if(base.is_return) return\n    base.customer = newVal;\n  },\n});\n\n\n</script>\n","<template>\n    <div class=\"w-full h-[94%] flex p-2 gap-4\">\n        <div class=\"w-full h-full \">\n            <div class=\"w-full h-full flex gap-6 \">\n                <div class=\"w-[65%] h-full\">\n                    <div class=\"w-full h-full shadow-2xl p-4 rounded\">\n                        <div class=\"h-[6%]\">\n                            <Customer/>\n                        </div>\n                        <div class=\"w-full h-[94%] flex flex-col gap-4\">\n                            <TextInput type=\"text\" v-model=\"searchQuery\" placeholder=\"Search\">\n                                <template #prefix>\n                                    <FeatherIcon class=\"w-4\" name=\"search\" />\n                                </template>\n                            </TextInput>\n                            <div class=\"flex justify-evenly text-center bg-black-overlay-800 text-white rounded-md p-3 h-[6%] items-center\">\n                                <div class=\"w-[4%]\">\n                                    <input name=\"name\" id=\"id\" type=\"checkbox\" :checked=\"selectAll\"\n                                    class=\"text-black rounded-sm focus:outline-none focus:ring-0 focus:border-transparent\" @change=\"toggleAllSelection\" />\n                                </div>\n                                <p class=\"w-[19%]\">Name</p>\n                                <p class=\"w-[19%]\">Customer</p>\n                                <p class=\"w-[19%]\">Amount</p>\n                                <p class=\"w-[19%]\">Outstanding</p>\n                            </div>\n                            <div class=\"h-[92%] overflow-y-scroll rounded scrollbar-hide flex flex-col  gap-3 text-center\">\n                                <div v-if=\"filteredInvoices.length === 0\" class=\"flex justify-center items-center h-full\">\n                                    <p class=\"text-gray-500\">No invoices found</p>\n                                </div>\n                                <div v-for=\"invoice in filteredInvoices\" :key=\"invoice.name\" class=\" w-full \">\n                                    <div class=\"flex justify-evenly items-center rounded text-center bg-blue-200 p-2.5 \">\n                                        <div class=\"w-[4%] \">\n                                            <input name=\"name\" id=\"id\" type=\"checkbox\" :checked=\"invoice.selected\" \n                                            class=\"text-black rounded-sm focus:outline-none focus:ring-0 focus:border-transparent\" @change=\"toggleSelection(invoice)\" />\n                                        </div>\n                                        <p class=\"w-[19%]\">{{ invoice.name }}</p>\n                                        <p class=\"w-[19%]\">{{ invoice.customer }}</p>\n                                        <p class=\"w-[19%]\">{{ invoice.grand_total }}</p>\n                                        <p class=\"w-[19%]\">{{ invoice.outstanding_amount }}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"w-[35%] h-full\">\n                    <div class=\"w-full h-full shadow-2xl p-4 rounded flex flex-col justify-between\">\n    \n                        <div class=\"flex flex-col gap-4\">\n                            <div class=\"flex flex-col gap-6 h-fit\">\n                                <div class=\"flex justify-evenly bg-black-overlay-800 text-white rounded-md p-3\">\n                                    <p>Payment Total</p>\n                                </div>\n                                    <TabButtons\n                                        class=\" flex \"\n                                        :buttons=\"[\n                                        {\n                                            label: 'Credit',\n                                            value: 'credit',\n                                        },\n                                        {\n                                            label: 'Advanced',\n                                            value: 'advanced',\n                                        },\n                                        ]\"\n                                        v-model=\"currentTab\"\n                                    />\n                                <FormControl\n                                :type=\"'number'\"\n                                :ref_for=\"true\"\n                                size=\"sm\"\n                                variant=\"subtle\"\n                                placeholder=\"0\"\n                                :disabled=\"false\"\n                                label=\"Credit To Redeem\"\n                                v-model=\"base.paymentAmount\"\n                                @change=\"calculateAmountTotal\"\n                                />\n                            </div>\n                            <div>\n                                <p class=\"text-2xl font-bold\">Payment Method</p>\n                                <div\n                                    class=\"grid grid-cols-2 gap-4 p-2 items-center\"\n                                    v-for=\"(mode, index) in modes\"\n                                    :key=\"index\"\n                                >\n                                    <FormControl\n                                        type=\"number\"\n                                        size=\"sm\"\n                                        variant=\"subtle\"\n                                        placeholder=\"0\"\n                                        :disabled=\"false\"\n                                        :label=\"`${mode.mode_of_payment}:`\"\n                                        v-model=\"mode.amount\"\n                                    />\n                                    <Button\n                                        class=\"w-full h-full\"\n                                        :variant=\"'solid'\"\n                                        theme=\"gray\"\n                                        size=\"lg\"\n                                        label=\"Button\"\n                                        :loading=\"false\"\n                                        :disabled=\"false\"\n                                        @click=\"changemode(index)\"\n                                    >\n                                        {{ mode.mode_of_payment }}\n                                    </Button>\n                                </div>\n                                <FormControl\n                                    type=\"number\"\n                                    size=\"sm\"\n                                    variant=\"subtle\"\n                                    placeholder=\"0\"\n                                    :disabled=\"true\"\n                                    v-model=\"base.diff\"\n                                    label=\"Difference:\"\n                                />\n                            </div>\n                        </div>\n                        <div class=\"text-right\">\n                            <Button\n                                class=\"w-full p-2 h-full\"\n                                :variant=\"'solid'\"\n                                theme=\"gray\"\n                                size=\"lg\"\n                                label=\"Button\"\n                                :loading=\"false\"\n                                @click=\"createpayment\"\n                                :disabled=\"!hasSelectedInvoice\"\n                                >\n                                Submit\n                                \n                            </Button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\n\nimport { createListResource, TextInput, FormControl, FeatherIcon, createResource,TabButtons } from 'frappe-ui';\nimport { ref, inject, computed, watch, onBeforeMount } from 'vue';\nimport Customer from './Customer.vue';\nimport { createToast } from '../utils';\n\n\nlet base = inject('base');\nconst searchQuery = ref(\"\");\nconst currentTab = ref('credit');\nconst customerName = ref(base.customer.name);\nconst selectAll = ref(false);\n    const modes = ref([]);\n    let errorHandled = false;\n    \n    const invoices = createListResource({\n        doctype: 'Sales Invoice',\n        fields: ['name', 'customer', 'grand_total', 'outstanding_amount'],\n        filters: { \n            outstanding_amount: [\">\", 0],\n            docstatus: 1, \n            is_return: 0, \n            customer: customerName.value\n        },\n        orderBy: 'creation asc',\n        pageLength: Number.MAX_VALUE * 2,\n        transform(data) {\n            for (let d of data) {\n                d.selected= false\n            }\n            return data\n        },\n        pageLength: Number.MAX_VALUE * 2,\n    });\n\n    const filteredInvoices = computed(() => {\n        if (!invoices.data || !customerName.value) {\n            return [];\n        }\n        if (!searchQuery.value) {\n            return invoices.data;\n        }\n        return invoices.data.filter(invoice =>\n            invoice.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\n            invoice.customer.toLowerCase().includes(searchQuery.value.toLowerCase())\n        );\n    });\n    const hasSelectedInvoice = computed(() => {\n        if (currentTab.value === 'credit') return invoices.data?.some(inv => inv.selected);\n        else if (currentTab.value === 'advanced') return customerName.value && modes.value.some(mode => mode.amount > 0);\n        else return false;\n    });\n\n\n    \n    const calculateAmountTotal = () => {\n        let total = invoices.data.reduce((sum, invoice) => {\n            return invoice.selected ? sum + invoice.grand_total : sum;\n        }, 0);\n        \n        base.paymentAmount = total;\n    };\n    const toggleAllSelection = (event) => {\n        if (event && event.stopPropagation) {\n            event.stopPropagation(); \n        }\n\n        selectAll.value = event.target.checked;\n        invoices.data.forEach(invoice => {\n            invoice.selected = selectAll.value;\n        });\n\n        calculateAmountTotal();\n    };\n\n    const toggleSelection = (invoice) => {\n        if (selectAll.value) {\n            selectAll.value = false;\n        }\n        invoice.selected = !invoice.selected;\n        selectAll.value = invoices.data.every(inv => inv.selected);\n        calculateAmountTotal();\n    };\n    const addPayments = () => {\n        \n        base.pos_profile.payments.forEach(element => {\n            \n                modes.value.push({\n                    \"mode_of_payment\": element.mode_of_payment,\n                    \"amount\": 0.00,\n                    \"base_amount\": 0.00,\n                })\n            })\n            base.paid_amount=0\n        base.diff=0\n\n        \n\n\n    }\nconst clearPayments = () => {\n    modes.value.forEach(mode => {\n        mode.amount = 0;\n    });\n    base.paymentAmount = 0;\n    base.paid_amount = 0;\n    base.diff = 0;\n    invoices.data.forEach(invoice => {\n        invoice.selected = false;\n    });\n    selectAll.value = false;\n\n    invoices.reload(); // Await to ensure reactivity updates fully\n};\n\n    const changemode = (index) => {\n        modes.value.forEach((element, i) => {\n            if (i === index) {\n\n                element.amount = base.paymentAmount\n            } else {\n                element.amount = 0\n            }\n        })\n        base.paid_amount = base.paymentAmount \n    }\n    \n    onBeforeMount(() => {\n        addPayments()\n\n    });\n    const now = () => {\n        const today = new Date();\n        const year = today.getFullYear();\n        const month = String(today.getMonth() + 1).padStart(2, '0');\n        const day = String(today.getDate()).padStart(2, '0');\n        return `${year}-${month}-${day}`;\n    };\n\n    const createpayment = async () => {\n        if (currentTab.value === 'credit'){\n            const sortedModes = [...modes.value].sort((a, b) => b.amount - a.amount);\n            const selectedInvoices = filteredInvoices.value.filter(inv => inv.selected);\n            let i = 0;\n\n            while (i < sortedModes.length) {\n                const currentMode = sortedModes[i];\n                let totalToSpend = currentMode.amount;\n                const invoiceDetails = [];\n                \n                for (let invoice of selectedInvoices) {\n                    if (totalToSpend <= 0) break;\n                    if (invoice.outstanding_amount <= 0) continue;\n\n                    const allocated = Math.min(totalToSpend, invoice.outstanding_amount);\n                    invoice.outstanding_amount -= allocated;\n                    totalToSpend -= allocated;\n                    \n                    invoiceDetails.push({\n                        reference_doctype: \"Sales Invoice\",\n                        reference_name: invoice.name,\n                        allocated_amount: allocated,\n                        outstanding_amount: invoice.outstanding_amount\n                    });\n                }\n\n                if ((currentMode.amount - totalToSpend) > 0 && invoiceDetails.length > 0) {\n                    await save.fetch({\n                        action: 'Submit',\n                        references: invoiceDetails,\n                        mode: currentMode.mode_of_payment,\n                        amount: currentMode.amount - totalToSpend\n                    });\n                }\n                \n                i++;\n            }\n            clearPayments();\n        }\n        else {\n            const totalAmount = modes.value.reduce((sum, mode) => sum + (mode.amount || 0), 0);\n            \n            if (totalAmount > 0) {\n                for (const mode of modes.value) {\n                    if (mode.amount > 0) {\n                        await save.fetch({\n                            action: 'Submit',\n                            references: [],\n                            mode: mode.mode_of_payment,\n                            amount: mode.amount || 0\n                        });\n                    }\n            }\n            clearPayments();\n            } else {\n                createToast({\n                    title: 'Error',\n                    message: 'Please enter a valid amount for the payment method.',\n                    icon: 'x-circle',\n                    iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                    position: 'top-center',\n                    timeout: 5,\n                });\n            }\n        }\n    }\n    \n\n    \n    let save = createResource({\n        url: 'frappe.desk.form.save.savedocs',\n        makeParams(params) {\n            return {\n                doc: JSON.stringify(\n                    {\n                        doctype:\"Payment Entry\",\n                        payment_type: \"Receive\",\n                        posting_date:now(),\n                        party_type:'Customer',\n                        mode_of_payment:params.mode,\n                        party: base.customer.name,\n                        paid_from_account_currency:base.pos_profile.currency,\n                        paid_from:'Debtors - FITPL',\n                        paid_to:\"MGR Cash - FITPL\",\n                        paid_to_account_currency:base.pos_profile.currency,\n                        paid_amount: params.amount ,\n                        base_paid_amount: params.amount,\n                        received_amount: params.amount,\n                        base_received_amount: params.amount,\n                        references: params.references.length > 0 ?  params.references : [],\n                        reference_no:base.Ant_Opening_Shift.name\n                    },\n                ),\n                action: params.action\n            }\n        },\n        onSuccess(data) {\n            errorHandled = false;\n        },\n        onError(error) {\n                if (!errorHandled) {\n                    createToast({\n                        title: 'error',\n                        message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages  || 'An error occurred',\n                        icon: 'x-circle',\n                        iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                        position: 'top-center',\n                        timeout: 5,\n                    });\n                    errorHandled = true;\n                }\n            },\n        });\n    watch(\n        () => base.customer,\n        (newValue, oldValue) => {\n            if (oldValue != null && newValue.name !== oldValue.name) {\n                customerName.value = newValue.name;\n                invoices.filters.customer = newValue.name;\n                invoices.fetch();\n            }\n        },\n        { immediate: true }\n        ,\n    );\n    watch(\n        () => modes.value.map(mode => mode.amount),\n        (newAmounts) => {\n            const total = newAmounts.reduce((sum, val) => sum + Number(val || 0), 0);\n            base.diff =   Number(base.paymentAmount || 0) - total;\n\n        },\n        { immediate: true }\n    );\n   \n</script>","<template>\n    <div class=\"md:w-1/2 w-full shadow-2xl pt-2 px-2 rounded\">\n        <div>\n            <div>\n                <FormControl\n                    type=\"text\"\n                    v-model=\"debounceSearch\"\n                    placeholder=\"Search Items\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    @keyup.enter=\"fetchSearchResource\"\n                    :disabled=\"base.is_return\"\n                >\n                    <template #prefix>\n                        <FeatherIcon class=\"w-4\" name=\"search\" />\n                    </template>\n                </FormControl>\n                <div>\n                    <div v-if=\"items.length === 0\" class=\"text-center text-gray-500\">\n                        No items found. Try searching again.\n                    </div>\n                    <div v-else>\n                        <div class=\"flex justify-between items-center border-b pb-4\">\n                            <div class=\"flex justify-between w-full\">\n                                <span class=\"text-lg font-medium mr-4\">{{ items.item_code }}</span>\n                                <span class=\"text-sm text-gray-500\">Qty: 1</span>\n                                <span class=\"text-sm text-gray-500\">Price: {{ items.rate }}</span>\n                                <span class=\"text-lg font-semibold ml-4\">{{ items.serial_no }}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { FormControl, FeatherIcon, createResource } from 'frappe-ui';\nimport { ref, inject } from 'vue';\nimport { createToast } from '../utils';\nimport { showToast } from '../utils'\n\nconst debounceSearch = ref('');\nconst items = ref([]);\nlet base = inject('base');\nlet lastParams = null;\nconst emitter = inject('emitter');\n\nlet errorHandled = false;\n\nconst searchResource = createResource({\n    url: 'ant_pos.ant_pos.api.item.scan_barcode',\n    method: 'GET',\n    debounce: 300,\n    makeParams() {\n        return {\n            search_value: debounceSearch.value,\n        };\n    },\n    validate(params) {\n        if (!base.customer.name) {\n            return 'Customer is required'\n        }\n        \n        if (!params.search_value) {\n            return 'Search value is required';\n        }\n\n        \n    },\n    onSuccess(data) {\n        errorHandled = false;\n        if (data.serial_no) {\n            data.selected_serial_no = [data.serial_no];\n        }\n        if (!addItemIfExists(data)) {            \n            addItemsResource.fetch({ search_value: JSON.stringify(data) });\n        }\n    },\n    onError(error) {\n        if (!errorHandled) {\n            createToast({\n                title: 'error',\n                message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages || error || 'An error occurred',\n                icon: 'x-circle',\n                iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                position: 'top-center',\n                timeout: 5,\n            });\n            errorHandled = true;\n        }\n    },\n});\n\nconst addItemsResource = createResource({\n    url: 'ant_pos.ant_pos.api.item.items',\n    method: 'GET',\n    makeParams(params) {\n        return {\n            pos_profile: base.pos_profile.name,\n            search_value: params.search_value,\n            customer: base.customer.name,\n        };\n    },\n    validate(params) {\n        if (!params.search_value) {\n            return 'Search value is required';\n        }\n    },\n    onError(error) {\n        if (!errorHandled) {\n            createToast({\n                title: 'error',\n                message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages || error || 'An error occurred',\n                icon: 'x-circle',\n                iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                position: 'top-center',\n                timeout: 5,\n            });\n            errorHandled = true;\n        }\n    },\n    onSuccess(data) {\n\n        errorHandled = false;\n        addItem(data);\n    },\n    transform(data){\n        if (data.selected_serial_no && data.selected_serial_no.length > 0 ){\n            data.selected_serial_no = data.selected_serial_no.map(serial=>({\n                label:serial,\n                value:serial\n            }))\n        }\n        let  date=null\n        let qty=0\n        if (data.batch_no && data.batch_no.length > 0 && data.has_batch_no) {\n            const batch = data.batch_nos.find(b => b.batch_no ===data.selected_batch_no);\n            qty = batch ? batch.stock_qty : 0;\n            date = batch ? batch.expiry_date : null;\n            data.selected_batch_no = {\n                label: data.batch_no,\n                value: data.batch_no\n            }\n            \n        }\n        data.custom_id = Date.now() + Math.random();\n        data.stock_qty = qty;\n        data.expiry_date = date;\n        data.net_rate = data.price_list_rate || 0\n    }\n});\n\n\n\nconst fetchSearchResource = () => {\n    errorHandled = false;\n    searchResource.fetch();\n};\n\nconst addItem = (data) => {\n    data.doctype = \"Sales Invoice Item\";\n    data.parenttype = \"Sales Invoice\";\n    data.custom_id = Date.now() + Math.random()\n    if (!addItemIfExists(data)) {\n        if (data.has_batch_no && data.batch_no) {\n            data.serial_no_options = data.serial_no_options\n                .filter(serial_no => data.batch_no && serial_no.batch_no === data.batch_no)\n                .map(serial_no => ({\n                    label: serial_no.serial_no,\n                    value: serial_no.serial_no,\n                }));\n            data.use_serial_batch_fields=1;\n        }\n        addNewLine(data);\n    }\n};\n\nconst addItemIfExists = (data) => {\n    let found = false;\n    if (!base.pos_profile.custom_new_items_on_new_line) {\n        base.items.forEach((element, index) => {\n            \n            if (!element.is_return && data.item_code === element.item_code &&\n            ((data.has_batch_no && element.batch_no && data.batch_no === (element.batch_no.value || element.batch_no)) || !data.has_batch_no)) {\n                found = true;\n                \n                if (data.has_serial_no && data.selected_serial_no && data.selected_serial_no.length > 0) {\n\n                    for (let serial of data.selected_serial_no) {                        \n                        let selected = element.selected_serial_no.map(serial=>serial.value)\n                        if (selected.includes(serial)) {\n                            showToast('warning', 'Serial-no Already added')\n                            return found;\n                        }\n                    }\n                    element.selected_serial_no.push({label:data.serial_no,value:data.serial_no})                    \n                }\n                if (element.serial_no  && !data.serial_no) {\n                    showToast('warning', 'Batch already entered')\n\n                    return found\n                }\n                base.items[index].qty += 1;\n                debounceSearch.value = '';\n                \n            }\n        });\n    }\n    return found;\n};\n\nconst addNewLine = async (data) => {\n    base.items.push(data);\n    debounceSearch.value = '';\n};\nconst runDocMethod = createResource({\n    url: 'ant_pos.ant_pos.api.sales_invoice.calculate_invoice_item_taxes',\n    method: 'POST',\n    auto: false,\n    debounce: 500,\n    makeParams(params) {\n        return {\n            ...params\n        };   \n    },\n    transform(data){\n        if (data && data.items && data.items.length > 0) {\n            data.items.forEach(item => {\n                if (item.serial_no) {\n                    item.selected_serial_no = item.serial_no.trim().split('\\n').map(serial => ({\n                        label: serial,\n                        value: serial\n                    }));\n                    \n                }\n                if (item.batch_no) {\n                    \n                    item.selected_batch_no = {\n                        label: item.batch_no,\n                        value: item.batch_no\n                    };\n                } else {\n                    item.selected_batch_no = null;\n                }\n                \n            });\n            \n        }\n        return data\n    },\n\n    onSuccess(data){\n        base.invoice=data;\n        data.items.forEach(n => {\n        const e = base.items.find(b => b.custom_id === n.custom_id);\n        if (!e) return;\n        for (const k in n) {\n            if (k !== 'custom_id' && e[k] !== n[k]) {\n                if (JSON.stringify(e[k]) !== JSON.stringify(n[k])) {\n                    e[k] = n[k];\n                }\n            }\n        }\n    })\n        \n        errorHandled = false;\n    },\n    onError(error) {\n        createToast({\n            title: 'error',\n            message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages || 'An error occurred',\n            icon: 'x-circle',\n            iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n            position: 'top-center',\n            timeout: 5,\n        });\n        errorHandled = true;\n    }\n});\n\n\nconst calculateAmountTotal = async () => {\n    if (base.items.length === 0 ) return;\n    await runDocMethod.fetch({doc: JSON.stringify({\n                ...base?.invoice,\n                doctype: 'Sales Invoice',\n                is_pos: base.invoice.is_return ? base.invoice.is_pos : 1,\n                pos_profile: base.pos_profile.name,\n                company: base.pos_profile.company,\n                conversion_rate: 1,\n                selling_price_list: base.pos_profile.selling_price_list,\n                items: base.items,\n                customer: base.customer.name,\n                update_stock: 1,\n                additional_discount_percentage: base.additional_discount_percentage ? Number(base.additional_discount_percentage) : 0 ,\n                discount_amount: base.discount_amount ? Number(base.discount_amount) : 0,\n                base_total: base.invoice.base_total || 0,\n                custom_ant_opening: base.Ant_Opening_Shift.name,\n                apply_discount_on: base.pos_profile.apply_discount_on,\n            })});\n}\n\nemitter.on('featchsearchResource'),(params)=>{\n    searchResource.fetch(params)\n}\nemitter.on('calctotal', () => {\n    \n    calculateAmountTotal();\n});\n\n\n\n</script> ","<template>\n    <div class=\"md:w-1/2 w-full shadow-2xl pt-2 px-2 rounded \">\n        <div class=\"h-[85%] w-full\">\n            <div class=\"grid grid-cols-2 gap-4 p-2\">\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Placeholder\"\n                    :disabled=\"true\"\n                    label=\"Amount Paid\"\n                    :value=\"Number(base.invoice.paid_amount).toFixed(2)\"\n                    v-model=\"base.invoice.paid_amount\" \n                />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Placeholder\"\n                    :disabled=\"true\"\n                    label=\"To Be Paid\"\n                    :value=\"Number(base.invoice.rounded_total).toFixed(2)\"\n\n                    v-model=\"base.invoice.rounded_total\"\n                />\n                <FormControl\n                    v-if=\"base.invoice.paid_amount > base.invoice.rounded_total\" \n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Placeholder\"\n                    :disabled=\"true\"\n                    label=\"Paid Change\"\n                    :value=\"Number(base.invoice.paid_amount - base.invoice.rounded_total).toFixed(2)\"\n                />\n            </div>\n            <div class=\"grid grid-cols-2 gap-4 p-2 items-center\" v-for=\"(mode, index) in base?.pos_profile?.payments\" :key=\"index\">\n                \n                <FormControl\n                    v-if=\"base.invoice?.payments?.[index] && base.invoice?.payments?.[index].amount !== undefined\"\n                    type=\"number\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"false\"\n                    :label=\"mode.mode_of_payment\"\n                    :value=\"Number(base.invoice.payments[index].amount).toFixed(2)\"\n                    v-model=\"base.invoice.payments[index].amount\"\n                    @change=\"changePaymentAmount($event)\"\n                />\n                <Button\n                    v-if=\"base.invoice?.payments?.[index] && base.invoice?.payments?.[index].amount !== undefined\"\n                    class=\"w-full h-full\"\n                    :variant=\"'solid'\"\n                    theme=\"gray\"\n                    size=\"lg\"\n                    label=\"Button\"\n                    :loading=\"false\"\n                    :disabled=\"false\"\n                    @click=\"changemode(index)\"\n                >\n                    {{ mode.mode_of_payment }}\n                </Button>\n            </div>\n            <div class=\"grid grid-cols-2 gap-4 p-2\">\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Net Total\"\n                    :value=\"Number(base.invoice.net_total).toFixed(2)\"\n                    v-model=\"base.invoice.net_total\"\n                />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Tax and Charges\"\n                    :value=\"Number(base.invoice.total_taxes_and_charges).toFixed(2)\"\n                    v-model=\"base.invoice.total_taxes_and_charges\"\n                />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Total Amount\"\n                    :value=\"Number(base.invoice.total).toFixed(2)\"\n                    v-model=\"base.invoice.total\"\n                />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Discount Amount\"\n                    :value=\"Number(base.invoice.discount_amount).toFixed(2)\"\n                    v-model=\"base.invoice.discount_amount\"\n                />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Grand Total\"\n                    :value=\"Number(base.invoice.grand_total).toFixed(2)\"\n                    v-model=\"base.invoice.grand_total\"\n                />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Rounded Total\"\n                    :value=\"Number(base.invoice.rounded_total).toFixed(2)\"\n                    v-model=\"base.invoice.rounded_total\"\n                />\n            </div>\n            <div v-for=\"(credit, index) in base.invoice.advances\" :key=\"index\">\n                <div class=\"grid grid-cols-3 gap-4 p-2\">\n                    <FormControl\n                        :type=\"'text'\"\n                        :ref_for=\"true\"\n                        size=\"sm\"\n                        variant=\"subtle\"\n                        placeholder=\"0.00\"\n                        :disabled=\"true\"\n                        label=\"Credit Origin\"\n                        v-model=\"credit.reference_name\"\n                    />\n                    <FormControl\n                        :type=\"'number'\"\n                        :ref_for=\"true\"\n                        size=\"sm\"\n                        variant=\"subtle\"\n                        placeholder=\"0.00\"\n                        :disabled=\"true\"\n                        label=\"Total Credit\"\n                        :value=\"Number(credit.advance_amount).toFixed(2)\"\n                        v-model=\"credit.advance_amount\"\n                    />\n                    <FormControl\n                        :type=\"'number'\"\n                        :ref_for=\"true\"\n                        size=\"sm\"\n                        variant=\"subtle\"\n                        placeholder=\"0.00\"\n                        :disabled=\"false\"\n                        label=\"Credit To Redeem\"\n                        :value=\"Number(credit.allocated_amount).toFixed(2)\"\n                        v-model=\"credit.allocated_amount\"\n                        @change=\"changePaymentAmount($event)\"\n                    />\n                </div>\n            </div>\n            <div>\n                <DatePicker\n                    v-if=\"base.pos_profile.custom_set_sales_order\"\n                    size=\"md\"\n                    v-model=\"deliveryDate\"\n                    variant=\"subtle\"\n                    placeholder=\"Delivery Date\"\n                    :disabled=\"false\"\n                />\n            </div>\n        </div>\n        <div class=\"h-[14%] w-full mt-2 flex flex-col gap-2 \">\n            <div class=\"h-1/2 \">\n                <div class=\"flex gap-8 h-full mb-3 justify-center items-center\">\n                    <Button\n                        class=\"w-1/2 h-[90%]\"\n                        :variant=\"'solid'\"\n                        theme=\"gray\"\n                        size=\"lg\"\n                        label=\"Submit\"\n                        :loading=\"false\"\n                        :disabled=\"false\"\n                        @click=\"submitInvoice()\"\n                    >\n                        Submit\n                    </Button>\n                    <Button\n                        class=\"w-1/2  h-[90%]\"\n                        :variant=\"'solid'\"\n                        theme=\"gray\"\n                        size=\"lg\"\n                        label=\"Submit & Print\"\n                        :loading=\"false\"\n                        :disabled=\"false\"\n                        @click=\"submitInvoice('print')\"\n                    >\n                        Submit & Print\n                    </Button>\n                </div>\n            </div>\n            <div class=\"h-1/2\">\n                <Button\n                    class=\"w-full h-[90%]\"\n                    :variant=\"'ghost'\"\n                    size=\"lg\"\n                    label=\"Cancel\"\n                    :loading=\"false\"\n                    :disabled=\"false\"\n                    @click=\"remove_invoice\"\n                    theme=\"red\"\n                >\n                    Cancel\n                </Button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\nimport { Button, FormControl, createResource, DatePicker, dayjsLocal  } from 'frappe-ui'\nimport { ref, inject, onMounted , watch, computed } from 'vue'\nimport { createToast } from '../utils';\nimport { showToast } from '../utils'\n\nlet base = inject('base')\nlet errorHandled = false;\nlet doc = ref({})\n\nconst addPayments = () => {\n    \n    base.invoice.paid_amount = base.invoice.base_rounded_total\n    base.pos_profile.payments.forEach(element => {\n        if (!base.invoice.payments.some(payment => payment.mode_of_payment === element.mode_of_payment) && (base.is_return && element.allow_in_returns || !base.is_return )) {\n            base.invoice.payments.push({\n                \"mode_of_payment\": element.mode_of_payment,\n                \"amount\": Number(element.default) ? Number(base.invoice.base_rounded_total) : 0.00,\n                \"base_amount\": Number(element.default) ? Number(base.invoice.base_rounded_total) : 0.00,\n            })\n        }\n    })\n    \n\n\n}\n\nconst changemode = (index) => {\n    base.invoice.payments.forEach((element, i) => {\n        if (i === index) {\n            element.amount = base.invoice.base_rounded_total\n        } else {\n            element.amount = 0\n        }\n    })\n    base.invoice.paid_amount = base.invoice.base_rounded_total\n}\n\n\nconst deliveryDate = computed({\n  get() {\n    if (!base.invoice.delivery_date) {\n      const today = dayjsLocal().format('YYYY-MM-DD')\n      base.invoice.delivery_date = today\n    }\n    return base.invoice.delivery_date\n  },\n  set(value) {\n    base.invoice.delivery_date = value\n  }\n})\nonMounted(() => {\n    addPayments()\n})\n\nconst createSaveResource = createResource({\n    url: 'frappe.desk.form.save.savedocs',\n    makeParams(params) {\n        return {\n            doc: JSON.stringify(params.doc),\n            action: params.action\n        };\n    },\n    onSuccess(data) {\n\n        errorHandled = false;\n        doc.value.doc = data.docs[0];\n    },\n    onError(error) {\n        if (!errorHandled) {\n            createToast({\n                title: 'error',\n                message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages || 'An error occurred',\n                icon: 'x-circle',\n                iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                position: 'top-center',\n                timeout: 5,\n            });\n            errorHandled = true;\n        }\n    }\n});\n\nconst remove_invoice = () => {\n    base.invoice = {\n        payments: [],\n        advances: [],\n        items: [],\n        paid_amount: 0,\n        rounded_total: 0,\n        net_total: 0,\n        total_taxes_and_charges: 0,\n        total: 0,\n        discount_amount: 0,\n        grand_total: 0,\n        base_rounded_total: 0,\n        delivery_date: '',\n    };\n    base.is_return = false\n    base.items = [];\n    base.customer = {};\n};\n\nconst changePaymentAmount = () => {\n    base.invoice.paid_amount = 0;\n\n    base.invoice.payments.forEach((element) => {\n        element.amount = Number(element.amount);\n        base.invoice.paid_amount += element.amount;\n    });\n\n    if (Array.isArray(base.invoice.advances)) {\n        base.invoice.advances.forEach((element) => {\n            if (element.allocated_amount > 0) {\n                element.allocated_amount = Number(element.allocated_amount);\n                base.invoice.paid_amount += element.allocated_amount;\n            }\n        });\n    }\n};\n\nconst saveAndSubmit = async (doc) => {\n    await createSaveResource.fetch({ action: 'Save', doc:doc.value.doc });\n    await createSaveResource.fetch({ action: 'Submit', doc:doc.value.doc });\n}\n\nconst submitInvoice = async (action = null) => {\n    \n    if(!base.pos_profile.custom_allow_credit){\n        if (base.invoice.paid_amount<base.invoice.rounded_total)return showToast('warning', 'Credit Not Allowed', 'alert-circle', '#ffcc00','#ffffff');\n         \n    }\n\n    if(!base.pos_profile.custom_allow_partial_payments){\n        if ((base.invoice.paid_amount - base.invoice.rounded_total)>0)return showToast('warning', 'Partial payment  Not Allowed', 'alert-circle', '#ffcc00','#ffffff');\n    }\n    let invoice = { ...base.invoice };\n\n    if (await validatePaymentBeforeSave(base)) {\n        if (base?.pos_profile?.custom_set_sales_order) {\n            \n\n            const salesOrder = {\n                ...base.invoice,\n                doctype: 'Sales Order',\n                name: '',\n                naming_series: ''\n            };\n\n            doc.value = { doc: salesOrder };\n            await saveAndSubmit(doc);\n    \n            \n            const orderName = doc.value.doc.name;\n\n            base.invoice.items.forEach((item, index) => {\n                item.so_detail = doc.value.doc.items?.[index]?.name || \"\";\n                item.sales_order = orderName;\n            });\n        }\n\n        doc.value = {\n              doc: base.invoice\n            }\n        \n        await saveAndSubmit(doc)\n\n        remove_invoice();\n        createPayments(invoice);\n        showToast('success','Invoice submitted successfully', 'check-circle', 'green');\n        if (action !== null) {\n            createPrint(invoice.name);\n        }\n    }\n};\n\nconst createPayments = async (invoice) =>{\n\n    if (invoice.advances.some((element) => element.allocated_amount > 0)) { \n        for (const element of invoice.payments) {\n            if (element.amount > 0) {\n\n                await makepayment.fetch({ payments: element, invoice: invoice, method: 'Submit', change: true });\n            }\n        }\n    }\n};\nconst createPrint = async (name) =>{\n    await baseurl.fetch()\n    if (base.pos_profile.skip_printview){\n\n    }else{\n        window.open(\n            `${baseurl.data}/printview?doctype=Sales+Invoice&name=${\n                name\n            }&format=${encodeURIComponent(base.pos_profile.print_format)}&trigger_print=1&no_letterhead=${base.pos_profile.letter_head ? 1 :0 }\n            &letterhead=${base.pos_profile.letter_head}`,\n            \"_blank\"\n        );\n    }\n\n}\nconst baseurl = createResource({url: 'ant_pos.ant_pos.utils.get_domain_url',});\nlet advance = createResource({\n    url: 'run_doc_method',\n    auto: true,\n    makeParams(params) {        \n        return {\n            docs: {...base.invoice,is_pos: false,custom_ant_opening:base.Ant_Opening_Shift.name,},\n            method: 'set_advances'\n        }\n    },\n    onSuccess(data) {\n        base.invoice = {...data.docs[0],is_pos: true}\n        addPayments()\n        errorHandled = false;\n    },\n    onError(error) {\n            if (!errorHandled) {\n                createToast({\n                    title: 'error',\n                    message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages  || 'An error occurred',\n                    icon: 'x-circle',\n                    iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                    position: 'top-center',\n                    timeout: 5,\n                });\n                errorHandled = true;\n            }\n    },\n});\n\nlet makepayment = createResource({\n    url: 'frappe.desk.form.save.savedocs',\n    \n    makeParams(params) {\n        return {\n            doc: JSON.stringify({\n                ...params.payments,\n                doctype: 'Payment Entry',\n                payment_type: 'Receive',\n                party_type: 'Customer',\n                party: params.invoice.customer,\n                paid_amount: params.payments.amount,\n                received_amount: params.payments.amount,\n                references: [\n                    {\n                        reference_doctype: 'Sales Invoice',\n                        reference_name: params.invoice.name,\n                        due_date: params.invoice.due_date,\n                        allocated_amount: params.payments.amount\n                    }\n                ],\n                target_exchange_rate: 1,\n                company: params.invoice.company,\n                cost_center: params.invoice.cost_center,\n                branch: params.invoice.branch,\n            }),\n            action: params.method\n        }\n    },\n    onSuccess(data) {\n        errorHandled = false;\n    },\n    onError(error) {\n            if (!errorHandled) {\n                createToast({\n                    title: 'error',\n                    message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages  || 'An error occurred',\n                    icon: 'x-circle',\n                    iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                    position: 'top-center',\n                    timeout: 5,\n                });\n                errorHandled = true;\n            }\n    },\n});\n\nconst validatePaymentBeforeSave = async () => {\n\n    let advance = 0\n    let payment = 0\n    \n    base.invoice.advances.forEach((element) => {\n        element.allocated_amount = Number(element.allocated_amount)\n        advance += element.allocated_amount\n    })\n\n    base.invoice.payments.forEach((element) => {\n        payment += Number(element.amount)\n    })\n\n    if (advance > 0) {\n        if (base.invoice.paid_amount > base.invoice.rounded_total) {\n            showToast('warning', 'Paid amount is greater than rounded total', 'alert-circle', '#ffcc00','#ffffff');\n            return false;\n        }\n        base.invoice.payments = []\n        base.invoice.is_pos = false\n    }\n\n    return true;\n}\n\n\nwatch(\n    () => {\n        const advances = base?.invoice?.advances;\n        return Array.isArray(advances) ? advances.map(advance => advance.allocated_amount) : [];\n    },\n    (newValues, oldValues) => {\n\n        changePaymentAmount();\n    },\n    { deep: true }\n);\n\n</script>","<template>\n    <div>\n        <div :class=\"['flex bg-gray-200 w-full py-2 px-3 justify-between hover:cursor-pointer text-center' ,items.custom_open ? 'rounded-t-2xl' : 'rounded']\">\n            <div class=\"flex items-center h-[100%] rounded hover:bg-gray-300\" @click=\"items.custom_open = !items.custom_open\">\n                <FeatherIcon :name=\"items.custom_open ? 'chevron-up' : 'chevron-down'\" class=\"w-5 h-5\" />\n            </div>\n            <div class=\"w-[18.4%]\">\n                {{ items.item_code }} \n            </div>\n            <div class=\"w-[18.4%]\">\n                {{ items.qty }}\n            </div>\n            <div class=\"w-[18.4%]\">\n                {{ items.uom }}\n            </div>\n            <div class=\"w-[18.4%]\">\n                {{ Number(items.rate).toFixed(2) }}\n            </div>\n            <div class=\"w-[18.4%]\">\n                {{ items.amount ? items.amount.toFixed(2) : '0.00' }}\n            </div>\n            <div class=\"w-[8%] flex items-center justify-center\">\n                <FeatherIcon name=\"trash-2\" class=\"w-5 h-5 rounded hover:bg-red-400 fill-red-700\" @click=\"base.items.splice(index, 1)\" />\n            </div>\n        </div>\n        <div v-if=\"items.custom_open\" class=\"flex flex-col bg-gray-200 w-full py-1 px-3 rounded-b-2xl justify-between\">\n            <div class=\"grid grid-cols-3 w-full gap-4\">\n                <div class=\"p-2\">\n                    <FormControl\n                        type=\"text\"\n                        :ref_for=\"true\"\n                        size=\"sm\"\n                        variant=\"subtle\"\n                        placeholder=\"items Code\"\n                        :disabled=\"true\"\n                        label=\"items Code\"\n                        v-model=\"items.item_code\"\n                    />\n                </div>\n                <div class=\"p-2\">\n                    <FormControl\n                        type=\"number\"\n                        :ref_for=\"true\"\n                        size=\"sm\"\n                        variant=\"subtle\"\n                        placeholder=\"0\"\n                        :disabled=\"false\"\n                        label=\"QTY\"\n                        v-model=\"items.qty\"\n                    />\n                </div>\n                <div class=\"p-2\">\n                    <FormControl\n                    type=\"text\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"UOM\"\n                    :disabled=\"true\"\n                    label=\"UOM\"\n                    v-model=\"items.uom\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"number\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    :disabled=\"!base.pos_profile.allow_rate_change\"\n                    label=\"Rate\"\n                    placeholder=\"0\"\n                    :value=\"Number(items.rate).toFixed(2)\"\n                    v-model=\"items.rate\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"text\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    :disabled=\"true\"\n                    label=\"Price List Rate\"\n                    placeholder=\"0\"\n                    :value=\"Number(items.price_list_rate).toFixed(2)\"\n                    v-model=\"items.price_list_rate\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"text\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    :disabled=\"true\"\n                    label=\"Net Rate\"\n                    placeholder=\"0\"\n                    :value=\"Number(items.net_rate).toFixed(2)\"\n                    v-model=\"items.net_rate\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"number\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Discount Percentage\"\n                    :disabled=\"false\"\n                    label=\"Discount Percentage\"\n                    v-model=\"items.discount_percentage\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"number\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    :disabled=\"true\"\n                    label=\"Discount Amount\"\n                    placeholder=\"0\"\n                    :value=\"Number(items.discount_amount).toFixed(2)\"\n                    v-model=\"items.discount_amount\"\n                />\n            </div>\n            \n            <div class=\"p-2\">\n                <FormControl\n                    type=\"text\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Group\"\n                    :disabled=\"true\"\n                    label=\"Group\"\n                    v-model=\"items.item_group\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"number\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Stock Qty\"\n                    :disabled=\"true\"\n                    label=\"Stock Qty\"\n                    v-model=\"items.stock_qty\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"text\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Stock UOM\"\n                    :disabled=\"true\"\n                    label=\"Stock UOM\"\n                    v-model=\"items.stock_uom\"\n                />\n            </div>\n            <div class=\"p-2\">\n                <FormControl\n                    type=\"number\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"Serial No Qty\"\n                    :disabled=\"true\"\n                    label=\"Serial No Qty\"\n                    v-model=\"serialNoQty\"\n                />\n            </div>\n            <div class=\"flex items-center\">\n                <DatePicker\n                    v-if=\"base.pos_profile.custom_set_sales_order\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    label=\"Delivery Date\"\n                    placeholder=\"Delivery Date\"\n                    :disabled=\"false\"\n                    v-model=\"deliveryDate\"\n                    :unique=\"true\"\n                    />\n                </div>\n            </div>\n            <div class=\"w-full\">\n                <div class=\"p-2\">\n                    <Autocomplete\n                        :options=\"get_serial_no_options()\"\n                        placeholder=\"Serial No\"\n                        :multiple=\"true\"\n                        v-model=\"items.selected_serial_no\"\n                    />\n                </div>\n                <div class=\"grid grid-cols-2 w-full gap-4\">\n                    <div class=\"p-2\">\n                        <FormControl\n                            type=\"number\"\n                            :ref_for=\"true\"\n                            size=\"sm\"\n                            variant=\"subtle\"\n                            placeholder=\"Batch No Available QTY\"\n                            :disabled=\"false\"\n                            label=\"Batch No Available QTY\"\n                            v-model=\"items.stock_qty\"\n                        />\n                    </div>\n                        <div class=\"p-2\">\n                       \n                        <DatePicker\n                            size=\"sm\"\n                            variant=\"subtle\"\n                            label=\"Expiry Date\"\n                            placeholder=\"Expiry Date\"\n                            :disabled=\"false\"\n                            v-model=\"items.expiry_date\"\n                        />\n                </div>\n\n                </div>\n                <div>\n                    <div class=\"p-2 flex gap-4\">\n                        <div class=\"w-full\">\n                            <Autocomplete\n                                type=\"select\"\n                                :options=\"getbatchNo()\"\n                                size=\"sm\"\n                                variant=\"subtle\"\n                                placeholder=\"Batch No\"\n                                :disabled=\"base.is_return\"\n                                label=\"Batch No\"\n                                v-model=\"items.selected_batch_no\"\n                                :hideSearch=\"true\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script setup>\nimport { FeatherIcon, FormControl, Autocomplete, DatePicker, dayjsLocal, createResource, createListResource,debounce } from 'frappe-ui';\nimport { inject, watch, defineProps, onMounted, onUnmounted, computed } from 'vue';\nimport { showToast } from '../utils'\n\nlet base = inject('base');\nconst emitter = inject('emitter');\n\nconst props = defineProps({\n    items: {\n        type: Object,\n        required: true,\n    },\n    index: {\n        type: Number,\n        required: true,\n    },\n});\nconst get_batch = createResource({\n        url: 'ant_pos.ant_pos.api.item.get_batches_list',\n        method: 'POST',\n        auto: false,\n        makeParams(params) {\n            return {\n                ...params\n            }\n        },\n    })\n    \n    const get_serial_no = createListResource({\n        url: 'frappe.client.get_list',\n        method: 'POST',\n        auto: false,\n        doctype: 'Serial No',\n        fields: ['name as serial_no', 'batch_no' ],\n        filters: {\n            \n            warehouse: base.pos_profile.warehouse,\n            item_code: props.items.item_code,\n        },\n        pageLength: Number.MAX_VALUE * 2,\n        onSuccess(data) {            \n            props.items.serial_no_options = data.map((serial_no) => ({\n                label: serial_no.serial_no,\n                value: serial_no.serial_no,\n                batch_no: serial_no.batch_no\n            }));\n        },\n    });\nconst get_serial_no_options = () => {\n    let serials = []\n    const { has_batch_no, batch_no } = props.items;\n    if (base.is_return){\n        serials=props.items._serial || []\n        return serials.map(serial_no => ({\n        label: serial_no,\n        value: serial_no,\n    }));\n    }\n    serials =  get_serial_no.data || [];\n    \n    if (props.items.batch_no != null && !base.is_return) {\n        serials = serials.filter(serial_no => serial_no.batch_no === props.items.batch_no);\n    }\n    \n    \n    return serials.map(serial_no => ({\n        label: serial_no.serial_no,\n        value: serial_no.serial_no,\n    }));\n};\n    const getbatchNo =  () => {\n    if (base.is_return) {\n        return [{\n            label: props.items.batch_no,\n            value: props.items.batch_no,\n        }];\n    }\n    \n    return get_batch.data.map((batch_no) => ({\n        label: batch_no.batch_id,\n        value: batch_no.batch_id,\n    }));\n};\n\nconst serialNoQty = computed(() => props.items?.serial_no_options?.length || 0);\n\nwatch(\n    () => props.items.selected_batch_no,\n    (newBatchNo, oldBatchNo) => {        \n        \n        if (newBatchNo && (newBatchNo.value !== oldBatchNo?.value) || !oldBatchNo) {\n            \n            let find = validateitems();\n            const option =get_serial_no_options() \n            \n            if (!find && option.length > 0) {\n                \n                props.items.selected_serial_no = [];\n                props.items.serial_no_options = props.items.serial_no_options.filter((serial_no) => serial_no.batch_no == newBatchNo)\n                    .map((serial_no) => ({\n                        label: serial_no.serial_no,\n                        value: serial_no.serial_no,\n                    }));\n                add_serial_no();\n            }\n\n            const batch = get_batch.data.find(b => b.batch_no ===newBatchNo);\n            props.items.stock_qty = batch ? batch.stock_qty : 0;\n            props.items.expiry_date = batch ? batch.expiry_date : null;\n\n            props.items.batch_no = typeof newBatchNo === 'object' ? newBatchNo?.value : newBatchNo;\n            emitter.emit('calctotal')\n\n            \n            \n        }\n    }\n);\n\nconst validateitems = () => {\n    if (!base.pos_profile.custom_new_items_on_new_line) {\n        let find = false;\n        for (let index = 0; index < base.items.length; index++) {\n            if (props.index !== index && base.items[props.index].item_code === base.items[index].item_code &&\n                ((base.items[props.index].has_batch_no && base.items[props.index].batch_no === base.items[index].batch_no && !base.items[props.index].is_return) || \n                !base.items[props.index].has_batch_no)) { \n                    base.items.selected_serial_no= mergeSerial_no(base.items[props.index].selected_serial_no,base.items[index].selected_serial_no)\n                    base.items.splice(props.index, 1);\n                    find = true;\n                    return find;\n            }\n        }\n        return find;\n    }\n};\n\nconst mergeSerial_no = (left, right) => {\n\n  const leftValues = left.map(sn => sn.value);\n  \n  const rightValues = right.map(sn => sn.value);\n\n  const mergedValues = [...new Set([...leftValues, ...rightValues])];\n\n  return mergedValues.map(serial => ({ label: serial, value: serial }));\n};\n\nconst calculateAmountTotal = () => {\n    props.items.amount = Math.abs(props.items.qty) * props.items.rate\n    \n};\n\n\nconst validateQty = () => {\n    if (props.items.serial_no_options) {\n        const options = get_serial_no_options()\n            if (options.length > 0 && props.items.qty > options.length) {\n                showToast('warning', 'Qty is greater than available serial no', 'alert-circle', '#ffcc00','#ffffff')\n                props.items.qty = base.is_return ?  -Math.abs(options.length) : options.length;\n            }\n            \n    }\n    return ;\n};\nconst add_serial_no = () =>{  \n    props.items.serial_no = props.items.selected_serial_no.map(sn => sn.value).join('\\n');\n}\n\n\n\nwatch(\n    () => props.items.selected_serial_no,\n    (newSerial, oldSerial) => {\n        if (((props.items.serial_no_options && newSerial !== oldSerial) || !oldSerial)) {\n            add_serial_no()\n            adjustQtyNumbers(props.items.qty)\n        }\n    }\n);\nwatch(\n    () => props.items.price_list_rate,\n    (newSerial, oldSerial) => {\n        if (props.items.price_list_rate && newSerial !== oldSerial) {\n            props.items.rate = props.items.price_list_rate ;\n        }\n    }\n);\nwatch(\n    () => props.items.qty,\n    (newValue, oldValue)  =>  {\n        if (newValue !== oldValue)  {\n            const option= get_serial_no_options()\n            if (option.length > 0){\n                adjustSerialNumbers(newValue);\n                validateQty()\n                add_serial_no()\n            }\n            emitter.emit('calctotal');          \n\n        }\n    }\n);\n\nconst adjustQtyNumbers = () =>{\n    const options = get_serial_no_options();    \n    if (options.length < 0 ) return;\n    \n    const qty = props.items.qty\n    const serialLength = props.items.selected_serial_no.length\n    if (qty!=serialLength){\n        \n        props.items.qty = base.is_return ?  -Math.abs(serialLength) : serialLength;\n    }    \n}\n\n\n\nconst adjustSerialNumbers = (newQty) => {\n    const options = get_serial_no_options();\n    if (options.length < 0 ) return;\n    const selected = props.items.selected_serial_no;\n    \n    const selectedLength = selected.length ;\n        \n    if (Math.abs(selectedLength) === Math.abs(newQty))return; \n    \n    // If reducing quantity\n    if (Math.abs(selectedLength) > Math.abs(newQty)) {\n        \n        props.items.selected_serial_no = selected.slice(0, newQty);\n        \n                \n    }\n    // If increasing quantity\n    else if (Math.abs(selectedLength) < Math.abs(newQty)) {\n        \n        const selectedValues = new Set(selected.map(sn => sn.value));        \n        const needed = newQty - selectedLength;\n        \n        const additional = [];\n        for (let i = 0; i < options.length && additional.length < needed; i++) {\n            const opt = options[i];\n            if (!selectedValues.has(opt.value)) {\n                additional.push(opt);\n            }\n        }\n        \n        props.items.selected_serial_no = JSON.parse(JSON.stringify([...selected, ...additional]));\n    }\n    \n\n};\n\nwatch(\n    () => props.items.discount_percentage,\n    (newValue, oldValue) => {\n        if (newValue !== oldValue || !oldValue) {\n            discountCalculation()\n        }\n    }\n);\nconst discountCalculation = debounce(() => {\n    props.items.rate = rateCalculation(props.items);\n    props.items.amount = props.items.rate* Math.abs(props.items.qty); \n    props.items.discount_amount= (props.items.price_list_rate - props.items.rate) * Math.abs(props.items.qty)     \n    emitter.emit('calctotal')\n},300);\nbase.items.forEach((items) => {\n    watch(\n        () => items,\n        () => {\n            calculateAmountTotal();\n        },\n        { deep: true }\n    );\n});\n\nconst  rateCalculation =  (item) => {\n    const rate = item.price_list_rate || item.rate;\n    const discount = item.discount_percentage || 0;\n    \n    return rate - (rate * (discount / 100));\n};\nconst deliveryDate = computed({\n  get() {\n    if (!base.invoice.delivery_date) {\n      const today = dayjsLocal().format('YYYY-MM-DD')\n      base.invoice.delivery_date = today\n    }\n    return base.invoice.delivery_date\n  },\n  set(value) {\n    base.invoice.delivery_date = value\n  }\n})\n\nwatch(\n    () => props.items.rate,\n    (newValue, oldValue) => {\n        if (newValue !== oldValue) {\n            calculateRateTotal();\n\n        }\n    }\n);\nconst calculateRateTotal = () => {\n    props.items.rate = rateCalculation(props.items);\n    calculateAmountTotal();\n};\n\nonMounted( async () => {\n    calculateRateTotal();\n    validateQty(props.items.qty);\n    if(props.items.selected_serial_no) adjustSerialNumbers(props.items.selected_serial_no.length); \n    if(props.items.selected_serial_no) add_serial_no();\n    await get_batch.fetch({\n        item_code: props.items.item_code,\n        warehouse: base.pos_profile.warehouse,\n    })\n    await get_serial_no.fetch()\n    emitter.emit('calctotal');    \n    \n});\n \nonUnmounted(() => {\n    \n    calculateAmountTotal();\n    emitter.emit('calctotal');          \n\n});\n</script>","<template>\n    <div class=\"md:w-1/2 w-full h-full flex flex-col gap-2\">\n        <div class=\"h-[80%] w-full rounded-lg shadow-2xl px-2 pt-2\">\n            <div class=\"flex gap-4 h-[5%]\">\n                <Customer />\n                <Button\n                    class=\"w-1/12\"\n                    @click=\"loadComponent('CustomerForm');\"\n                    :variant=\"'solid'\"\n                    :ref_for=\"true\"\n                    theme=\"gray\"\n                    size=\"sm\"\n                    label=\"Button\"\n                    :loading=\"false\"\n                    :loadingText=\"null\"\n                    :disabled=\"false\"\n                    :link=\"null\"\n                >\n                    <FeatherIcon\n                    class=\"w-4 cursor-pointer\"\n                    name=\"plus\"\n                    @click=\"loadComponent('CustomerForm');\"\n                    />\n                </Button>\n            </div>\n            <div class=\"py-2  h-[93%] overflow-y-scroll scrollbar-hide flex flex-col items-center w-full \">\n                <div class=\"mb-2 w-full flex flex-col items-center\">\n                    <div class=\"flex bg-gray-200 w-full py-2 px-3 justify-between rounded text-center \">\n                        <div class=\"w-[18.4%]\">\n                            Item Code\n                        </div>\n                        <div  class=\"w-[18.4%]\">\n                            QTY\n                        </div>\n                        <div  class=\"w-[18.4%]\">\n                            UOM\n                        </div>\n                        <div  class=\"w-[18.4%]\">\n                            Rate\n                        </div>\n                        <div  class=\"w-[18.4%]\">\n                            Amount\n                        </div>\n                        <div class=\"w-[8%]\">\n                            Remove\n                        </div>\n                    </div>\n                </div>\n                <div v-for=\"(item, key) in base.items\" :key=\"item.custom_id\" class=\"flex flex-col justify-between mb-2 w-full \">\n                    \n                    <Item :items=\"item\" :index=\"key\"  />                   \n                </div>\n            </div>\n        </div>\n\n        <div class=\"h-[20%] flex shadow-2xl rounded\">\n            <div class=\" w-[60%] grid grid-cols-2 gap-4 p-4 h-full\">\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Total Qty\"\n                    v-model=\"base.invoice.total_qty\"\n                />\n                <FormControl\n                    v-if=\"base.pos_profile.custom_use_percentage_discount\"\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"!base.pos_profile.allow_discount_change\"\n                    label=\"Additional Discount (%)\"\n                    v-model=\"base.additional_discount_percentage\"\n                />\n                <FormControl\n                    v-else\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"!base.pos_profile.allow_discount_change\"\n                    :label=\"`Additional Discount (${base.pos_profile.currency})`\"\n                    v-model=\"base.discount_amount\"\n                    :value=\"Number(base.discount_amount).toFixed(2)\"\n                    />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Net Total\"\n                    :class=\"''\"\n                    :value=\"Number(base.invoice.net_total).toFixed(2)\"\n                    v-model=\"base.invoice.net_total\"\n                />\n                <FormControl\n                    :type=\"'number'\"\n                    :ref_for=\"true\"\n                    size=\"sm\"\n                    variant=\"subtle\"\n                    placeholder=\"0.00\"\n                    :disabled=\"true\"\n                    label=\"Total\"\n                    :class=\"''\"\n                    :value=\"Number(base.invoice.grand_total).toFixed(2)\"\n                    v-model=\"base.invoice.grand_total\"\n                />\n\n            </div>\n            <div class=\" w-[40%] h-full grid grid-cols-2 gap-2 p-4\">\n                <Button\n                    :ref_for=\"true\"\n                    label=\"Button\"\n                    :loading=\"false\"\n                    :loadingText=\"null\"\n                    :disabled=\"false\"\n                    :link=\"null\"\n                    theme=\"blue\"\n                    @click=\"loadComponent('Held')\"\n                >\n                    HELD\n                </Button>\n                <Button\n                    :ref_for=\"true\"\n                    label=\"Button\"\n                    :loading=\"false\"\n                    :loadingText=\"null\"\n                    :disabled=\"false\"\n                    :link=\"null\"\n                    theme=\"red\"\n                    @click=\"loadComponent('Return')\"            \n                >\n                    RETURN\n                </Button>\n                <Button\n                    :ref_for=\"true\"\n                    label=\"Button\"\n                    :loading=\"false\"\n                    :loadingText=\"null\"\n                    :disabled=\"false\"\n                    :link=\"null\"\n                    :variant=\"'solid'\"\n                    theme=\"gray\"\n                    @click=\"sales_invoice.fetch({ action:'Save', status:'save_new' })\"\n                >\n                    SAVE/NEW\n                </Button>\n                <Button\n                    :ref_for=\"true\"\n                    label=\"Button\"\n                    :loading=\"false\"\n                    :loadingText=\"null\"\n                    :disabled=\"false\"\n                    :link=\"null\"\n                    theme=\"green\"\n                    @click=\"sales_invoice.fetch({ action:'Save', status:'pay' })\"\n                >\n                    PAY\n                </Button>\n                <Button\n                    :ref_for=\"true\"\n                    label=\"Button\"\n                    :loading=\"false\"\n                    :loadingText=\"null\"\n                    :disabled=\"false\"\n                    :link=\"null\"\n                    :variant=\"'solid'\"\n                    theme=\"gray\"\n                    @click=\"sales_invoice.fetch({ action:'Save', status:'print' })\"\n                >\n                    SAVE & PRINT\n                </Button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script setup>\n\nimport Customer from './Customer.vue';\nimport { Button, FeatherIcon , FormControl , createResource,} from 'frappe-ui';\n    import { inject , watch,ref, onMounted } from 'vue';\n    import { createToast } from '../utils';\n    import Item from './Item.vue';\n    \n    const { loadComponent } = inject('dynamicComponent');\n    const baseurl = createResource({url: 'ant_pos.ant_pos.utils.get_domain_url'});\n    let base = inject('base');\n    let status = '';\n    const emitter = inject('emitter');\n    let errorHandled = false;\n    let sales_invoice = createResource({\n        url: 'frappe.desk.form.save.savedocs',\n        makeParams(params) {\n            base.items.forEach((item) => {                \n                if (item.has_serial_no && item.selected_serial_no.length !== item.qty) {\n                    createToast({\n                        title: 'error',\n                        message: 'Serial number is required',\n                        iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                        position: 'top-center',\n                        timeout: 5,\n                    });\n                    errorHandled = true;\n                }\n\n            });\n            status = params.status\n            return {\n                doc: JSON.stringify({\n                    ...base?.invoice,\n                    doctype: 'Sales Invoice',\n                    is_pos: base.invoice.is_return ? base.invoice.is_pos : 1,\n                    pos_profile: base.pos_profile.name,\n                    company: base.pos_profile.company,\n                    conversion_rate: 1,\n                    selling_price_list: base.pos_profile.selling_price_list,\n                    items: base.items,\n                    customer: base.customer.name,\n                    update_stock: 1,\n                    additional_discount_percentage: Number(base.additional_discount_percentage) || 0,\n                    discount_amount: Number(base.discount_amount) || 0,\n                    base_total: base.invoice.base_total && base.invoice.base_total,\n                    custom_ant_opening: base.Ant_Opening_Shift.name,\n                    apply_discount_on: base.pos_profile.apply_discount_on,\n                    payments:getPayments()\n                    \n                    \n                }),\n                action:params.action,\n            };\n        },\n        async onSuccess (data) {\n            errorHandled = false;      \n            if ( status == 'pay'){\n                base.invoice = data.docs[0]\n                return\n\n            }else if (status == 'print'){\n                await baseurl.fetch()\n                window.open(\n                    `${baseurl.data}/printview?doctype=Sales+Invoice&name=${\n                        data.docs[0].name\n                    }&format=${encodeURIComponent(base.pos_profile.print_format)}&trigger_print=1&no_letterhead=${base.pos_profile.letter_head ? 1 :0 }\n                    &letterhead=${base.pos_profile.letter_head}`,\n                    \"_blank\"\n                );\n            }\n            remove_invoice()\n\n\n        },\n        onError(error) {\n            if (!errorHandled) {\n                createToast({\n                    title: 'error',\n                    message: Array.isArray(error?.messages) ? error.messages[0] : error?.messages || error || 'An error occurred',\n                    icon: 'x-circle',\n                    iconClasses: 'bg-surface-red-5 text-ink-white rounded-md p-px',\n                    position: 'top-center',\n                    timeout: 5,\n                });\n                errorHandled = true;\n            }\n        },\n    });\n   \nconst getPayments = () => {\n    const total = base.is_return ? -Math.abs(base.invoice.rounded_total) : base.invoice.rounded_total;\n\n    const payments = base.invoice.payments.map(p => {\n        const amount = p.default ? total : 0;\n        return {\n            ...p,\n            amount,\n            base_amount: amount\n        };\n    });\n    \n    return payments;\n};\n    const calcuateDiscount = () => {\n        let amount = base.pos_profile.apply_discount_on === 'grand_total' ? base.invoice.grand_total : base.invoice.base_net_total + base.invoice?.discount_amount ;\n        if (base.pos_profile.custom_use_percentage_discount) {\n            base.discount_amount= (amount * 100) / base.additional_discount_percentage;\n        } else {\n            base.additional_discount_percentage = base.discount_amount * (100 / amount);\n        }\n    };\n\n    watch(\n        () => base.discount_amount,\n        (newVal,oldVal) => {\n            if (!base.pos_profile.custom_use_percentage_discount && newVal !== oldVal) { \n                calcuateDiscount();\n                emitter.emit('calctotal');\n            }\n        },\n        { flush: 'post' }\n    );\n    watch(\n        () => base.additional_discount_percentage,\n        (newVal,oldVal) => {\n            if (base.pos_profile.custom_use_percentage_discount && newVal !== oldVal) {   \n                calcuateDiscount();\n                emitter.emit('calctotal');\n            }\n        },\n        { flush: 'post' }\n    );\n    const remove_invoice = () => {\n        base.invoice = {};\n        base.items = [];\n        base.customer = {};\n        base.discount_amount = 0.00;\n    };\n\n</script>","<template>\n    <div class=\"w-full h-[94%] flex p-2 gap-4\">\n        <div class=\"w-full h-full flex flex-col md:flex-row gap-4\">\n            <component :is=\"componentMap[base?.invoice?.status ? 'Invoice' : 'ItemSelector']\" />\n            <ItemDetail />\n        </div>\n    </div>\n  </template>\n  \n  <script setup>\n  import { inject } from 'vue';\n  import ItemSelector from './ItemSelector.vue';\n  import Invoice from './Invoice.vue';\n  import ItemDetail from './ItemDetail.vue';\n  \n  let base = inject('base');\n  \n  // Map string names to actual components\n  const componentMap = {\n    Invoice,\n    ItemSelector,\n  };\n  </script>\n  ","<template>\n  <div\n    class=\"w-full h-full\"\n    :class=\"props.collapse ? 'xl:w-[97%]' : 'xl:w-[90%]'\"\n  >\n        <Navbar />\n        <component :is=\"componentMap[currentComponent]\" />\n    </div>\n</template>\n\n<script setup>\n  import Navbar from '../component/Navbar.vue';\n  import PaymentSelect from '../component/PaymentSelect.vue';\n  import Pos from '../component/Pos.vue';\n  import SalesInvoice from './SalesInvoice.vue';\n  import emitter from '../utils/emitter';\n  import { computed, inject, defineProps } from 'vue';\n  \n  \n  const props = defineProps({\n        collapse: {\n            type: Boolean,\n            required: true,\n        },\n  });\n  const base = inject('base');\n\n  const componentMap = {\n    PaymentSelect,\n    Pos,\n    SalesInvoice\n  };\n\n  const currentComponent = computed(() => {\n    if (base.page === 'payments') return 'PaymentSelect';\n    if (base.page === 'salesinvoice') return 'SalesInvoice';\n    return 'Pos';\n  });\n\n  emitter.on('updatePage', (page) => {\n    base.items = [];\n    base.invoice = {};\n    base.customer = {};\n    base.page = page;\n  });\n\n</script>","import { ref } from 'vue';\nimport Settings from '../component/Dialog/Settings.vue';\n\n\nexport function useDynamicComponent() {\n    const currentComponent = ref(null);\n\n    const loadComponent = async (componentName) => {\n        try {\n            const components = {\n\n                OpenShift: () => import('../component/Dialog/Open-Shift.vue'),\n                CustomerForm: () => import('../component/Dialog/CustomerForm.vue'),\n                Held: () => import('../component/Dialog/Held.vue'),\n                Return: () => import('../component/Dialog/Return.vue'),\n                CloseShift:() => import('../component/Dialog/CloseShift.vue'),\n                Settings:() => import('../component/Dialog/Settings.vue')\n            \n            };\n\n            if (components[componentName]) {\n                // Reset the current component to null before loading\n                currentComponent.value = null;\n\n                // Small delay to ensure Vue notices the change\n                await new Promise((resolve) => setTimeout(resolve, 0));\n\n                const component = await components[componentName]();\n                \n                currentComponent.value = component.default;\n            } else {\n                console.error(`Component \"${componentName}\" not found.`);\n                currentComponent.value = null;\n            }\n        } catch (error) {\n            console.error('Error loading component:', error);\n            currentComponent.value = null;\n        }\n    };\n\n    return { currentComponent, loadComponent };\n}\n","<template>\n  <div class=\"w-screen h-screen flex select-none\">\n    <div v-if=\"currentComponent\">\n        <component :is=\"currentComponent\"  @switchComponent=\"loadComponent\"  />\n    </div>\n    <Sidebar :class=\"w-full\" :collapse=\"collapse\"/>\n    <Platform :collapse=\"collapse\"/>\n  </div>\n</template>\n\n<script setup>\n\n  import Sidebar from '../component/Sidebar.vue';\n  import Platform from '../component/Platform.vue';\n  import { provide, ref, inject } from 'vue';\n  import { useDynamicComponent } from '../utils/Dialog';\n  import { usePageMeta } from 'frappe-ui';\n  import emitter from '../utils/emitter';\n  import  { getSettings } from '../stores/settings';\n\n  const collapse=ref(true)\n  const { currentComponent, loadComponent } = useDynamicComponent();\n  const { brand } = getSettings()\n  \n  loadComponent('OpenShift');\n  provide('dynamicComponent', { currentComponent, loadComponent });\n  \n  usePageMeta(() => {\n    return {\n      icon: brand.favicon ? brand.favicon : '/assets/ant_pos/antPOS.png',\n    }\n  })\n  emitter.on('trigger_collapse', () => {\n    \n    collapse.value =!collapse.value\n  });\n</script>\n"],"file":"assets/Pos-DZFo8QfI.js"}