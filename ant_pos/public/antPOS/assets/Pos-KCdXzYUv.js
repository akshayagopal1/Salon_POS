const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Open-Shift-BwDsFe3E.js","assets/index-BsfeXoGf.js","assets/index-SsbC_DSy.css","assets/CustomerForm-q0m9GSKP.js","assets/Held-BMNzW_zK.js","assets/Return-ChyWcVvf.js","assets/CloseShift-VX7cfOyW.js","assets/Settings-DuEvNgyg.js","assets/Attendance-WY7T6c_y.js"])))=>i.map(i=>d[i]);
import{c as F,u as i,s as Jn,w as te,t as zt,o as Zn,r as N,a as Ie,b as eo,i as re,d as $e,e as _e,f as un,h as Ae,F as oe,g as Y,p as et,j as ht,n as ge,k as Te,l as to,m as no,q as oo,v as pt,x as lt,y as Ye,z as dn,A as ze,B,C as h,D as I,E as q,P as yt,G as L,H as se,I as pe,J as cn,K as lo,L as Lt,M as Mt,N as ao,O as fn,Q as me,R as pn,S as mn,T as vn,U as gn,V as so,W as ro,X as io,Y as uo,Z as co,_ as tt,$ as Z,a0 as fo,a1 as po,a2 as De,a3 as hn,a4 as Oe,a5 as It,a6 as yn,a7 as at,a8 as mo,a9 as vo,aa as go,ab as ho,ac as yo,ad as bn,ae as bo,af as _o,ag as b,ah as U,ai as Se,aj as E,ak as H,al as wo,am as ne,an as ue,ao as K,ap as qe,aq as ae,ar as ce,as as Dt,at as bt,au as Ve,av as _t,aw as xo,ax as ke,ay as ko,az as mt,aA as ft,aB as _n,aC as So,aD as Co,aE as Oo,aF as $o,aG as qo,aH as Po,aI as Mo,aJ as Io,aK as Me,aL as Do,aM as Eo,aN as To,aO as Vo,aP as wt,aQ as Ao,aR as Fo,aS as Re}from"./index-BsfeXoGf.js";function Ue(e,n,t){let o=t.initialDeps??[],a;function s(){var r,l,u,c;let f;t.key&&((r=t.debug)!=null&&r.call(t))&&(f=Date.now());const d=e();if(!(d.length!==o.length||d.some((D,O)=>o[O]!==D)))return a;o=d;let k;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(k=Date.now()),a=n(...d),t.key&&((u=t.debug)!=null&&u.call(t))){const D=Math.round((Date.now()-f)*100)/100,O=Math.round((Date.now()-k)*100)/100,x=O/16,T=($,m)=>{for($=String($);$.length<m;)$=" "+$;return $};console.info(`%câ± ${T(O,5)} /${T(D,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(c=t==null?void 0:t.onChange)==null||c.call(t,a),a}return s.updateDeps=r=>{o=r},s}function jt(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const Bo=(e,n)=>Math.abs(e-n)<1.01,Ro=(e,n,t)=>{let o;return function(...a){e.clearTimeout(o),o=e.setTimeout(()=>n.apply(this,a),t)}},Ut=e=>{const{offsetWidth:n,offsetHeight:t}=e;return{width:n,height:t}},No=e=>e,zo=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let a=n;a<=t;a++)o.push(a);return o},Lo=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const a=r=>{const{width:l,height:u}=r;n({width:Math.round(l),height:Math.round(u)})};if(a(Ut(t)),!o.ResizeObserver)return()=>{};const s=new o.ResizeObserver(r=>{const l=()=>{const u=r[0];if(u!=null&&u.borderBoxSize){const c=u.borderBoxSize[0];if(c){a({width:c.inlineSize,height:c.blockSize});return}}a(Ut(t))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return s.observe(t,{box:"border-box"}),()=>{s.unobserve(t)}},Wt={passive:!0},Kt=typeof window>"u"?!0:"onscrollend"in window,jo=(e,n)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let a=0;const s=e.options.useScrollendEvent&&Kt?()=>{}:Ro(o,()=>{n(a,!1)},e.options.isScrollingResetDelay),r=f=>()=>{const{horizontal:d,isRtl:p}=e.options;a=d?t.scrollLeft*(p&&-1||1):t.scrollTop,s(),n(a,f)},l=r(!0),u=r(!1);u(),t.addEventListener("scroll",l,Wt);const c=e.options.useScrollendEvent&&Kt;return c&&t.addEventListener("scrollend",u,Wt),()=>{t.removeEventListener("scroll",l),c&&t.removeEventListener("scrollend",u)}},Uo=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const o=n.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},Wo=(e,{adjustments:n=0,behavior:t},o)=>{var a,s;const r=e+n;(s=(a=o.scrollElement)==null?void 0:a.scrollTo)==null||s.call(a,{[o.options.horizontal?"left":"top"]:r,behavior:t})};class Ko{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(a=>{a.forEach(s=>{const r=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(r):r()})}));return{disconnect:()=>{var a;(a=o())==null||a.disconnect(),t=null},observe:a=>{var s;return(s=o())==null?void 0:s.observe(a,{box:"border-box"})},unobserve:a=>{var s;return(s=o())==null?void 0:s.unobserve(a)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,a])=>{typeof a>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:No,rangeExtractor:zo,onChange:()=>{},measureElement:Uo,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var o,a;(a=(o=this.options).onChange)==null||a.call(o,this,t)},this.maybeNotify=Ue(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.maybeNotify();return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(a=>{this.observer.observe(a)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,a=>{this.scrollRect=a,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(a,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<a?"forward":"backward":null,this.scrollOffset=a,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const a=new Map,s=new Map;for(let r=o-1;r>=0;r--){const l=t[r];if(a.has(l.lane))continue;const u=s.get(l.lane);if(u==null||l.end>u.end?s.set(l.lane,l):l.end<u.end&&a.set(l.lane,!0),a.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((r,l)=>r.end===l.end?r.index-l.index:r.end-l.end)[0]:void 0},this.getMeasurementOptions=Ue(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,a,s,r)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:a,getItemKey:s,enabled:r}),{key:!1}),this.getMeasurements=Ue(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:a,getItemKey:s,enabled:r},l)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,u);for(let f=u;f<t;f++){const d=s(f),p=this.options.lanes===1?c[f-1]:this.getFurthestMeasurement(c,f),k=p?p.end+this.options.gap:o+a,D=l.get(d),O=typeof D=="number"?D:this.options.estimateSize(f),x=k+O,T=p?p.lane:f%this.options.lanes;c[f]={index:f,start:k,size:O,end:x,key:d,lane:T}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Ue(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,o,a,s)=>this.range=t.length>0&&o>0?Yo({measurements:t,outerSize:o,scrollOffset:a,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Ue(()=>{let t=null,o=null;const a=this.calculateRange();return a&&(t=a.startIndex,o=a.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,o]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,o]},(t,o,a,s,r)=>s===null||r===null?[]:t({startIndex:s,endIndex:r,overscan:o,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,a=t.getAttribute(o);return a?parseInt(a,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const a=this.indexFromElement(t),s=this.measurementsCache[a];if(!s)return;const r=s.key,l=this.elementsCache.get(r);l!==t&&(l&&this.observer.unobserve(l),this.observer.observe(t),this.elementsCache.set(r,t)),t.isConnected&&this.resizeItem(a,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const a=this.measurementsCache[t];if(!a)return;const s=this.itemSizeCache.get(a.key)??a.size,r=o-s;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(a,r,this):a.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(a.index),this.itemSizeCache=new Map(this.itemSizeCache.set(a.key,o)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((o,a)=>{o.isConnected||(this.observer.unobserve(o),this.elementsCache.delete(a))});return}this._measureElement(t,void 0)},this.getVirtualItems=Ue(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,o)=>{const a=[];for(let s=0,r=t.length;s<r;s++){const l=t[s],u=o[l];a.push(u)}return a},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return jt(o[wn(0,o.length-1,a=>jt(o[a]).start,t)])},this.getOffsetForAlignment=(t,o,a=0)=>{const s=this.getSize(),r=this.getScrollOffset();o==="auto"&&(o=t>=r+s?"end":"start"),o==="center"?t+=(a-s)/2:o==="end"&&(t-=s);const l=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(l,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const a=this.measurementsCache[t];if(!a)return;const s=this.getSize(),r=this.getScrollOffset();if(o==="auto")if(a.end>=r+s-this.options.scrollPaddingEnd)o="end";else if(a.start<=r+this.options.scrollPaddingStart)o="start";else return[r,o];const l=o==="end"?a.end+this.options.scrollPaddingEnd:a.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o,a.size),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:o="start",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:a})},this.scrollToIndex=(t,{align:o="auto",behavior:a}={})=>{a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let s=0;const r=10,l=c=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(t,c);if(!f){console.warn("Failed to get offset for index:",t);return}const[d,p]=f;this._scrollToOffset(d,{adjustments:void 0,behavior:a}),this.targetWindow.requestAnimationFrame(()=>{const k=this.getScrollOffset(),D=this.getOffsetForIndex(t,p);if(!D){console.warn("Failed to get offset for index:",t);return}Bo(D[0],k)||u(p)})},u=c=>{this.targetWindow&&(s++,s<r?this.targetWindow.requestAnimationFrame(()=>l(c)):console.warn(`Failed to scroll to index ${t} after ${r} attempts.`))};l(o)},this.scrollBy=(t,{behavior:o}={})=>{o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let a;if(o.length===0)a=this.options.paddingStart;else if(this.options.lanes===1)a=((t=o[o.length-1])==null?void 0:t.end)??0;else{const s=Array(this.options.lanes).fill(null);let r=o.length-1;for(;r>=0&&s.some(l=>l===null);){const l=o[r];s[l.lane]===null&&(s[l.lane]=l.end),r--}a=Math.max(...s.filter(l=>l!==null))}return Math.max(a-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:o,behavior:a})=>{this.options.scrollToFn(t,{behavior:a,adjustments:o},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const wn=(e,n,t,o)=>{for(;e<=n;){const a=(e+n)/2|0,s=t(a);if(s<o)e=a+1;else if(s>o)n=a-1;else return a}return e>0?e-1:0};function Yo({measurements:e,outerSize:n,scrollOffset:t,lanes:o}){const a=e.length-1,s=u=>e[u].start;if(e.length<=o)return{startIndex:0,endIndex:a};let r=wn(0,a,s,t),l=r;if(o===1)for(;l<a&&e[l].end<t+n;)l++;else if(o>1){const u=Array(o).fill(0);for(;l<a&&u.some(f=>f<t+n);){const f=e[l];u[f.lane]=f.end,l++}const c=Array(o).fill(t+n);for(;r>=0&&c.some(f=>f>=t);){const f=e[r];c[f.lane]=f.start,r--}r=Math.max(0,r-r%o),l=Math.min(a,l+(o-1-l%o))}return{startIndex:r,endIndex:l}}function Ho(e){const n=new Ko(i(e)),t=Jn(n),o=n._didMount();return te(()=>i(e).getScrollElement(),a=>{a&&n._willUpdate()},{immediate:!0}),te(()=>i(e),a=>{n.setOptions({...a,onChange:(s,r)=>{var l;zt(t),(l=a.onChange)==null||l.call(a,s,r)}}),n._willUpdate(),zt(t)},{immediate:!0}),Zn(o),t}function Go(e){return Ho(F(()=>({observeElementRect:Lo,observeElementOffset:jo,scrollToFn:Wo,...i(e)})))}function Qo(e,n,t){let o=N(t==null?void 0:t.value),a=F(()=>e.value!==void 0);return[F(()=>a.value?e.value:o.value),function(s){return a.value||(o.value=s),n==null?void 0:n(s)}]}function Xo(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(n=>setTimeout(()=>{throw n}))}function vt(){let e=[],n={addEventListener(t,o,a,s){return t.addEventListener(o,a,s),n.add(()=>t.removeEventListener(o,a,s))},requestAnimationFrame(...t){let o=requestAnimationFrame(...t);n.add(()=>cancelAnimationFrame(o))},nextFrame(...t){n.requestAnimationFrame(()=>{n.requestAnimationFrame(...t)})},setTimeout(...t){let o=setTimeout(...t);n.add(()=>clearTimeout(o))},microTask(...t){let o={current:!0};return Xo(()=>{o.current&&t[0]()}),n.add(()=>{o.current=!1})},style(t,o,a){let s=t.style.getPropertyValue(o);return Object.assign(t.style,{[o]:a}),this.add(()=>{Object.assign(t.style,{[o]:s})})},group(t){let o=vt();return t(o),this.add(()=>o.dispose())},add(t){return e.push(t),()=>{let o=e.indexOf(t);if(o>=0)for(let a of e.splice(o,1))a()}},dispose(){for(let t of e.splice(0))t()}};return n}function Jo(){let e=vt();return Ie(()=>e.dispose()),e}function Zo(){let e=Jo();return n=>{e.dispose(),e.nextFrame(n)}}var Yt;let el=Symbol("headlessui.useid"),tl=0;const xt=(Yt=eo)!=null?Yt:function(){return re(el,()=>`${++tl}`)()};function J(e){var n;if(e==null||e.value==null)return null;let t=(n=e.value.$el)!=null?n:e.value;return t instanceof Node?t:null}function Pe(e,n,...t){if(e in n){let a=n[e];return typeof a=="function"?a(...t):a}let o=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,Pe),o}var nl=Object.defineProperty,ol=(e,n,t)=>n in e?nl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Ht=(e,n,t)=>(ol(e,typeof n!="symbol"?n+"":n,t),t);let ll=class{constructor(){Ht(this,"current",this.detect()),Ht(this,"currentId",0)}set(n){this.current!==n&&(this.currentId=0,this.current=n)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Et=new ll;function Tt(e){if(Et.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let n=J(e);if(n)return n.ownerDocument}return document}let Gt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var al=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(al||{}),sl=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(sl||{}),rl=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(rl||{}),xn=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(xn||{});function il(e,n=0){var t;return e===((t=Tt(e))==null?void 0:t.body)?!1:Pe(n,{0(){return e.matches(Gt)},1(){let o=e;for(;o!==null;){if(o.matches(Gt))return!0;o=o.parentElement}return!1}})}var ul=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ul||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function dl(e,n=t=>t){return e.slice().sort((t,o)=>{let a=n(t),s=n(o);if(a===null||s===null)return 0;let r=a.compareDocumentPosition(s);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function cl(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function fl(){return/Android/gi.test(window.navigator.userAgent)}function kn(){return cl()||fl()}function ut(e,n,t){Et.isServer||$e(o=>{document.addEventListener(e,n,t),o(()=>document.removeEventListener(e,n,t))})}function pl(e,n,t){Et.isServer||$e(o=>{window.addEventListener(e,n,t),o(()=>window.removeEventListener(e,n,t))})}function ml(e,n,t=F(()=>!0)){function o(s,r){if(!t.value||s.defaultPrevented)return;let l=r(s);if(l===null||!l.getRootNode().contains(l))return;let u=function c(f){return typeof f=="function"?c(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let c of u){if(c===null)continue;let f=c instanceof HTMLElement?c:J(c);if(f!=null&&f.contains(l)||s.composed&&s.composedPath().includes(f))return}return!il(l,xn.Loose)&&l.tabIndex!==-1&&s.preventDefault(),n(s,l)}let a=N(null);ut("pointerdown",s=>{var r,l;t.value&&(a.value=((l=(r=s.composedPath)==null?void 0:r.call(s))==null?void 0:l[0])||s.target)},!0),ut("mousedown",s=>{var r,l;t.value&&(a.value=((l=(r=s.composedPath)==null?void 0:r.call(s))==null?void 0:l[0])||s.target)},!0),ut("click",s=>{kn()||a.value&&(o(s,()=>a.value),a.value=null)},!0),ut("touchend",s=>o(s,()=>s.target instanceof HTMLElement?s.target:null),!0),pl("blur",s=>o(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Qt(e,n){if(e)return e;let t=n??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function vl(e,n){let t=N(Qt(e.value.type,e.value.as));return _e(()=>{t.value=Qt(e.value.type,e.value.as)}),$e(()=>{var o;t.value||J(n)&&J(n)instanceof HTMLButtonElement&&!((o=J(n))!=null&&o.hasAttribute("type"))&&(t.value="button")}),t}function Xt(e){return[e.screenX,e.screenY]}function gl(){let e=N([-1,-1]);return{wasMoved(n){let t=Xt(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=Xt(n)}}}function hl({container:e,accept:n,walk:t,enabled:o}){$e(()=>{let a=e.value;if(!a||o!==void 0&&!o.value)return;let s=Tt(e);if(!s)return;let r=Object.assign(u=>n(u),{acceptNode:n}),l=s.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,r,!1);for(;l.nextNode();)t(l.currentNode)})}var nt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(nt||{}),yl=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(yl||{});function He({visible:e=!0,features:n=0,ourProps:t,theirProps:o,...a}){var s;let r=Cn(o,t),l=Object.assign(a,{props:r});if(e||n&2&&r.static)return St(l);if(n&1){let u=(s=r.unmount)==null||s?0:1;return Pe(u,{0(){return null},1(){return St({...a,props:{...r,hidden:!0,style:{display:"none"}}})}})}return St(l)}function St({props:e,attrs:n,slots:t,slot:o,name:a}){var s,r;let{as:l,...u}=kt(e,["unmount","static"]),c=(s=t.default)==null?void 0:s.call(t,o),f={};if(o){let d=!1,p=[];for(let[k,D]of Object.entries(o))typeof D=="boolean"&&(d=!0),D===!0&&p.push(k);d&&(f["data-headlessui-state"]=p.join(" "))}if(l==="template"){if(c=Sn(c??[]),Object.keys(u).length>0||Object.keys(n).length>0){let[d,...p]=c??[];if(!_l(d)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${a} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(n)).map(O=>O.trim()).filter((O,x,T)=>T.indexOf(O)===x).sort((O,x)=>O.localeCompare(x)).map(O=>`  - ${O}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(O=>`  - ${O}`).join(`
`)].join(`
`));let k=Cn((r=d.props)!=null?r:{},u,f),D=un(d,k,!0);for(let O in k)O.startsWith("on")&&(D.props||(D.props={}),D.props[O]=k[O]);return D}return Array.isArray(c)&&c.length===1?c[0]:c}return Ae(l,Object.assign({},u,f),{default:()=>c})}function Sn(e){return e.flatMap(n=>n.type===oe?Sn(n.children):[n])}function Cn(...e){if(e.length===0)return{};if(e.length===1)return e[0];let n={},t={};for(let o of e)for(let a in o)a.startsWith("on")&&typeof o[a]=="function"?(t[a]!=null||(t[a]=[]),t[a].push(o[a])):n[a]=o[a];if(n.disabled||n["aria-disabled"])return Object.assign(n,Object.fromEntries(Object.keys(t).map(o=>[o,void 0])));for(let o in t)Object.assign(n,{[o](a,...s){let r=t[o];for(let l of r){if(a instanceof Event&&a.defaultPrevented)return;l(a,...s)}}});return n}function bl(e){let n=Object.assign({},e);for(let t in n)n[t]===void 0&&delete n[t];return n}function kt(e,n=[]){let t=Object.assign({},e);for(let o of n)o in t&&delete t[o];return t}function _l(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var On=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(On||{});let wl=Y({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:n,attrs:t}){return()=>{var o;let{features:a,...s}=e,r={"aria-hidden":(a&2)===2?!0:(o=s["aria-hidden"])!=null?o:void 0,hidden:(a&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(a&4)===4&&(a&2)!==2&&{display:"none"}}};return He({ourProps:r,theirProps:s,slot:{},attrs:t,slots:n,name:"Hidden"})}}}),$n=Symbol("Context");var ot=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ot||{});function xl(){return re($n,null)}function kl(e){et($n,e)}var be=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(be||{}),qn=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(qn||{});function Sl(e){function n(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",n))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",n),n())}let Ne=[];Sl(()=>{function e(n){n.target instanceof HTMLElement&&n.target!==document.body&&Ne[0]!==n.target&&(Ne.unshift(n.target),Ne=Ne.filter(t=>t!=null&&t.isConnected),Ne.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Cl(e){throw new Error("Unexpected object: "+e)}var de=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(de||{});function Jt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let o=n.resolveActiveIndex(),a=o??-1;switch(e.focus){case 0:{for(let s=0;s<t.length;++s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 1:{a===-1&&(a=t.length);for(let s=a-1;s>=0;--s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 2:{for(let s=a+1;s<t.length;++s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 3:{for(let s=t.length-1;s>=0;--s)if(!n.resolveDisabled(t[s],s,t))return s;return o}case 4:{for(let s=0;s<t.length;++s)if(n.resolveId(t[s],s,t)===e.id)return s;return o}case 5:return null;default:Cl(e)}}function Pn(e={},n=null,t=[]){for(let[o,a]of Object.entries(e))In(t,Mn(n,o),a);return t}function Mn(e,n){return e?e+"["+n+"]":n}function In(e,n,t){if(Array.isArray(t))for(let[o,a]of t.entries())In(e,Mn(n,o.toString()),a);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Pn(t,n,e)}var Ol={};function $l(e,n){return e===n}var ql=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ql||{}),Pl=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Pl||{}),Ml=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(Ml||{});let Dn=Symbol("ComboboxContext");function Ge(e){let n=re(Dn,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ge),t}return n}let En=Symbol("VirtualContext"),Il=Y({name:"VirtualProvider",setup(e,{slots:n}){let t=Ge("VirtualProvider"),o=F(()=>{let l=J(t.optionsRef);if(!l)return{start:0,end:0};let u=window.getComputedStyle(l);return{start:parseFloat(u.paddingBlockStart||u.paddingTop),end:parseFloat(u.paddingBlockEnd||u.paddingBottom)}}),a=Go(F(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return J(t.optionsRef)},overscan:12}))),s=F(()=>{var l;return(l=t.virtual.value)==null?void 0:l.options}),r=N(0);return te([s],()=>{r.value+=1}),et(En,t.virtual.value?a:null),()=>[Ae("div",{style:{position:"relative",width:"100%",height:`${a.value.getTotalSize()}px`},ref:l=>{if(l){if(typeof process<"u"&&Ol.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&a.value.scrollToIndex(t.activeOptionIndex.value)}}},a.value.getVirtualItems().map(l=>un(n.default({option:t.virtual.value.options[l.index],open:t.comboboxState.value===0})[0],{key:`${r.value}-${l.index}`,"data-index":l.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":l.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${l.start}px)`,overflowAnchor:"none"}})))]}}),Tn=Y({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:o}){let a=N(1),s=N(null),r=N(null),l=N(null),u=N(null),c=N({static:!1,hold:!1}),f=N([]),d=N(null),p=N(2),k=N(!1);function D(y=C=>C){let C=d.value!==null?f.value[d.value]:null,j=y(f.value.slice()),W=j.length>0&&j[0].dataRef.order.value!==null?j.sort((P,V)=>P.dataRef.order.value-V.dataRef.order.value):dl(j,P=>J(P.dataRef.domRef)),A=C?W.indexOf(C):null;return A===-1&&(A=null),{options:W,activeOptionIndex:A}}let O=F(()=>e.multiple?1:0),x=F(()=>e.nullable),[T,$]=Qo(F(()=>e.modelValue),y=>o("update:modelValue",y),F(()=>e.defaultValue)),m=F(()=>T.value===void 0?Pe(O.value,{1:[],0:void 0}):T.value),v=null,_=null;function S(y){return Pe(O.value,{0(){return $==null?void 0:$(y)},1:()=>{let C=Te(w.value.value).slice(),j=Te(y),W=C.findIndex(A=>w.compare(j,Te(A)));return W===-1?C.push(j):C.splice(W,1),$==null?void 0:$(C)}})}let M=F(()=>{});te([M],([y],[C])=>{if(w.virtual.value&&y&&C&&d.value!==null){let j=y.indexOf(C[d.value]);j!==-1?d.value=j:d.value=null}});let w={comboboxState:a,value:m,mode:O,compare(y,C){if(typeof e.by=="string"){let j=e.by;return(y==null?void 0:y[j])===(C==null?void 0:C[j])}return e.by===null?$l(y,C):e.by(y,C)},calculateIndex(y){return w.virtual.value?e.by===null?w.virtual.value.options.indexOf(y):w.virtual.value.options.findIndex(C=>w.compare(C,y)):f.value.findIndex(C=>w.compare(C.dataRef.value,y))},defaultValue:F(()=>e.defaultValue),nullable:x,immediate:F(()=>!1),virtual:F(()=>null),inputRef:r,labelRef:s,buttonRef:l,optionsRef:u,disabled:F(()=>e.disabled),options:f,change(y){$(y)},activeOptionIndex:F(()=>{if(k.value&&d.value===null&&(w.virtual.value?w.virtual.value.options.length>0:f.value.length>0)){if(w.virtual.value){let C=w.virtual.value.options.findIndex(j=>{var W;return!((W=w.virtual.value)!=null&&W.disabled(j))});if(C!==-1)return C}let y=f.value.findIndex(C=>!C.dataRef.disabled);if(y!==-1)return y}return d.value}),activationTrigger:p,optionsPropsRef:c,closeCombobox(){k.value=!1,!e.disabled&&a.value!==1&&(a.value=1,d.value=null)},openCombobox(){if(k.value=!0,!e.disabled&&a.value!==0){if(w.value.value){let y=w.calculateIndex(w.value.value);y!==-1&&(d.value=y)}a.value=0}},setActivationTrigger(y){p.value=y},goToOption(y,C,j){k.value=!1,v!==null&&cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if(e.disabled||u.value&&!c.value.static&&a.value===1)return;if(w.virtual.value){d.value=y===de.Specific?C:Jt({focus:y},{resolveItems:()=>w.virtual.value.options,resolveActiveIndex:()=>{var P,V;return(V=(P=w.activeOptionIndex.value)!=null?P:w.virtual.value.options.findIndex(z=>{var R;return!((R=w.virtual.value)!=null&&R.disabled(z))}))!=null?V:null},resolveDisabled:P=>w.virtual.value.disabled(P),resolveId(){throw new Error("Function not implemented.")}}),p.value=j??2;return}let W=D();if(W.activeOptionIndex===null){let P=W.options.findIndex(V=>!V.dataRef.disabled);P!==-1&&(W.activeOptionIndex=P)}let A=y===de.Specific?C:Jt({focus:y},{resolveItems:()=>W.options,resolveActiveIndex:()=>W.activeOptionIndex,resolveId:P=>P.id,resolveDisabled:P=>P.dataRef.disabled});d.value=A,p.value=j??2,f.value=W.options})},selectOption(y){let C=f.value.find(W=>W.id===y);if(!C)return;let{dataRef:j}=C;S(j.value)},selectActiveOption(){if(w.activeOptionIndex.value!==null){if(w.virtual.value)S(w.virtual.value.options[w.activeOptionIndex.value]);else{let{dataRef:y}=f.value[w.activeOptionIndex.value];S(y.value)}w.goToOption(de.Specific,w.activeOptionIndex.value)}},registerOption(y,C){let j=ht({id:y,dataRef:C});if(w.virtual.value){f.value.push(j);return}_&&cancelAnimationFrame(_);let W=D(A=>(A.push(j),A));d.value===null&&w.isSelected(C.value.value)&&(W.activeOptionIndex=W.options.indexOf(j)),f.value=W.options,d.value=W.activeOptionIndex,p.value=2,W.options.some(A=>!J(A.dataRef.domRef))&&(_=requestAnimationFrame(()=>{let A=D();f.value=A.options,d.value=A.activeOptionIndex}))},unregisterOption(y,C){if(v!==null&&cancelAnimationFrame(v),C&&(k.value=!0),w.virtual.value){f.value=f.value.filter(W=>W.id!==y);return}let j=D(W=>{let A=W.findIndex(P=>P.id===y);return A!==-1&&W.splice(A,1),W});f.value=j.options,d.value=j.activeOptionIndex,p.value=2},isSelected(y){return Pe(O.value,{0:()=>w.compare(Te(w.value.value),Te(y)),1:()=>Te(w.value.value).some(C=>w.compare(Te(C),Te(y)))})},isActive(y){return d.value===w.calculateIndex(y)}};ml([r,l,u],()=>w.closeCombobox(),F(()=>a.value===0)),et(Dn,w),kl(F(()=>Pe(a.value,{0:ot.Open,1:ot.Closed})));let g=F(()=>{var y;return(y=J(r))==null?void 0:y.closest("form")});return _e(()=>{te([g],()=>{if(!g.value||e.defaultValue===void 0)return;function y(){w.change(e.defaultValue)}return g.value.addEventListener("reset",y),()=>{var C;(C=g.value)==null||C.removeEventListener("reset",y)}},{immediate:!0})}),()=>{var y,C,j;let{name:W,disabled:A,form:P,...V}=e,z={open:a.value===0,disabled:A,activeIndex:w.activeOptionIndex.value,activeOption:w.activeOptionIndex.value===null?null:w.virtual.value?w.virtual.value.options[(y=w.activeOptionIndex.value)!=null?y:0]:(j=(C=w.options.value[w.activeOptionIndex.value])==null?void 0:C.dataRef.value)!=null?j:null,value:m.value};return Ae(oe,[...W!=null&&m.value!=null?Pn({[W]:m.value}).map(([R,G])=>Ae(wl,bl({features:On.Hidden,key:R,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:P,disabled:A,name:R,value:G}))):[],He({theirProps:{...t,...kt(V,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:z,slots:n,attrs:t,name:"Combobox"})])}}}),Dl=Y({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:o}){var a;let s=(a=e.id)!=null?a:`headlessui-combobox-button-${xt()}`,r=Ge("ComboboxButton");o({el:r.buttonRef,$el:r.buttonRef});function l(f){r.disabled.value||(r.comboboxState.value===0?r.closeCombobox():(f.preventDefault(),r.openCombobox()),ge(()=>{var d;return(d=J(r.inputRef))==null?void 0:d.focus({preventScroll:!0})}))}function u(f){switch(f.key){case be.ArrowDown:f.preventDefault(),f.stopPropagation(),r.comboboxState.value===1&&r.openCombobox(),ge(()=>{var d;return(d=r.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case be.ArrowUp:f.preventDefault(),f.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),ge(()=>{r.value.value||r.goToOption(de.Last)})),ge(()=>{var d;return(d=r.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case be.Escape:if(r.comboboxState.value!==0)return;f.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&f.stopPropagation(),r.closeCombobox(),ge(()=>{var d;return(d=r.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return}}let c=vl(F(()=>({as:e.as,type:n.type})),r.buttonRef);return()=>{var f,d;let p={open:r.comboboxState.value===0,disabled:r.disabled.value,value:r.value.value},{...k}=e,D={ref:r.buttonRef,id:s,type:c.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(f=J(r.optionsRef))==null?void 0:f.id,"aria-expanded":r.comboboxState.value===0,"aria-labelledby":r.labelRef.value?[(d=J(r.labelRef))==null?void 0:d.id,s].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:u,onClick:l};return He({ourProps:D,theirProps:k,slot:p,attrs:n,slots:t,name:"ComboboxButton"})}}}),Vn=Y({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:n,attrs:t,slots:o,expose:a}){var s;let r=(s=e.id)!=null?s:`headlessui-combobox-input-${xt()}`,l=Ge("ComboboxInput"),u=F(()=>Tt(J(l.inputRef))),c={value:!1};a({el:l.inputRef,$el:l.inputRef});function f(){l.change(null);let _=J(l.optionsRef);_&&(_.scrollTop=0),l.goToOption(de.Nothing)}let d=F(()=>{var _;let S=l.value.value;return J(l.inputRef)?typeof e.displayValue<"u"&&S!==void 0?(_=e.displayValue(S))!=null?_:"":typeof S=="string"?S:"":""});_e(()=>{te([d,l.comboboxState,u],([_,S],[M,w])=>{if(c.value)return;let g=J(l.inputRef);g&&((w===0&&S===1||_!==M)&&(g.value=_),requestAnimationFrame(()=>{var y;if(c.value||!g||((y=u.value)==null?void 0:y.activeElement)!==g)return;let{selectionStart:C,selectionEnd:j}=g;Math.abs((j??0)-(C??0))===0&&C===0&&g.setSelectionRange(g.value.length,g.value.length)}))},{immediate:!0}),te([l.comboboxState],([_],[S])=>{if(_===0&&S===1){if(c.value)return;let M=J(l.inputRef);if(!M)return;let w=M.value,{selectionStart:g,selectionEnd:y,selectionDirection:C}=M;M.value="",M.value=w,C!==null?M.setSelectionRange(g,y,C):M.setSelectionRange(g,y)}})});let p=N(!1);function k(){p.value=!0}function D(){vt().nextFrame(()=>{p.value=!1})}let O=Zo();function x(_){switch(c.value=!0,O(()=>{c.value=!1}),_.key){case be.Enter:if(c.value=!1,l.comboboxState.value!==0||p.value)return;if(_.preventDefault(),_.stopPropagation(),l.activeOptionIndex.value===null){l.closeCombobox();return}l.selectActiveOption(),l.mode.value===0&&l.closeCombobox();break;case be.ArrowDown:return c.value=!1,_.preventDefault(),_.stopPropagation(),Pe(l.comboboxState.value,{0:()=>l.goToOption(de.Next),1:()=>l.openCombobox()});case be.ArrowUp:return c.value=!1,_.preventDefault(),_.stopPropagation(),Pe(l.comboboxState.value,{0:()=>l.goToOption(de.Previous),1:()=>{l.openCombobox(),ge(()=>{l.value.value||l.goToOption(de.Last)})}});case be.Home:if(_.shiftKey)break;return c.value=!1,_.preventDefault(),_.stopPropagation(),l.goToOption(de.First);case be.PageUp:return c.value=!1,_.preventDefault(),_.stopPropagation(),l.goToOption(de.First);case be.End:if(_.shiftKey)break;return c.value=!1,_.preventDefault(),_.stopPropagation(),l.goToOption(de.Last);case be.PageDown:return c.value=!1,_.preventDefault(),_.stopPropagation(),l.goToOption(de.Last);case be.Escape:if(c.value=!1,l.comboboxState.value!==0)return;_.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&_.stopPropagation(),l.nullable.value&&l.mode.value===0&&l.value.value===null&&f(),l.closeCombobox();break;case be.Tab:if(c.value=!1,l.comboboxState.value!==0)return;l.mode.value===0&&l.activationTrigger.value!==1&&l.selectActiveOption(),l.closeCombobox();break}}function T(_){n("change",_),l.nullable.value&&l.mode.value===0&&_.target.value===""&&f(),l.openCombobox()}function $(_){var S,M,w;let g=(S=_.relatedTarget)!=null?S:Ne.find(y=>y!==_.currentTarget);if(c.value=!1,!((M=J(l.optionsRef))!=null&&M.contains(g))&&!((w=J(l.buttonRef))!=null&&w.contains(g))&&l.comboboxState.value===0)return _.preventDefault(),l.mode.value===0&&(l.nullable.value&&l.value.value===null?f():l.activationTrigger.value!==1&&l.selectActiveOption()),l.closeCombobox()}function m(_){var S,M,w;let g=(S=_.relatedTarget)!=null?S:Ne.find(y=>y!==_.currentTarget);(M=J(l.buttonRef))!=null&&M.contains(g)||(w=J(l.optionsRef))!=null&&w.contains(g)||l.disabled.value||l.immediate.value&&l.comboboxState.value!==0&&(l.openCombobox(),vt().nextFrame(()=>{l.setActivationTrigger(1)}))}let v=F(()=>{var _,S,M,w;return(w=(M=(S=e.defaultValue)!=null?S:l.defaultValue.value!==void 0?(_=e.displayValue)==null?void 0:_.call(e,l.defaultValue.value):null)!=null?M:l.defaultValue.value)!=null?w:""});return()=>{var _,S,M,w,g,y,C;let j={open:l.comboboxState.value===0},{displayValue:W,onChange:A,...P}=e,V={"aria-controls":(_=l.optionsRef.value)==null?void 0:_.id,"aria-expanded":l.comboboxState.value===0,"aria-activedescendant":l.activeOptionIndex.value===null?void 0:l.virtual.value?(S=l.options.value.find(z=>!l.virtual.value.disabled(z.dataRef.value)&&l.compare(z.dataRef.value,l.virtual.value.options[l.activeOptionIndex.value])))==null?void 0:S.id:(M=l.options.value[l.activeOptionIndex.value])==null?void 0:M.id,"aria-labelledby":(y=(w=J(l.labelRef))==null?void 0:w.id)!=null?y:(g=J(l.buttonRef))==null?void 0:g.id,"aria-autocomplete":"list",id:r,onCompositionstart:k,onCompositionend:D,onKeydown:x,onInput:T,onFocus:m,onBlur:$,role:"combobox",type:(C=t.type)!=null?C:"text",tabIndex:0,ref:l.inputRef,defaultValue:v.value,disabled:l.disabled.value===!0?!0:void 0};return He({ourProps:V,theirProps:P,slot:j,attrs:t,slots:o,features:nt.RenderStrategy|nt.Static,name:"ComboboxInput"})}}}),An=Y({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:t,expose:o}){let a=Ge("ComboboxOptions"),s=`headlessui-combobox-options-${xt()}`;o({el:a.optionsRef,$el:a.optionsRef}),$e(()=>{a.optionsPropsRef.value.static=e.static}),$e(()=>{a.optionsPropsRef.value.hold=e.hold});let r=xl(),l=F(()=>r!==null?(r.value&ot.Open)===ot.Open:a.comboboxState.value===0);hl({container:F(()=>J(a.optionsRef)),enabled:F(()=>a.comboboxState.value===0),accept(c){return c.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});function u(c){c.preventDefault()}return()=>{var c,f,d;let p={open:a.comboboxState.value===0},k={"aria-labelledby":(d=(c=J(a.labelRef))==null?void 0:c.id)!=null?d:(f=J(a.buttonRef))==null?void 0:f.id,id:s,ref:a.optionsRef,role:"listbox","aria-multiselectable":a.mode.value===1?!0:void 0,onMousedown:u},D=kt(e,["hold"]);return He({ourProps:k,theirProps:D,slot:p,attrs:n,slots:a.virtual.value&&a.comboboxState.value===0?{...t,default:()=>[Ae(Il,{},t.default)]}:t,features:nt.RenderStrategy|nt.Static,visible:l.value,name:"ComboboxOptions"})}}}),Fn=Y({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:n,attrs:t,expose:o}){let a=Ge("ComboboxOption"),s=`headlessui-combobox-option-${xt()}`,r=N(null),l=F(()=>e.disabled);o({el:r,$el:r});let u=F(()=>{var $;return a.virtual.value?a.activeOptionIndex.value===a.calculateIndex(e.value):a.activeOptionIndex.value===null?!1:(($=a.options.value[a.activeOptionIndex.value])==null?void 0:$.id)===s}),c=F(()=>a.isSelected(e.value)),f=re(En,null),d=F(()=>({disabled:e.disabled,value:e.value,domRef:r,order:F(()=>e.order)}));_e(()=>a.registerOption(s,d)),Ie(()=>a.unregisterOption(s,u.value)),$e(()=>{let $=J(r);$&&(f==null||f.value.measureElement($))}),$e(()=>{a.comboboxState.value===0&&u.value&&(a.virtual.value||a.activationTrigger.value!==0&&ge(()=>{var $,m;return(m=($=J(r))==null?void 0:$.scrollIntoView)==null?void 0:m.call($,{block:"nearest"})}))});function p($){$.preventDefault(),$.button===qn.Left&&(l.value||(a.selectOption(s),kn()||requestAnimationFrame(()=>{var m;return(m=J(a.inputRef))==null?void 0:m.focus({preventScroll:!0})}),a.mode.value===0&&a.closeCombobox()))}function k(){var $;if(e.disabled||($=a.virtual.value)!=null&&$.disabled(e.value))return a.goToOption(de.Nothing);let m=a.calculateIndex(e.value);a.goToOption(de.Specific,m)}let D=gl();function O($){D.update($)}function x($){var m;if(!D.wasMoved($)||e.disabled||(m=a.virtual.value)!=null&&m.disabled(e.value)||u.value)return;let v=a.calculateIndex(e.value);a.goToOption(de.Specific,v,0)}function T($){var m;D.wasMoved($)&&(e.disabled||(m=a.virtual.value)!=null&&m.disabled(e.value)||u.value&&(a.optionsPropsRef.value.hold||a.goToOption(de.Nothing)))}return()=>{let{disabled:$}=e,m={active:u.value,selected:c.value,disabled:$},v={id:s,ref:r,role:"option",tabIndex:$===!0?void 0:-1,"aria-disabled":$===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onMousedown:p,onFocus:k,onPointerenter:O,onMouseenter:O,onPointermove:x,onMousemove:x,onPointerleave:T,onMouseleave:T},_=kt(e,["order","value"]);return He({ourProps:v,theirProps:_,slot:m,attrs:t,slots:n,name:"ComboboxOption"})}}});const El=["INPUT","TEXTAREA"];function Tl(e,n,t,o={}){if(!n||o.enableIgnoredElement&&El.includes(n.nodeName))return null;const{arrowKeyOptions:a="both",attributeName:s="[data-reka-collection-item]",itemsArray:r=[],loop:l=!0,dir:u="ltr",preventScroll:c=!0,focus:f=!1}=o,[d,p,k,D,O,x]=[e.key==="ArrowRight",e.key==="ArrowLeft",e.key==="ArrowUp",e.key==="ArrowDown",e.key==="Home",e.key==="End"],T=k||D,$=d||p;if(!O&&!x&&(!T&&!$||a==="vertical"&&$||a==="horizontal"&&T))return null;const m=t?Array.from(t.querySelectorAll(s)):r;if(!m.length)return null;c&&e.preventDefault();let v=null;return $||T?v=Bn(m,n,{goForward:T?D:u==="ltr"?d:p,loop:l}):O?v=m.at(0)||null:x&&(v=m.at(-1)||null),f&&(v==null||v.focus()),v}function Bn(e,n,t,o=e.length){if(--o===0)return null;const a=e.indexOf(n),s=t.goForward?a+1:a-1;if(!t.loop&&(s<0||s>=e.length))return null;const r=(s+e.length)%e.length,l=e[r];return l?l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false"?Bn(e,l,t,o):l:null}function Vt(e){const n=to({dir:N("ltr")});return F(()=>{var t;return(e==null?void 0:e.value)||((t=n.dir)==null?void 0:t.value)||"ltr"})}let Ct=0;function Rn(){$e(e=>{if(!no)return;const n=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",n[0]??Zt()),document.body.insertAdjacentElement("beforeend",n[1]??Zt()),Ct++,e(()=>{Ct===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(t=>t.remove()),Ct--})})}function Zt(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function Vl(e){const n=oo("",1e3);return{search:n,handleTypeaheadSearch:(a,s)=>{n.value=n.value+a;{const r=pt(),l=s.map(p=>{var k,D;return{...p,textValue:((k=p.value)==null?void 0:k.textValue)??((D=p.ref.textContent)==null?void 0:D.trim())??""}}),u=l.find(p=>p.ref===r),c=l.map(p=>p.textValue),f=Fl(c,n.value,u==null?void 0:u.textValue),d=l.find(p=>p.textValue===f);return d&&d.ref.focus(),d==null?void 0:d.ref}},resetTypeahead:()=>{n.value=""}}}function Al(e,n){return e.map((t,o)=>e[(n+o)%e.length])}function Fl(e,n,t){const a=n.length>1&&Array.from(n).every(c=>c===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let r=Al(e,Math.max(s,0));a.length===1&&(r=r.filter(c=>c!==t));const u=r.find(c=>c.toLowerCase().startsWith(a.toLowerCase()));return u!==t?u:void 0}const Bl="rovingFocusGroup.onEntryFocus",Rl={bubbles:!1,cancelable:!0};function Nl(e,n=!1){const t=pt();for(const o of e)if(o===t||(o.focus({preventScroll:n}),pt()!==t))return}const[ld,zl]=ze("RovingFocusGroup");var Ll=Y({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:n,emit:t}){const o=e,a=t,{loop:s,orientation:r,dir:l}=lt(o),u=Vt(l),c=Ye(o,"currentTabStopId",a,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),f=N(!1),d=N(!1),p=N(0),{getItems:k,CollectionSlot:D}=dn({isProvider:!0});function O(T){const $=!d.value;if(T.currentTarget&&T.target===T.currentTarget&&$&&!f.value){const m=new CustomEvent(Bl,Rl);if(T.currentTarget.dispatchEvent(m),a("entryFocus",m),!m.defaultPrevented){const v=k().map(w=>w.ref).filter(w=>w.dataset.disabled!==""),_=v.find(w=>w.getAttribute("data-active")===""),S=v.find(w=>w.id===c.value),M=[_,S,...v].filter(Boolean);Nl(M,o.preventScrollOnEntryFocus)}}d.value=!1}function x(){setTimeout(()=>{d.value=!1},1)}return n({getItems:k}),zl({loop:s,dir:u,orientation:r,currentTabStopId:c,onItemFocus:T=>{c.value=T},onItemShiftTab:()=>{f.value=!0},onFocusableItemAdd:()=>{p.value++},onFocusableItemRemove:()=>{p.value--}}),(T,$)=>(h(),B(i(D),null,{default:I(()=>[q(i(yt),{tabindex:f.value||p.value===0?-1:0,"data-orientation":i(r),as:T.as,"as-child":T.asChild,dir:i(u),style:{outline:"none"},onMousedown:$[0]||($[0]=m=>d.value=!0),onMouseup:x,onFocus:O,onBlur:$[1]||($[1]=m=>f.value=!1)},{default:I(()=>[L(T.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),jl=Ll,Ul=Y({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return(t,o)=>(h(),B(i(cn),se(pe(n)),{default:I(()=>[L(t.$slots,"default")]),_:3},16))}}),Nn=Ul;function Wl(){const e=N(!1);return _e(()=>{Lt("keydown",()=>{e.value=!0},{capture:!0,passive:!0}),Lt(["pointerdown","pointermove"],()=>{e.value=!1},{capture:!0,passive:!0})}),e}const Kl=lo(Wl),[Le,zn]=ze(["MenuRoot","MenuSub"],"MenuContext"),[st,Yl]=ze("MenuRoot");var Hl=Y({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{modal:a,dir:s}=lt(t),r=Vt(s),l=Ye(t,"open",o),u=N(),c=Kl();return zn({open:l,onOpenChange:f=>{l.value=f},content:u,onContentChange:f=>{u.value=f}}),Yl({onClose:()=>{l.value=!1},isUsingKeyboardRef:c,dir:r,modal:a}),(f,d)=>(h(),B(i(Mt),null,{default:I(()=>[L(f.$slots,"default")]),_:3}))}}),Gl=Hl;const[At,Ql]=ze("MenuContent");var Xl=Y({__name:"MenuContentImpl",props:ao({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...so}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(e,{emit:n}){const t=e,o=n,a=Le(),s=st(),{trapFocus:r,disableOutsidePointerEvents:l,loop:u}=lt(t);Rn(),fn(l.value);const c=N(""),f=N(0),d=N(0),p=N(null),k=N("right"),D=N(0),O=N(null),x=N(),{forwardRef:T,currentElement:$}=me(),{handleTypeaheadSearch:m}=Vl();te($,g=>{a.onContentChange(g)}),Ie(()=>{window.clearTimeout(f.value)});function v(g){var C,j;return k.value===((C=p.value)==null?void 0:C.side)&&ro(g,(j=p.value)==null?void 0:j.area)}async function _(g){var y;o("openAutoFocus",g),!g.defaultPrevented&&(g.preventDefault(),(y=$.value)==null||y.focus({preventScroll:!0}))}function S(g){var z;if(g.defaultPrevented)return;const C=g.target.closest("[data-reka-menu-content]")===g.currentTarget,j=g.ctrlKey||g.altKey||g.metaKey,W=g.key.length===1,A=Tl(g,pt(),$.value,{loop:u.value,arrowKeyOptions:"vertical",dir:s==null?void 0:s.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if(A)return A==null?void 0:A.focus();if(g.code==="Space")return;const P=((z=x.value)==null?void 0:z.getItems())??[];if(C&&(g.key==="Tab"&&g.preventDefault(),!j&&W&&m(g.key,P)),g.target!==$.value||!io.includes(g.key))return;g.preventDefault();const V=[...P.map(R=>R.ref)];uo.includes(g.key)&&V.reverse(),co(V)}function M(g){var y,C;(C=(y=g==null?void 0:g.currentTarget)==null?void 0:y.contains)!=null&&C.call(y,g.target)||(window.clearTimeout(f.value),c.value="")}function w(g){var j;if(!tt(g))return;const y=g.target,C=D.value!==g.clientX;if((j=g==null?void 0:g.currentTarget)!=null&&j.contains(y)&&C){const W=g.clientX>D.value?"right":"left";k.value=W,D.value=g.clientX}}return Ql({onItemEnter:g=>!!v(g),onItemLeave:g=>{var y;v(g)||((y=$.value)==null||y.focus(),O.value=null)},onTriggerLeave:g=>!!v(g),searchRef:c,pointerGraceTimerRef:d,onPointerGraceIntentChange:g=>{p.value=g}}),(g,y)=>(h(),B(i(gn),{"as-child":"",trapped:i(r),onMountAutoFocus:_,onUnmountAutoFocus:y[7]||(y[7]=C=>o("closeAutoFocus",C))},{default:I(()=>[q(i(pn),{"as-child":"","disable-outside-pointer-events":i(l),onEscapeKeyDown:y[2]||(y[2]=C=>o("escapeKeyDown",C)),onPointerDownOutside:y[3]||(y[3]=C=>o("pointerDownOutside",C)),onFocusOutside:y[4]||(y[4]=C=>o("focusOutside",C)),onInteractOutside:y[5]||(y[5]=C=>o("interactOutside",C)),onDismiss:y[6]||(y[6]=C=>o("dismiss"))},{default:I(()=>[q(i(jl),{ref_key:"rovingFocusGroupRef",ref:x,"current-tab-stop-id":O.value,"onUpdate:currentTabStopId":y[0]||(y[0]=C=>O.value=C),"as-child":"",orientation:"vertical",dir:i(s).dir.value,loop:i(u),onEntryFocus:y[1]||(y[1]=C=>{o("entryFocus",C),i(s).isUsingKeyboardRef.value||C.preventDefault()})},{default:I(()=>[q(i(mn),{ref:i(T),role:"menu",as:g.as,"as-child":g.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":i(vn)(i(a).open.value),dir:i(s).dir.value,side:g.side,"side-offset":g.sideOffset,align:g.align,"align-offset":g.alignOffset,"avoid-collisions":g.avoidCollisions,"collision-boundary":g.collisionBoundary,"collision-padding":g.collisionPadding,"arrow-padding":g.arrowPadding,"prioritize-position":g.prioritizePosition,"position-strategy":g.positionStrategy,"update-position-strategy":g.updatePositionStrategy,sticky:g.sticky,"hide-when-detached":g.hideWhenDetached,reference:g.reference,onKeydown:S,onBlur:M,onPointermove:w},{default:I(()=>[L(g.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Ft=Xl,Jl=Y({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=At(),{forwardRef:o}=me(),{CollectionItem:a}=dn(),s=N(!1);async function r(u){if(!u.defaultPrevented&&tt(u)){if(n.disabled)t.onItemLeave(u);else if(!t.onItemEnter(u)){const f=u.currentTarget;f==null||f.focus({preventScroll:!0})}}}async function l(u){await ge(),!u.defaultPrevented&&tt(u)&&t.onItemLeave(u)}return(u,c)=>(h(),B(i(a),{value:{textValue:u.textValue}},{default:I(()=>[q(i(yt),Z({ref:i(o),role:"menuitem",tabindex:"-1"},u.$attrs,{as:u.as,"as-child":u.asChild,"aria-disabled":u.disabled||void 0,"data-disabled":u.disabled?"":void 0,"data-highlighted":s.value?"":void 0,onPointermove:r,onPointerleave:l,onFocus:c[0]||(c[0]=async f=>{await ge(),!(f.defaultPrevented||u.disabled)&&(s.value=!0)}),onBlur:c[1]||(c[1]=async f=>{await ge(),!f.defaultPrevented&&(s.value=!1)})}),{default:I(()=>[L(u.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),Ln=Jl,Zl=Y({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,o=n,{forwardRef:a,currentElement:s}=me(),r=st(),l=At(),u=N(!1);async function c(){const f=s.value;if(!t.disabled&&f){const d=new CustomEvent(po,{bubbles:!0,cancelable:!0});o("select",d),await ge(),d.defaultPrevented?u.value=!1:r.onClose()}}return(f,d)=>(h(),B(Ln,Z(t,{ref:i(a),onClick:c,onPointerdown:d[0]||(d[0]=()=>{u.value=!0}),onPointerup:d[1]||(d[1]=async p=>{var k;await ge(),!p.defaultPrevented&&(u.value||(k=p.currentTarget)==null||k.click())}),onKeydown:d[2]||(d[2]=async p=>{const k=i(l).searchRef.value!=="";f.disabled||k&&p.key===" "||i(fo).includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})}),{default:I(()=>[L(f.$slots,"default")]),_:3},16))}}),ea=Zl,ta=Y({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=De(t,o),s=Le(),{forwardRef:r,currentElement:l}=me();return hn(l),(u,c)=>(h(),B(Ft,Z(i(a),{ref:i(r),"trap-focus":i(s).open.value,"disable-outside-pointer-events":i(s).open.value,"disable-outside-scroll":!0,onDismiss:c[0]||(c[0]=f=>i(s).onOpenChange(!1)),onFocusOutside:c[1]||(c[1]=Oe(f=>o("focusOutside",f),["prevent"]))}),{default:I(()=>[L(u.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),na=ta,oa=Y({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=De(e,n),s=Le();return(r,l)=>(h(),B(Ft,Z(i(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:l[0]||(l[0]=u=>i(s).onOpenChange(!1))}),{default:I(()=>[L(r.$slots,"default")]),_:3},16))}}),la=oa,aa=Y({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=De(e,n),s=Le(),r=st();return(l,u)=>(h(),B(i(It),{present:l.forceMount||i(s).open.value},{default:I(()=>[i(r).modal.value?(h(),B(na,se(Z({key:0},{...l.$attrs,...i(a)})),{default:I(()=>[L(l.$slots,"default")]),_:3},16)):(h(),B(la,se(Z({key:1},{...l.$attrs,...i(a)})),{default:I(()=>[L(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),sa=aa,ra=Y({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const n=e;return(t,o)=>(h(),B(i(yt),se(pe(n)),{default:I(()=>[L(t.$slots,"default")]),_:3},16))}}),ia=ra,ua=Y({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>(h(),B(i(yn),se(pe(n)),{default:I(()=>[L(t.$slots,"default")]),_:3},16))}}),da=ua;const[jn,ca]=ze("MenuSub");var fa=Y({__name:"MenuSub",props:{open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:n}){const t=e,a=Ye(t,"open",n,{defaultValue:!1,passive:t.open===void 0}),s=Le(),r=N(),l=N();return $e(u=>{(s==null?void 0:s.open.value)===!1&&(a.value=!1),u(()=>a.value=!1)}),zn({open:a,onOpenChange:u=>{a.value=u},content:l,onContentChange:u=>{l.value=u}}),ca({triggerId:"",contentId:"",trigger:r,onTriggerChange:u=>{r.value=u}}),(u,c)=>(h(),B(i(Mt),null,{default:I(()=>[L(u.$slots,"default")]),_:3}))}}),pa=fa,ma=Y({__name:"MenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1,default:!0},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=De(e,n),s=Le(),r=st(),l=jn(),{forwardRef:u,currentElement:c}=me();return l.contentId||(l.contentId=at(void 0,"reka-menu-sub-content")),(f,d)=>(h(),B(i(It),{present:f.forceMount||i(s).open.value},{default:I(()=>[q(Ft,Z(i(a),{id:i(l).contentId,ref:i(u),"aria-labelledby":i(l).triggerId,align:"start",side:i(r).dir.value==="rtl"?"left":"right","disable-outside-pointer-events":!1,"disable-outside-scroll":!1,"trap-focus":!1,onOpenAutoFocus:d[0]||(d[0]=Oe(p=>{var k;i(r).isUsingKeyboardRef.value&&((k=i(c))==null||k.focus())},["prevent"])),onCloseAutoFocus:d[1]||(d[1]=Oe(()=>{},["prevent"])),onFocusOutside:d[2]||(d[2]=p=>{p.defaultPrevented||p.target!==i(l).trigger.value&&i(s).onOpenChange(!1)}),onEscapeKeyDown:d[3]||(d[3]=p=>{i(r).onClose(),p.preventDefault()}),onKeydown:d[4]||(d[4]=p=>{var O,x;const k=(O=p.currentTarget)==null?void 0:O.contains(p.target),D=i(mo)[i(r).dir.value].includes(p.key);k&&D&&(i(s).onOpenChange(!1),(x=i(l).trigger.value)==null||x.focus(),p.preventDefault())})}),{default:I(()=>[L(f.$slots,"default")]),_:3},16,["id","aria-labelledby","side"])]),_:3},8,["present"]))}}),va=ma,ga=Y({__name:"MenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=Le(),o=st(),a=jn(),s=At(),r=N(null);a.triggerId||(a.triggerId=at(void 0,"reka-menu-sub-trigger"));function l(){r.value&&window.clearTimeout(r.value),r.value=null}Ie(()=>{l()});function u(d){!tt(d)||s.onItemEnter(d)||!n.disabled&&!t.open.value&&!r.value&&(s.onPointerGraceIntentChange(null),r.value=window.setTimeout(()=>{t.onOpenChange(!0),l()},100))}async function c(d){var k,D;if(!tt(d))return;l();const p=(k=t.content.value)==null?void 0:k.getBoundingClientRect();if(p!=null&&p.width){const O=(D=t.content.value)==null?void 0:D.dataset.side,x=O==="right",T=x?-5:5,$=p[x?"left":"right"],m=p[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+T,y:d.clientY},{x:$,y:p.top},{x:m,y:p.top},{x:m,y:p.bottom},{x:$,y:p.bottom}],side:O}),window.clearTimeout(s.pointerGraceTimerRef.value),s.pointerGraceTimerRef.value=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d))return;s.onPointerGraceIntentChange(null)}}async function f(d){var k;const p=s.searchRef.value!=="";n.disabled||p&&d.key===" "||vo[o.dir.value].includes(d.key)&&(t.onOpenChange(!0),await ge(),(k=t.content.value)==null||k.focus(),d.preventDefault())}return(d,p)=>(h(),B(Nn,{"as-child":""},{default:I(()=>[q(Ln,Z(n,{id:i(a).triggerId,ref:k=>{var D;(D=i(a))==null||D.onTriggerChange(k==null?void 0:k.$el)},"aria-haspopup":"menu","aria-expanded":i(t).open.value,"aria-controls":i(a).contentId,"data-state":i(vn)(i(t).open.value),onClick:p[0]||(p[0]=async k=>{n.disabled||k.defaultPrevented||(k.currentTarget.focus(),i(t).open.value||i(t).onOpenChange(!0))}),onPointermove:u,onPointerleave:c,onKeydown:f}),{default:I(()=>[L(d.$slots,"default")]),_:3},16,["id","aria-expanded","aria-controls","data-state"])]),_:3}))}}),ha=ga;const[rt,ya]=ze("PopoverRoot");var ba=Y({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n,{modal:a}=lt(t),s=Ye(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),r=N(),l=N(!1);return ya({contentId:"",triggerId:"",modal:a,open:s,onOpenChange:u=>{s.value=u},onOpenToggle:()=>{s.value=!s.value},triggerElement:r,hasCustomAnchor:l}),(u,c)=>(h(),B(i(Mt),null,{default:I(()=>[L(u.$slots,"default",{open:i(s),close:()=>s.value=!1})]),_:3}))}}),_a=ba,wa=Y({__name:"PopoverAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;me();const t=rt();return go(()=>{t.hasCustomAnchor.value=!0}),Ie(()=>{t.hasCustomAnchor.value=!1}),(o,a)=>(h(),B(i(cn),se(pe(n)),{default:I(()=>[L(o.$slots,"default")]),_:3},16))}}),xa=wa,ka=Y({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=ho(yo(t,"trapFocus","disableOutsidePointerEvents")),{forwardRef:s}=me(),r=rt();return Rn(),(l,u)=>(h(),B(i(gn),{"as-child":"",loop:"",trapped:l.trapFocus,onMountAutoFocus:u[5]||(u[5]=c=>o("openAutoFocus",c)),onUnmountAutoFocus:u[6]||(u[6]=c=>o("closeAutoFocus",c))},{default:I(()=>[q(i(pn),{"as-child":"","disable-outside-pointer-events":l.disableOutsidePointerEvents,onPointerDownOutside:u[0]||(u[0]=c=>o("pointerDownOutside",c)),onInteractOutside:u[1]||(u[1]=c=>o("interactOutside",c)),onEscapeKeyDown:u[2]||(u[2]=c=>o("escapeKeyDown",c)),onFocusOutside:u[3]||(u[3]=c=>o("focusOutside",c)),onDismiss:u[4]||(u[4]=c=>i(r).onOpenChange(!1))},{default:I(()=>[q(i(mn),Z(i(a),{id:i(r).contentId,ref:i(s),"data-state":i(r).open.value?"open":"closed","aria-labelledby":i(r).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:I(()=>[L(l.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Un=ka,Sa=Y({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=rt(),s=N(!1);fn(!0);const r=De(t,o),{forwardRef:l,currentElement:u}=me();return hn(u),(c,f)=>(h(),B(Un,Z(i(r),{ref:i(l),"trap-focus":i(a).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:f[0]||(f[0]=Oe(d=>{var p;o("closeAutoFocus",d),s.value||(p=i(a).triggerElement.value)==null||p.focus()},["prevent"])),onPointerDownOutside:f[1]||(f[1]=d=>{o("pointerDownOutside",d);const p=d.detail.originalEvent,k=p.button===0&&p.ctrlKey===!0,D=p.button===2||k;s.value=D}),onFocusOutside:f[2]||(f[2]=Oe(()=>{},["prevent"]))}),{default:I(()=>[L(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),Ca=Sa,Oa=Y({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=rt(),s=N(!1),r=N(!1),l=De(t,o);return(u,c)=>(h(),B(Un,Z(i(l),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=f=>{var d;o("closeAutoFocus",f),f.defaultPrevented||(s.value||(d=i(a).triggerElement.value)==null||d.focus(),f.preventDefault()),s.value=!1,r.value=!1}),onInteractOutside:c[1]||(c[1]=async f=>{var k;o("interactOutside",f),f.defaultPrevented||(s.value=!0,f.detail.originalEvent.type==="pointerdown"&&(r.value=!0));const d=f.target;((k=i(a).triggerElement.value)==null?void 0:k.contains(d))&&f.preventDefault(),f.detail.originalEvent.type==="focusin"&&r.value&&f.preventDefault()})}),{default:I(()=>[L(u.$slots,"default")]),_:3},16))}}),$a=Oa,qa=Y({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,o=n,a=rt(),s=De(t,o),{forwardRef:r}=me();return a.contentId||(a.contentId=at(void 0,"reka-popover-content")),(l,u)=>(h(),B(i(It),{present:l.forceMount||i(a).open.value},{default:I(()=>[i(a).modal.value?(h(),B(Ca,Z({key:0},i(s),{ref:i(r)}),{default:I(()=>[L(l.$slots,"default")]),_:3},16)):(h(),B($a,Z({key:1},i(s),{ref:i(r)}),{default:I(()=>[L(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Pa=qa,Ma=Y({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>(h(),B(i(yn),se(pe(n)),{default:I(()=>[L(t.$slots,"default")]),_:3},16))}}),Ia=Ma;const[Wn,Da]=ze("DropdownMenuRoot");var Ea=Y({__name:"DropdownMenuRoot",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,o=n;me();const a=Ye(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),s=N(),{modal:r,dir:l}=lt(t),u=Vt(l);return Da({open:a,onOpenChange:c=>{a.value=c},onOpenToggle:()=>{a.value=!a.value},triggerId:"",triggerElement:s,contentId:"",modal:r,dir:u}),(c,f)=>(h(),B(i(Gl),{open:i(a),"onUpdate:open":f[0]||(f[0]=d=>bn(a)?a.value=d:null),dir:i(u),modal:i(r)},{default:I(()=>[L(c.$slots,"default",{open:i(a)})]),_:3},8,["open","dir","modal"]))}}),Ta=Ea,Va=Y({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(e,{emit:n}){const a=De(e,n);me();const s=Wn(),r=N(!1);function l(u){u.defaultPrevented||(r.value||setTimeout(()=>{var c;(c=s.triggerElement.value)==null||c.focus()},0),r.value=!1,u.preventDefault())}return s.contentId||(s.contentId=at(void 0,"reka-dropdown-menu-content")),(u,c)=>{var f;return h(),B(i(sa),Z(i(a),{id:i(s).contentId,"aria-labelledby":(f=i(s))==null?void 0:f.triggerId,style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"},onCloseAutoFocus:l,onInteractOutside:c[0]||(c[0]=d=>{var O;if(d.defaultPrevented)return;const p=d.detail.originalEvent,k=p.button===0&&p.ctrlKey===!0,D=p.button===2||k;(!i(s).modal.value||D)&&(r.value=!0),(O=i(s).triggerElement.value)!=null&&O.contains(d.target)&&d.preventDefault()})}),{default:I(()=>[L(u.$slots,"default")]),_:3},16,["id","aria-labelledby"])}}}),Aa=Va,Fa=Y({__name:"DropdownMenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,a=bo(n);return me(),(s,r)=>(h(),B(i(ea),se(pe({...t,...i(a)})),{default:I(()=>[L(s.$slots,"default")]),_:3},16))}}),en=Fa,Ba=Y({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return me(),(t,o)=>(h(),B(i(ia),se(pe(n)),{default:I(()=>[L(t.$slots,"default")]),_:3},16))}}),tn=Ba,Ra=Y({__name:"DropdownMenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,o)=>(h(),B(i(da),se(pe(n)),{default:I(()=>[L(t.$slots,"default")]),_:3},16))}}),nn=Ra,Na=Y({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(e,{emit:n}){const t=e,a=Ye(t,"open",n,{passive:t.open===void 0,defaultValue:t.defaultOpen??!1});return me(),(s,r)=>(h(),B(i(pa),{open:i(a),"onUpdate:open":r[0]||(r[0]=l=>bn(a)?a.value=l:null)},{default:I(()=>[L(s.$slots,"default",{open:i(a)})]),_:3},8,["open"]))}}),za=Na,La=Y({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const a=De(e,n);return me(),(s,r)=>(h(),B(i(va),Z(i(a),{style:{"--reka-dropdown-menu-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-dropdown-menu-content-available-width":"var(--reka-popper-available-width)","--reka-dropdown-menu-content-available-height":"var(--reka-popper-available-height)","--reka-dropdown-menu-trigger-width":"var(--reka-popper-anchor-width)","--reka-dropdown-menu-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:I(()=>[L(s.$slots,"default")]),_:3},16))}}),ja=La,Ua=Y({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return me(),(t,o)=>(h(),B(i(ha),se(pe(n)),{default:I(()=>[L(t.$slots,"default")]),_:3},16))}}),Wa=Ua,Ka=Y({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=Wn(),{forwardRef:o,currentElement:a}=me();return _e(()=>{t.triggerElement=a}),t.triggerId||(t.triggerId=at(void 0,"reka-dropdown-menu-trigger")),(s,r)=>(h(),B(i(Nn),{"as-child":""},{default:I(()=>[q(i(yt),{id:i(t).triggerId,ref:i(o),type:s.as==="button"?"button":void 0,"as-child":n.asChild,as:s.as,"aria-haspopup":"menu","aria-expanded":i(t).open.value,"aria-controls":i(t).open.value?i(t).contentId:void 0,"data-disabled":s.disabled?"":void 0,disabled:s.disabled,"data-state":i(t).open.value?"open":"closed",onClick:r[0]||(r[0]=async l=>{var u;!s.disabled&&l.button===0&&l.ctrlKey===!1&&((u=i(t))==null||u.onOpenToggle(),await ge(),i(t).open.value&&l.preventDefault())}),onKeydown:r[1]||(r[1]=_o(l=>{s.disabled||(["Enter"," "].includes(l.key)&&i(t).onOpenToggle(),l.key==="ArrowDown"&&i(t).onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())},["enter","space","arrow-down"]))},{default:I(()=>[L(s.$slots,"default")]),_:3},8,["id","type","as-child","as","aria-expanded","aria-controls","data-disabled","disabled","data-state"])]),_:3}))}}),Ya=Ka;const Ha={class:"rounded-lg border bg-surface-modal shadow-xl"},Bt=Y({inheritAttrs:!1,__name:"Popover",props:{show:{type:Boolean,default:void 0},trigger:{default:"click"},hoverDelay:{default:0},leaveDelay:{default:.5},placement:{default:"bottom-start"},popoverClass:{default:""},transition:{default:null},hideOnBlur:{type:Boolean,default:!0}},emits:["open","close","update:show"],setup(e,{expose:n,emit:t}){const o=e,a=t;n({open:x,close:T});const s=N(!1),r=N(!1),l=N(null),u=N(null),c=N(null),f=F({get:()=>d.value?o.show:s.value,set:M=>{d.value||(s.value=M),a("update:show",M)}}),d=F(()=>o.show!==void 0),p=F(()=>{const[M]=o.placement.split("-");return M}),k=F(()=>{const[,M]=o.placement.split("-");return M||"center"});function D(M){M instanceof Event&&(M=void 0),M==null&&(M=!f.value),M=!!M,M?x():T()}function O(){}function x(){f.value=!0}function T(){f.value=!1}function $(M){a("update:show",M),a(M?"open":"close")}function m(){r.value=!0,u.value&&(clearTimeout(u.value),u.value=null),o.trigger==="hover"&&(o.hoverDelay?l.value=setTimeout(()=>{r.value&&x()},Number(o.hoverDelay)*1e3):x())}function v(){r.value=!1,l.value&&(clearTimeout(l.value),l.value=null),o.trigger==="hover"&&(u.value&&clearTimeout(u.value),o.leaveDelay?u.value=setTimeout(()=>{r.value||T()},Number(o.leaveDelay)*1e3):r.value||T())}function _(M){if(!o.hideOnBlur){M.preventDefault();return}const w=M.target;if(c.value&&(c.value.contains(w)||c.value===w)){M.preventDefault();return}}const S=F(()=>o.transition==="default");return Ie(()=>{l.value&&clearTimeout(l.value),u.value&&clearTimeout(u.value)}),(M,w)=>(h(),B(i(_a),{open:f.value,"onUpdate:open":[w[1]||(w[1]=g=>f.value=g),$]},{default:I(()=>[q(i(xa),{asChild:""},{default:I(()=>[b("div",{ref_key:"anchorRef",ref:c,class:U(["flex",M.$attrs.class]),onMouseover:m,onMouseleave:v},[L(M.$slots,"target",se(pe({togglePopover:D,updatePosition:O,open:x,close:T,isOpen:f.value})))],34)]),_:3}),q(i(Ia),null,{default:I(()=>[q(i(Pa),{side:p.value,align:k.value,style:{minWidth:"var(--reka-popover-trigger-width)"},class:U(["PopoverContent",{"has-transition":S.value}]),onMouseover:w[0]||(w[0]=()=>{r.value=!0}),onMouseleave:v,onInteractOutside:_},{default:I(()=>[b("div",{class:U(["relative",["body-container",M.popoverClass]])},[L(M.$slots,"body",se(pe({togglePopover:D,updatePosition:O,open:x,close:T,isOpen:f.value})),()=>[b("div",Ha,[L(M.$slots,"body-main",se(pe({togglePopover:D,updatePosition:O,open:x,close:T,isOpen:f.value})))])])],2)]),_:3},8,["side","align","class"])]),_:3})]),_:3},8,["open"]))}}),Ga={class:"w-full space-y-1.5"},Qa={key:0,class:"block text-xs text-ink-gray-5"},Xa=["onClick"],Ja={class:"flex items-center overflow-hidden"},Za={key:0,class:"truncate text-base leading-5 text-ink-gray-8"},es={key:1,class:"text-base leading-5 text-ink-gray-4"},ts={key:0,class:"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-surface-modal py-1.5"},ns={class:"relative w-full"},os={class:"absolute right-0 inline-flex h-7 w-7 items-center justify-center"},ls={key:0,class:"sticky top-10 truncate bg-surface-modal px-2.5 py-1.5 text-sm font-medium text-ink-gray-5"},as={class:"flex flex-1 gap-2 overflow-hidden items-center"},ss={key:0,class:"flex flex-shrink-0"},rs={key:1,class:"h-4 w-4"},is={class:"flex-1 truncate text-ink-gray-7"},us={key:0,class:"ml-2 flex-shrink-0"},ds={key:0,class:"text-sm text-ink-gray-5"},cs={key:1,class:"rounded-md px-2.5 py-1.5 text-base text-ink-gray-5"},fs={key:0,class:"border-t p-1"},ps={key:0,class:"flex items-center justify-end"},ms={key:1,class:"flex items-center justify-end"},vs=Y({__name:"Autocomplete",props:{label:{},options:{},hideSearch:{type:Boolean,default:!1},placeholder:{},bodyClasses:{},loading:{type:Boolean},placement:{},showFooter:{type:Boolean},compareFn:{type:Function,default:(e,n)=>e.value===n.value},maxOptions:{default:50},multiple:{type:Boolean,default:!1},modelValue:{type:[Array,null,String,Number,Boolean,Object]}},emits:["update:modelValue","update:query","change"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=N(),r=N(!1),l=N(""),u=F(()=>{var y;if(!((y=o.options)!=null&&y.length))return[];let g;return S(o.options[0])?g=o.options:g=[{group:"",items:f(o.options),hideLabel:!1}],g.map((C,j)=>({key:j,group:C.group,hideLabel:C.hideLabel,items:d(f(C.items||[]))})).filter(C=>C.items.length>0)}),c=F(()=>u.value.flatMap(g=>g.items)),f=g=>g?g.map(y=>_(y)?y:{label:y.toString(),value:y}):[],d=g=>l.value?g.filter(y=>y.label.toLowerCase().includes(l.value.trim().toLowerCase())||y.value.toString().toLowerCase().includes(l.value.trim().toLowerCase())):g,p=F({get(){if(!o.multiple)return k(o.modelValue)||D(o.modelValue);const g=o.modelValue||[];return _(g[0])?g:g.map(y=>k(y)||D(y))},set(g){if(l.value="",g&&!o.multiple&&(r.value=!1),!o.multiple){a("update:modelValue",g);return}a("update:modelValue",g)}}),k=g=>{if(!g)return g;const y=_(g)?g.value:g;return c.value.find(C=>C.value===y)},D=g=>_(g)?g:{label:g,value:g},O=g=>_(g)?(g==null?void 0:g.label)||(g==null?void 0:g.value):g,x=F(()=>p.value?o.multiple?p.value.map(g=>O(g)).join(", "):O(p.value):""),T=g=>{if(!p.value)return!1;const y=_(g)?g.value:g;return o.multiple?p.value.find(C=>_(C)?C.value===y:C===y):p.value===y},$=F(()=>{var g;return o.multiple?c.value.length===((g=p.value)==null?void 0:g.length):!1}),m=()=>{p.value=c.value},v=()=>{p.value=o.multiple?[]:void 0},_=g=>typeof g=="object",S=g=>typeof g=="object"&&"items"in g&&"group"in g;te(()=>l.value,()=>{a("update:query",l.value)}),te(()=>r.value,()=>{r.value&&ge(()=>{var g;return(g=s.value)==null?void 0:g.$el.focus()})});const M=N();return n({rootRef:M,togglePopover:()=>{r.value=!r.value}}),(g,y)=>(h(),B(i(Tn),{modelValue:p.value,"onUpdate:modelValue":y[2]||(y[2]=C=>p.value=C),multiple:g.multiple,nullable:"",by:g.compareFn},{default:I(({open:C})=>[q(i(Bt),{class:"w-full",show:r.value,"onUpdate:show":y[1]||(y[1]=j=>r.value=j),ref_key:"rootRef",ref:M,placement:g.placement},{target:I(({open:j,togglePopover:W,close:A})=>[L(g.$slots,"target",se(pe({open:j,close:A,togglePopover:W,isOpen:C})),()=>[b("div",Ga,[o.label?(h(),E("label",Qa,K(o.label),1)):H("",!0),b("button",{class:U(["flex h-7 w-full items-center justify-between gap-2 rounded bg-surface-gray-2 px-2 py-1 transition-colors hover:bg-surface-gray-3 border border-transparent focus:border-outline-gray-4 focus:outline-none focus:ring-2 focus:ring-outline-gray-3",{"bg-surface-gray-3":C}]),onClick:()=>W()},[b("div",Ja,[L(g.$slots,"prefix"),x.value?(h(),E("span",Za,K(x.value),1)):(h(),E("span",es,K(g.placeholder||""),1)),L(g.$slots,"suffix")]),q(ne,{name:"chevron-down",class:"h-4 w-4 text-ink-gray-5","aria-hidden":"true"})],10,Xa)])])]),body:I(({isOpen:j,togglePopover:W})=>[Se(b("div",null,[b("div",{class:U(["relative mt-1 rounded-lg bg-surface-modal text-base shadow-2xl",g.bodyClasses])},[q(i(An),{class:U(["max-h-[15rem] overflow-y-auto px-1.5 pb-1.5",{"pt-1.5":g.hideSearch}]),static:""},{default:I(()=>[g.hideSearch?H("",!0):(h(),E("div",ts,[b("div",ns,[q(i(Vn),{ref_key:"searchInput",ref:s,class:"form-input w-full focus:bg-surface-gray-3 hover:bg-surface-gray-4 text-ink-gray-8",type:"text",value:l.value,onChange:y[0]||(y[0]=A=>l.value=A.target.value),autocomplete:"off",placeholder:"Search"},null,8,["value"]),b("div",os,[o.loading?(h(),B(wo,{key:0,class:"h-4 w-4 text-ink-gray-5"})):(h(),E("button",{key:1,onClick:v},[q(ne,{name:"x",class:"w-4 text-ink-gray-8"})]))])])])),(h(!0),E(oe,null,ue(u.value,A=>Se((h(),E("div",{key:A.key},[A.group&&!A.hideLabel?(h(),E("div",ls,K(A.group),1)):H("",!0),(h(!0),E(oe,null,ue(A.items.slice(0,o.maxOptions),(P,V)=>(h(),B(i(Fn),{as:"template",key:V,value:P,disabled:P.disabled},{default:I(({active:z,selected:R})=>[b("li",{class:U(["flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base",{"bg-surface-gray-3":z,"opacity-50":P.disabled}])},[b("div",as,[g.$slots["item-prefix"]||o.multiple?(h(),E("div",ss,[L(g.$slots,"item-prefix",Z({ref_for:!0},{active:z,selected:R,option:P}),()=>[T(P)?(h(),B(ne,{key:0,name:"check",class:"h-4 w-4 text-ink-gray-7"})):(h(),E("div",rs))])])):H("",!0),b("span",is,K(O(P)),1)]),g.$slots["item-suffix"]||P!=null&&P.description?(h(),E("div",us,[L(g.$slots,"item-suffix",Z({ref_for:!0},{active:z,selected:R,option:P}),()=>[P!=null&&P.description?(h(),E("div",ds,K(P.description),1)):H("",!0)])])):H("",!0)],2)]),_:2},1032,["value","disabled"]))),128))])),[[qe,A.items.length>0]])),128)),u.value.length==0?(h(),E("li",cs," No results found ")):H("",!0)]),_:3},8,["class"]),g.$slots.footer||o.showFooter||g.multiple?(h(),E("div",fs,[L(g.$slots,"footer",se(pe({togglePopover:W})),()=>[g.multiple?(h(),E("div",ps,[$.value?H("",!0):(h(),B(i(ae),{key:0,label:"Select All",onClick:Oe(m,["stop"])})),$.value?(h(),B(i(ae),{key:1,label:"Clear All",onClick:Oe(v,["stop"])})):H("",!0)])):(h(),E("div",ms,[q(i(ae),{label:"Clear",onClick:Oe(v,["stop"])})]))])])):H("",!0)],2)],512),[[qe,j]])]),_:2},1032,["show","placement"])]),_:3},8,["modelValue","multiple","by"]))}}),gs=Y({__name:"Badge",props:{theme:{default:"gray"},size:{default:"md"},variant:{default:"subtle"},label:{}},setup(e){const n=e,t=F(()=>{let o={gray:"text-ink-white bg-surface-gray-7",blue:"text-ink-blue-1 bg-surface-blue-2",green:"text-ink-green-1 bg-surface-green-3",orange:"text-ink-amber-1 bg-surface-amber-2",red:"text-ink-red-1 bg-surface-red-4"}[n.theme],a={gray:"text-ink-gray-6 bg-surface-gray-2",blue:"text-ink-blue-2 bg-surface-blue-1",green:"text-ink-green-3 bg-surface-green-2",orange:"text-ink-amber-3 bg-surface-amber-1",red:"text-ink-red-4 bg-surface-red-1"}[n.theme],s={gray:"text-ink-gray-6 bg-transparent border border-outline-gray-1",blue:"text-ink-blue-2 bg-transparent border border-outline-blue-1",green:"text-ink-green-3 bg-transparent border border-outline-green-2",orange:"text-ink-amber-3 bg-transparent border border-outline-amber-2",red:"text-ink-red-4 bg-transparent border border-outline-red-2"}[n.theme],r={gray:"text-ink-gray-6 bg-transparent",blue:"text-ink-blue-2 bg-transparent",green:"text-ink-green-3 bg-transparent",orange:"text-ink-amber-3 bg-transparent",red:"text-ink-red-4 bg-transparent"}[n.theme],l={subtle:a,solid:o,outline:s,ghost:r}[n.variant],u={sm:"h-4 text-xs px-1.5",md:"h-5 text-xs px-1.5",lg:"h-6 text-sm px-2"}[n.size];return[l,u]});return(o,a)=>(h(),E("div",{class:U(["inline-flex select-none items-center gap-1 rounded-full",t.value])},[o.$slots.prefix?(h(),E("div",{key:0,class:U([n.size=="lg"?"max-h-6":"max-h-4"])},[L(o.$slots,"prefix")],2)):H("",!0),L(o.$slots,"default",{},()=>{var s;return[ce(K((s=n.label)==null?void 0:s.toString()),1)]}),o.$slots.suffix?(h(),E("div",{key:1,class:U([n.size=="lg"?"max-h-6":"max-h-4"])},[L(o.$slots,"suffix")],2)):H("",!0)],2))}}),hs=Y({inheritAttrs:!1,__name:"Dropdown",props:{button:{},options:{default:()=>[]},placement:{default:"left"}},setup(e){const n=N(!1),t=Dt(),o=bt(),a=e;function s(){n.value=!1}const r=v=>{v.route?t.push(v.route):v.onClick&&v.onClick()},l=v=>({...v,label:v.label,theme:v.theme||"gray",icon:v.icon,component:v.component,onClick:()=>r(v),submenu:v.submenu}),u=v=>v.theme==="red"?"text-ink-red-3":"text-ink-gray-6",c=v=>v.theme==="red"?"text-ink-red-3":"text-ink-gray-7",f=v=>v.theme==="red"?"focus:bg-surface-red-3 data-[highlighted]:bg-surface-red-3 data-[state=open]:bg-surface-red-3":"focus:bg-surface-gray-3 data-[highlighted]:bg-surface-gray-3 data-[state=open]:bg-surface-gray-3",d=v=>f(v)+" data-[state=open]:bg-surface-"+(v.theme==="red"?"red-3":"gray-3"),p=v=>{let _=[],S=null,M=0;for(let w of v)if(w!=null){if("group"in w){S&&(_.push(S),S=null);let g={key:M,...w,items:D(w.items)};_.push(g)}else S||(S={key:M,group:"",hideLabel:!0,items:[]}),S.items.push(...D([w]));M++}return S&&_.push(S),_},k=v=>p(v),D=v=>(v||[]).filter(Boolean).filter(_=>_.condition?_.condition():!0).map(_=>l(_)),O=v=>v.items.some(_=>_.icon),x={dropdownContent:"min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none dropdown-content",groupContainer:"p-1.5",groupLabel:"flex h-7 items-center px-2 text-sm font-medium",itemLabel:"whitespace-nowrap",itemIcon:"mr-2 h-4 w-4 flex-shrink-0",itemIconPlaceholder:"mr-2 h-4 w-4 flex-shrink-0",chevronIcon:"ml-auto h-4 w-4 flex-shrink-0",itemButton:"group flex h-7 w-full items-center rounded px-2 text-base focus:outline-none",submenuTrigger:"group flex h-7 w-full items-center rounded px-2 text-base text-ink-gray-6 focus:outline-none"},T=F(()=>p(a.options)),$=F(()=>"bottom"),m=F(()=>a.placement==="left"?"start":a.placement==="right"?"end":a.placement==="center"?"center":"start");return(v,_)=>(h(),B(i(Ta),{open:n.value,"onUpdate:open":_[0]||(_[0]=S=>n.value=S)},{default:I(({open:S})=>[q(i(Ya),{"as-child":""},{default:I(()=>[v.$slots.default?L(v.$slots,"default",se(Z({key:0},{open:S,close:s,...i(o)})),void 0,!0):(h(),B(i(ae),Z({key:1,active:!1},{...v.button,...i(o)}),{default:I(()=>{var M;return[ce(K(v.button?((M=v.button)==null?void 0:M.label)||null:"Options"),1)]}),_:1},16))]),_:2},1024),q(i(nn),null,{default:I(()=>[q(i(Aa),{class:U([x.dropdownContent,{"origin-top-left":v.placement=="left","origin-top-right":v.placement=="right","origin-top":v.placement=="center"}]),side:$.value,align:m.value,"side-offset":4},{default:I(()=>[(h(!0),E(oe,null,ue(T.value,M=>(h(),E(oe,{key:M.key},[M.items.length?(h(),E("div",{key:0,class:U(x.groupContainer)},[M.group&&!M.hideLabel?(h(),B(i(tn),{key:0,class:U([x.groupLabel,c(M)])},{default:I(()=>[ce(K(M.group),1)]),_:2},1032,["class"])):H("",!0),(h(!0),E(oe,null,ue(M.items,w=>(h(),B(i(en),{key:w.label,"as-child":"",onSelect:w.onClick},{default:I(()=>[v.$slots.item?L(v.$slots,"item",Z({key:0,ref_for:!0},{item:w,close:s}),void 0,!0):w.component?(h(),B(Ve(w.component),{key:1,active:!1})):w.submenu?(h(),B(i(za),{key:2},{default:I(()=>[q(i(Wa),{"as-child":""},{default:I(()=>[b("button",{class:U([x.submenuTrigger,d(w)])},[w.icon&&typeof w.icon=="string"?(h(),B(ne,{key:0,name:w.icon,class:U([x.itemIcon,u(w)]),"aria-hidden":"true"},null,8,["name","class"])):w.icon?(h(),B(Ve(w.icon),{key:1,class:U([x.itemIcon,u(w)])},null,8,["class"])):O(M)?(h(),E("div",{key:2,class:U(x.itemIconPlaceholder)},null,2)):H("",!0),b("span",{class:U([x.itemLabel,c(w)])},K(w.label),3),q(ne,{name:"chevron-right",class:U([x.chevronIcon,u(w)]),"aria-hidden":"true"},null,8,["class"])],2)]),_:2},1024),q(i(nn),null,{default:I(()=>[q(i(ja),{class:U(x.dropdownContent),"side-offset":4},{default:I(()=>[(h(!0),E(oe,null,ue(k(w.submenu),g=>(h(),E("div",{key:g.key,class:U(x.groupContainer)},[g.group&&!g.hideLabel?(h(),B(i(tn),{key:0,class:U(x.groupLabel)},{default:I(()=>[ce(K(g.group),1)]),_:2},1032,["class"])):H("",!0),(h(!0),E(oe,null,ue(g.items,y=>(h(),B(i(en),{key:y.label,"as-child":"",onSelect:()=>r(y)},{default:I(()=>[y.component?(h(),B(Ve(y.component),{key:0,active:!1})):(h(),E("button",{key:1,class:U([x.itemButton,f(y)])},[y.icon&&typeof y.icon=="string"?(h(),B(ne,{key:0,name:y.icon,class:U([x.itemIcon,u(y)]),"aria-hidden":"true"},null,8,["name","class"])):y.icon?(h(),B(Ve(y.icon),{key:1,class:U([x.itemIcon,u(y)])},null,8,["class"])):O(g)?(h(),E("div",{key:2,class:U(x.itemIconPlaceholder)},null,2)):H("",!0),b("span",{class:U([x.itemLabel,c(y)])},K(y.label),3)],2))]),_:2},1032,["onSelect"]))),128))],2))),128))]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024)):(h(),E("button",{key:3,class:U([x.itemButton,f(w)])},[w.icon&&typeof w.icon=="string"?(h(),B(ne,{key:0,name:w.icon,class:U([x.itemIcon,u(w)]),"aria-hidden":"true"},null,8,["name","class"])):w.icon?(h(),B(Ve(w.icon),{key:1,class:U([x.itemIcon,u(w)])},null,8,["class"])):O(M)?(h(),E("div",{key:2,class:U(x.itemIconPlaceholder)},null,2)):H("",!0),b("span",{class:U([x.itemLabel,c(w)])},K(w.label),3)],2))]),_:2},1032,["onSelect"]))),128))],2)):H("",!0)],64))),128))]),_:3},8,["class","side","align"])]),_:3})]),_:3},8,["open"]))}}),Kn=_t(hs,[["__scopeId","data-v-e596c91d"]]),ys={class:"flex min-w-0 items-center"},bs={class:"flex min-w-0 items-center overflow-hidden text-ellipsis whitespace-nowrap"},_s=["onClick"],ws={key:2,class:"mx-0.5 text-base text-ink-gray-4","aria-hidden":"true"},xs=Y({__name:"Breadcrumbs",props:{items:{}},setup(e){const n=e,t=Dt(),{width:o}=xo(),a=F(()=>(n.items||[]).filter(Boolean)),s=F(()=>o.value>640?[]:a.value.slice(0,-2).map(u=>{let c=()=>{u.onClick&&u.onClick(),u.route&&t.push(u.route)};return{...u,icon:null,label:u.label,onClick:c}})),r=F(()=>o.value>640?a.value:a.value.slice(-2));return(l,u)=>{const c=ke("router-link");return h(),E("div",ys,[s.value.length?(h(),E(oe,{key:0},[q(i(Kn),{class:"h-7",options:s.value},{default:I(()=>[q(i(ae),{variant:"ghost"},{icon:I(()=>[...u[0]||(u[0]=[b("svg",{class:"w-4 text-ink-gray-5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[b("circle",{cx:"12",cy:"12",r:"1"}),b("circle",{cx:"19",cy:"12",r:"1"}),b("circle",{cx:"5",cy:"12",r:"1"})],-1)])]),_:1})]),_:1},8,["options"]),u[1]||(u[1]=b("span",{class:"ml-1 mr-0.5 text-base text-ink-gray-4","aria-hidden":"true"}," / ",-1))],64)):H("",!0),b("div",bs,[(h(!0),E(oe,null,ue(r.value,(f,d)=>(h(),E(oe,{key:f.label},[f.route?(h(),B(c,{key:0,to:f.route,onClick:p=>f.onClick?f.onClick():null,class:U(["flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3",[d==r.value.length-1?"text-ink-gray-9":"text-ink-gray-5 hover:text-ink-gray-7"]])},{default:I(()=>[L(l.$slots,"prefix",{item:f}),b("span",null,K(f.label),1),L(l.$slots,"suffix",{item:f})]),_:2},1032,["to","onClick","class"])):(h(),E("button",{key:1,onClick:p=>f.onClick?f.onClick():null,class:U(["flex items-center rounded px-0.5 py-1 text-lg font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-outline-gray-3",[d==r.value.length-1?"text-ink-gray-9":"text-ink-gray-5 hover:text-ink-gray-7"]])},[L(l.$slots,"prefix",{item:f}),b("span",null,K(f.label),1),L(l.$slots,"suffix",{item:f})],10,_s)),d!=r.value.length-1?(h(),E("span",ws," / ")):H("",!0)],64))),128))])])}}});let ks=0;function Ss(){return++ks}function Yn(){return"frappe-ui-"+Ss()}const Cs=["disabled","id","checked"],Os=["for"],$s=Y({__name:"Checkbox",props:{size:{default:"sm"},label:{},checked:{type:Boolean},disabled:{type:Boolean},padding:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number]},id:{}},setup(e){const n=e,t=bt(),o=n.id??Yn(),a=F(()=>[{sm:"text-base font-medium",md:"text-lg font-medium"}[n.size],n.disabled?"text-ink-gray-4":"text-ink-gray-8","select-none"]),s=F(()=>{let r=n.disabled?"border-outline-gray-2 bg-surface-menu-bar text-ink-gray-3":"border-outline-gray-4 text-ink-gray-9 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition",l=n.disabled?"":n.padding?"focus:ring-0":"hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3 active:bg-surface-gray-2",u={sm:"w-3.5 h-3.5",md:"w-4 h-4"}[n.size];return[r,l,u]});return(r,l)=>(h(),E("div",{class:U(["inline-flex space-x-2 rounded transition",{"px-2.5 py-1.5":r.padding&&r.size==="sm","px-3 py-2":r.padding&&r.size==="md","focus-within:bg-surface-gray-2 focus-within:ring-2 focus-within:ring-outline-gray-3 hover:bg-surface-gray-3 active:bg-surface-gray-4":r.padding&&!r.disabled}])},[b("input",Z({class:["rounded-sm mt-[1px]",s.value],type:"checkbox",disabled:r.disabled,id:i(o),checked:!!r.modelValue,onChange:l[0]||(l[0]=u=>r.$emit("update:modelValue",u.target.checked))},i(t)),null,16,Cs),r.label?(h(),E("label",{key:0,class:U(["block",a.value]),for:i(o)},K(r.label),11,Os)):H("",!0)],2))}});function Ce(...e){return new Date(...e)}function We(e){return!e||e.toString()==="Invalid Date"?"":ko(e).set("hour",0).set("minute",0).set("second",0).set("millisecond",0).format("YYYY-MM-DD")}function dt(e,n){let t=1;n<0&&(t=-1,n=Math.abs(n));const o=[];for(;n;)e=Ce(e.getFullYear(),e.getMonth(),e.getDate()+t),o.push(e),n--;return t===-1?o.reverse():o}function qs(e,n){const o=[31,28,31,30,31,30,31,31,30,31,30,31][e];return e===1&&Ps(n)?29:o}function Ps(e){return e%400===0?!0:e%100===0?!1:e%4===0}function Ms(){const e=N(0),n=N(0),t=F(()=>Ce()),o=F(()=>{if(!(e.value&&n.value))return[];const c=n.value-1,f=e.value,d=Ce(f,c,1),p=Ce(f,c+1,0),k=d.getDay(),D=6-p.getDay(),O=dt(d,-k),x=dt(p,D),T=qs(c,f),$=dt(d,T-1);let m=[...O,d,...$,...x];if(m.length<42){const v=m.at(-1);if(v){const _=dt(v,42-m.length);m=m.concat(..._)}}return m}),a=F(()=>{const c=[],f=o.value.slice();for(;f.length;){const d=f.splice(0,7);c.push(d)}return c}),s=F(()=>{if(!(e.value&&n.value))return"";const c=Ce(e.value,n.value-1,1);return`${c.toLocaleString("en-US",{month:"long"})}, ${c.getFullYear()}`});function r(){u(-1)}function l(){u(1)}function u(c){n.value=n.value+c,n.value<1&&(n.value=12,e.value=e.value-1),n.value>12&&(n.value=1,e.value=e.value+1)}return{currentYear:e,currentMonth:n,today:t,dates:o,datesAsWeeks:a,formattedMonth:s,prevMonth:r,nextMonth:l,changeMonth:u}}const Is={class:"flex flex-col space-y-1.5"},Ds={key:0,class:"block text-xs text-ink-gray-5"},Es={class:"flex items-center p-1 text-ink-gray-4"},Ts={class:"flex-1 text-center text-base font-medium text-ink-gray-6"},Vs={class:"flex items-center justify-center gap-1 p-1"},As={class:"flex flex-col items-center justify-center p-1 text-ink-gray-8"},Fs={class:"flex items-center text-xs uppercase"},Bs=["onClick"],Rs={class:"flex justify-end p-1"},$t=Y({__name:"DatePicker",props:{value:{},modelValue:{},placeholder:{},formatter:{type:Function},readonly:{type:Boolean},inputClass:{},placement:{},label:{}},emits:["update:modelValue","change"],setup(e,{emit:n}){const t=e,o=n,{currentYear:a,currentMonth:s,today:r,datesAsWeeks:l,formattedMonth:u,prevMonth:c,nextMonth:f}=Ms(),d=F(()=>{var x,T,$;let O="mt-2";return(x=t.placement)!=null&&x.startsWith("top")?O="mb-2":(T=t.placement)!=null&&T.startsWith("left")?O="mr-2":($=t.placement)!=null&&$.startsWith("right")&&(O="ml-2"),O}),p=F(()=>t.value?t.value:t.modelValue);function k(O,x=!1){O=x?_n(O):O,o("change",We(O)),o("update:modelValue",We(O))}function D(){let O=p.value?Ce(p.value):Ce();O.toString()==="Invalid Date"&&(O=Ce()),a.value=O.getFullYear(),s.value=O.getMonth()+1}return _e(()=>D()),(O,x)=>(h(),B(i(Bt),{onOpen:D,class:"flex w-full [&>div:first-child]:w-full",placement:O.placement},{target:I(({togglePopover:T})=>[b("div",Is,[t.label?(h(),E("label",Ds,K(t.label),1)):H("",!0),q(i(mt),Z({readonly:"",type:"text",placeholder:O.placeholder,value:p.value&&O.formatter?O.formatter(p.value):p.value,onFocus:$=>O.readonly?null:T(),class:["w-full",O.inputClass]},O.$attrs),ft({_:2},[O.$slots.prefix?{name:"prefix",fn:I(()=>[L(O.$slots,"prefix")]),key:"0"}:void 0]),1040,["placeholder","value","onFocus","class"])])]),body:I(({togglePopover:T})=>[b("div",{class:U(["w-fit select-none text-base text-ink-gray-9 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",d.value])},[b("div",Es,[q(i(ae),{variant:"ghost",class:"h-7 w-7",onClick:i(c)},{default:I(()=>[q(ne,{"stroke-width":2,name:"chevron-left",class:"h-4 w-4"})]),_:1},8,["onClick"]),b("div",Ts,K(i(u)),1),q(i(ae),{variant:"ghost",class:"h-7 w-7",onClick:i(f)},{default:I(()=>[q(ne,{"stroke-width":2,name:"chevron-right",class:"h-4 w-4"})]),_:1},8,["onClick"])]),b("div",Vs,[q(i(mt),{class:"text-sm",type:"text",value:p.value&&O.formatter?O.formatter(p.value):p.value,onChange:x[0]||(x[0]=$=>k(i(Ce)($.target.value)))},null,8,["value"]),q(i(ae),{label:"Today",class:"text-sm",onClick:()=>{k(i(Ce)(),!0),T()}},null,8,["onClick"])]),b("div",As,[b("div",Fs,[(h(),E(oe,null,ue(["s","m","t","w","t","f","s"],($,m)=>b("div",{class:"flex h-6 w-8 items-center justify-center text-center",key:m},K($),1)),64))]),(h(!0),E(oe,null,ue(i(l),($,m)=>(h(),E("div",{class:"flex items-center",key:m},[(h(!0),E(oe,null,ue($,v=>(h(),E("div",{key:i(We)(v),class:U(["flex h-8 w-8 cursor-pointer items-center justify-center rounded hover:bg-surface-gray-2",{"text-ink-gray-3":v.getMonth()!==i(s)-1,"font-extrabold text-ink-gray-9":i(We)(v)===i(We)(i(r)),"bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6":i(We)(v)===p.value}]),onClick:()=>{k(v),T()}},K(v.getDate()),11,Bs))),128))]))),128))]),b("div",Rs,[q(i(ae),{label:"Clear",class:"text-sm",onClick:()=>{k(""),T()}},null,8,["onClick"])])],2)]),_:3},8,["placement"]))}}),Ns={class:"space-y-1.5"},zs=["for"],Ls=["placeholder","disabled","id","value","rows"],js=Y({__name:"Textarea",props:{size:{default:"sm"},variant:{default:"subtle"},placeholder:{},disabled:{type:Boolean},id:{},modelValue:{},debounce:{},rows:{default:3},label:{}},emits:["update:modelValue"],setup(e,{expose:n,emit:t}){const o=e,a=t,s=bt(),r=N(null),l=F(()=>{let d={sm:"text-base rounded",md:"text-base rounded",lg:"text-lg rounded-md",xl:"text-xl rounded-md"}[o.size],p={sm:["py-1.5 px-2"],md:["py-1.5 px-2.5"],lg:["py-1.5 px-3"],xl:["py-1.5 px-3"]}[o.size],k=o.disabled?"disabled":o.variant,D={subtle:"border border-[--surface-gray-2] bg-surface-gray-2 placeholder-ink-gray-4 hover:border-outline-gray-modals hover:bg-surface-gray-3 focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",outline:"border border-outline-gray-2 bg-surface-white placeholder-ink-gray-4 hover:border-outline-gray-3 hover:shadow-sm focus:bg-surface-white focus:border-outline-gray-4 focus:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-outline-gray-3",disabled:["border bg-surface-gray-1 placeholder-ink-gray-3",o.variant==="outline"?"border-outline-gray-2":"border-transparent"]}[k];return[d,p,D,o.disabled?"text-ink-gray-5":"text-ink-gray-8","transition-colors w-full block"]}),u=F(()=>[{sm:"text-xs",md:"text-base",lg:"text-lg",xl:"text-xl"}[o.size],"text-ink-gray-5"]);let c=d=>{a("update:modelValue",d)};o.debounce&&(c=So(c,o.debounce));let f=d=>{c(d.target.value)};return n({el:r}),(d,p)=>(h(),E("div",Ns,[d.label?(h(),E("label",{key:0,class:U(["block",u.value]),for:d.id},K(d.label),11,zs)):H("",!0),b("textarea",Z({ref_key:"textareaRef",ref:r,placeholder:d.placeholder,class:l.value,disabled:d.disabled,id:d.id,value:d.modelValue,rows:d.rows,onInput:p[0]||(p[0]=(...k)=>i(f)&&i(f)(...k)),onChange:p[1]||(p[1]=(...k)=>i(f)&&i(f)(...k))},i(s)),null,16,Ls)]))}}),Us=["for"],Ws=Y({__name:"FormLabel",props:{label:{},size:{default:"sm"},id:{},required:{type:Boolean}},setup(e){const n=e,t=F(()=>[{sm:"text-xs",md:"text-base"}[n.size],"text-ink-gray-5"]);return(o,a)=>(h(),E("label",{class:U(["block",t.value]),for:o.id},[ce(K(o.label)+" ",1),o.required?(h(),E(oe,{key:0},[a[0]||(a[0]=b("span",{class:"text-ink-red-3 select-none","aria-hidden":"true"},"*",-1)),a[1]||(a[1]=b("span",{class:"sr-only"},"(required)",-1))],64)):H("",!0)],10,Us))}}),Ks={inheritAttrs:!1},X=Y({...Ks,__name:"FormControl",props:{label:{},description:{},type:{default:"text"},size:{default:"sm"},variant:{default:"subtle"},required:{type:Boolean}},setup(e){const n=Yn(),t=e,o=bt(),a=F(()=>{let r={};for(let l in o)l!=="class"&&l!=="style"&&(r[l]=o[l]);return r}),s=F(()=>[{sm:"text-xs",md:"text-base"}[t.size],"text-ink-gray-5"]);return(r,l)=>r.type!="checkbox"?(h(),E("div",{key:0,class:U(["space-y-1.5",i(o).class]),style:Co(i(o).style)},[r.label?(h(),B(Ws,{key:0,label:r.label,size:r.size,id:i(n),required:r.required},null,8,["label","size","id","required"])):H("",!0),r.type==="select"?(h(),B(i(Oo),Z({key:1,id:i(n)},{...a.value,size:r.size,variant:r.variant}),ft({_:2},[r.$slots.prefix?{name:"prefix",fn:I(()=>[L(r.$slots,"prefix")]),key:"0"}:void 0]),1040,["id"])):r.type==="autocomplete"?(h(),B(i(vs),se(Z({key:2},{...a.value})),ft({_:2},[r.$slots.prefix?{name:"prefix",fn:I(()=>[L(r.$slots,"prefix")]),key:"0"}:void 0,r.$slots["item-prefix"]?{name:"item-prefix",fn:I(u=>[L(r.$slots,"item-prefix",se(pe(u)))]),key:"1"}:void 0]),1040)):r.type==="textarea"?(h(),B(i(js),Z({key:3,id:i(n)},{...a.value,size:r.size,variant:r.variant}),null,16,["id"])):(h(),B(i(mt),Z({key:4,id:i(n)},{...a.value,type:r.type,size:r.size,variant:r.variant,required:r.required}),ft({_:2},[r.$slots.prefix?{name:"prefix",fn:I(()=>[L(r.$slots,"prefix")]),key:"0"}:void 0,r.$slots.suffix?{name:"suffix",fn:I(()=>[L(r.$slots,"suffix")]),key:"1"}:void 0]),1040,["id"])),L(r.$slots,"description",{},()=>[r.description?(h(),E("p",{key:0,class:U(s.value)},K(r.description),3)):H("",!0)])],6)):(h(),B(i($s),Z({key:1,id:i(n)},{...a.value,label:r.label,size:r.size,class:i(o).class}),null,16,["id"]))}});let xe=null,qt=null;function on(){typeof window<"u"&&!xe&&(xe=document.querySelector('link[rel="icon"]'),qt=(xe==null?void 0:xe.href)||null)}function Ys(e){typeof window<"u"&&on();const n=te(()=>{try{return e()}catch{return null}},o=>{if(!(typeof window>"u")&&o)if(o.title&&(document.title=o.title),xe||on(),o.emoji){const a=`data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${o.emoji}</text></svg>`;xe&&(xe.href=a)}else o.icon?xe&&(xe.href=o.icon):xe&&qt&&(xe.href=qt)},{immediate:!0,deep:!0});return qo()&&$o(n),n}const Ze=N({}),ct=ht({}),Hs=Po({doctype:"AntPOS Settings",name:"AntPOS Settings",onSuccess:e=>(Ze.value=e,Rt().setupBrand(),e)});function Rt(){function e(){var n,t,o;ct.name=(n=Ze.value)==null?void 0:n.brand_name,ct.logo=(t=Ze.value)==null?void 0:t.brand_logo,ct.favicon=(o=Ze.value)==null?void 0:o.favicon}return{setting:Hs,settings:Ze,brand:ct,setupBrand:e}}const Gs=Mo("antpos-users",()=>{const e=Io();let n=ht({});const t=Dt(),o=Me({url:"ant_pos.ant_pos.api.session.get_users",cache:"Users",initialData:[],auto:!0,transform(s){for(let r of s)n[r.name]=r,r.name==="Administrator"&&(n[r.email]=r);return s},onError(s){s&&s.exc_type==="AuthenticationError"&&t.push("/login")}});function a(s){return(!s||s==="sessionUser")&&(s=e.user),n[s]||(n[s]={name:s,email:s,full_name:s.split("@")[0],first_name:s.split("@")[0],last_name:"",user_image:null,role:null}),n[s]}return{users:o,getUser:a}}),ye=Do(),Qs=["src"],Xs={class:"flex flex-1 flex-col text-left ml-3 transition-all duration-300 ease-in-out"},Js={class:"text-p-sm font-semibold text-white"},Zs={class:"mt-1 text-sm text-gray-300"},er=["src"],tr={class:"w-full flex flex-col gap-3 mt-6"},nr={class:"text-white font-medium"},or={class:"text-white font-medium"},lr={class:"flex justify-center items-center gap-2"},ar={__name:"Sidebar",props:{collapse:{type:Boolean,required:!0}},setup(e){const{brand:n}=Rt();let t=re("base");N({isExpanded:!0});const{loadComponent:o}=re("dynamicComponent"),a=Gs(),s=F(()=>a.getUser()),r=Me({url:"logout",method:"GET",onSuccess(c){window.location.reload()}}),l=e,u=[{label:"Close Shift",icon:()=>Ae(ne,{name:"file-minus"}),onClick:()=>{o("CloseShift")}},{label:"Settings",icon:()=>Ae(ne,{name:"settings"}),onClick:()=>{o("Settings")}},{label:"Logout",icon:()=>Ae(ne,{name:"log-out"}),onClick:()=>{r.fetch()}}];return(c,f)=>(h(),E("div",{class:U(["h-full pb-4 bg-[#4e60ac] shadow-lg flex-col items-center transition-all duration-300 ease-in-out flex ",l.collapse?"w-[3%] sm:hidden lg:flex":"w-[30%] px-1 fixed inset-0 z-40 lg:w-[10%] lg:inset-auto lg:z-auto lg:relative"])},[q(i(Kn),{options:u,class:U(l.collapse?"":"adjust w-full")},{default:I(()=>[l.collapse?(h(),E("button",{key:1,class:U(["flex h-14 justify-center items-center pb-2 mt-1 duration-150 ease-in-out",l.collapse?"w-full":"w-44 rounded-lg hover:bg-[#7c8bca]"])},[b("img",{src:i(n).logo||"/assets/ant_pos/antPOS.png",alt:"Brand Logo",class:U(["object-cover transition-all duration-300 ease-in-out",l.collapse?"h-full w-full m-0.5":"h-10 w-10"])},null,10,er)],2)):(h(),E("button",{key:0,class:U(["flex h-14 items-center pb-2 mt-1 max-w-full duration-150 ease-in-out justify-center object-cover",l.collapse?"w-full ":"w-full  hover:bg-[#7c8bca] rounded-lg"])},[b("img",{src:i(n).logo||"/assets/ant_pos/antPOS.png",alt:"Brand Logo",class:U(["object-cover max-h-[60%] lg:max-h-full transition-all duration-300 ease-in-out",l.collapse?"h-7 w-full":"h-10 w-10 object-center"])},null,10,Qs),Se(b("div",Xs,[b("div",Js,K(i(n).name?i(n).name:"antPOS"),1),b("div",Zs,K(s.value.full_name),1)],512),[[qe,!l.collapse]]),Se(q(i(ne),{name:"chevron-down",class:"h-5 w-5 text-gray-300","aria-hidden":"true"},null,512),[[qe,!l.collapse]])],2))]),_:1},8,["class"]),b("div",tr,[b("div",{class:U(["w-full p-2 flex gap-3 items-center hover:bg-[#7c8bca] hover:cursor-pointer rounded-lg transition-all duration-500 ease-in-out",[{"bg-[#7c8bca]":i(t).page!="payments"},l.collapse?"justify-center":""]]),onClick:f[0]||(f[0]=d=>i(ye).emit("updatePage","Pos"))},[q(i(ne),{name:"monitor",class:"w-5 h-5 text-white"}),Se(b("p",nr,"POS",512),[[qe,!l.collapse]])],2),b("div",{class:"w-full p-2 flex gap-3 items-center hover:bg-[#7c8bca] rounded-lg transition-all duration-500 ease-in-out",onClick:f[1]||(f[1]=d=>i(o)("Attendance"))},[q(i(ne),{name:"user-check",class:"w-5 h-5 text-white"}),Se(b("p",or,"Attendance",512),[[qe,!l.collapse]])])]),q(i(ae),{class:U(["mt-auto w-full flex bg-transparent hover:cursor-pointer transition-all duration-500 ease-in-out text-white hover:bg-[#7c8bca] border-none",l.collapse?"justify-end":"justify-center"]),onClick:f[2]||(f[2]=d=>i(ye).emit("trigger_collapse"))},{default:I(()=>[b("div",lr,[q(i(ne),{name:l.collapse?"chevrons-right":"chevrons-left",class:"h-5 w-5"},null,8,["name"]),Se(b("span",null,"Collapse",512),[[qe,!l.collapse]])])]),_:1},8,["class"])],2))}},sr=_t(ar,[["__scopeId","data-v-f7e19a42"]]),rr={class:"w-full h-[6%]"},ir={class:"bg-[#ffffff] w-full h-full flex items-center justify-between p-4 border-b border-gray-200",style:{"font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif","font-size":"17px"}},ur={class:"flex items-center gap-2"},dr={class:"flex float-right gap-4"},cr={__name:"Navbar",setup(e){const n=re("base");F({get(){var o;return((o=n==null?void 0:n.pos_profile)==null?void 0:o.custom_set_sales_order)===1},set(o){n&&n.pos_profile&&(n.pos_profile.custom_set_sales_order=o?1:0)}}),F(()=>{var o;return n!=null&&n.is_return?{label:"Return",theme:"yellow",class:"'text-xs font-semibold text-yellow-300'"}:(o=n==null?void 0:n.invoice)!=null&&o.docstatus?{label:"Draft",theme:"red",class:"'text-xs font-semibold'"}:{label:"Not Saved",theme:"red",class:"'text-xs font-semibold'"}});const t=F(()=>[{label:(n==null?void 0:n.page)==="Pos"?"POS":"Payments",route:{name:"Pos"}}]);return(o,a)=>{const s=ke("Button");return h(),E("div",rr,[b("div",ir,[b("div",ur,[q(s,{variant:"ghost",size:"lg",onClick:a[0]||(a[0]=r=>i(ye).emit("trigger_collapse")),class:"bg-gray-300 hover:bg-gray-400 rounded-full p-1.5 lg:hidden block"},{default:I(()=>[q(i(ne),{name:"menu",class:"w-4 h-4"})]),_:1}),b("div",null,[q(i(xs),{items:t.value},null,8,["items"])])]),b("div",dr,[b("div",null,[q(i(gs),{variant:"subtle",ref_for:!0,class:U("text-xs font-semibold"),theme:"blue",size:"lg"},{default:I(()=>{var r,l;return[ce(K((l=(r=i(n))==null?void 0:r.Ant_Opening_Shift)==null?void 0:l.pos_profile),1)]}),_:1})])])])])}}},fr={name:"Autocomplete",props:["modelValue","options","placeholder","bodyClasses","multiple","hideSearch"],emits:["update:modelValue","update:query","change"],components:{Popover:Bt,Button:ae,FeatherIcon:ne,Combobox:Tn,ComboboxInput:Vn,ComboboxOptions:An,ComboboxOption:Fn,ComboboxButton:Dl},expose:["togglePopover","closeOptions"],data(){return{query:"",showOptions:!1}},computed:{selectedValue:{get(){var e,n;return this.multiple?Ke((e=this.modelValue)==null?void 0:e[0])==="value"?(n=this.modelValue)==null?void 0:n.map(t=>this.findOption(t)):this.modelValue:this.findOption(this.modelValue)},set(e){this.query="",e&&!this.multiple&&(this.showOptions=!1),this.$emit("update:modelValue",e)}},groups(){var n;return!this.options||this.options.length===0?[]:((n=this.options[0])!=null&&n.group?this.options:[{group:"",items:this.sanitizeOptions(this.options)}]).map((t,o)=>{const a=this.sanitizeOptions(t.items)||[];return{key:o,group:t.group,hideLabel:t.hideLabel||!1,items:this.filterOptions(a)}}).filter(t=>t.items.length>0)},allOptions(){return this.groups.flatMap(e=>e.items)},areAllOptionsSelected(){var e;return this.multiple?this.allOptions.length===((e=this.selectedValue)==null?void 0:e.length):!1}},watch:{query(e){this.$emit("update:query",e)},showOptions(e){e&&ge(()=>{var n,t;return(t=(n=this.$refs.searchInput)==null?void 0:n.$el)==null?void 0:t.focus()})}},methods:{togglePopover(e){this.showOptions=e??!this.showOptions},closeOptions(){this.showOptions=!1,this.openPopover=!1,this.togglePopover=!1,this.isComboboxOpen=!1},findOption(e){if(!e)return e;const n=Ke(e)==="value"?e:e.value;return this.allOptions.find(t=>t.value===n)},filterOptions(e){if(!e)return[];if(!this.query)return e;const n=this.query.trim().toLowerCase();return e.filter(t=>{var r,l;const o=(r=t.label)==null?void 0:r.toLowerCase().includes(n),a=(l=t.value)==null?void 0:l.toLowerCase().includes(n),s=t.mobile_no?t.mobile_no.toString().toLowerCase().includes(n):!1;return o||a||s})},displayValue(e){return e?this.multiple?Array.isArray(e)?e.map(n=>this.getLabel(this.findOption(n))).join(", "):"":this.getLabel(this.findOption(e)):""},getLabel(e){return Ke(e)==="value"?e:(e==null?void 0:e.label)||(e==null?void 0:e.value)||"No Name"},getmobile(e){return Ke(e)==="value"?e:(e==null?void 0:e.mobile_no)||""},sanitizeOptions(e){return e?e.map(n=>Ke(n)==="option"?n:{label:n,value:n}):[]},isOptionSelected(e){var t,o;if(!this.selectedValue)return!1;const n=Ke(e)==="value"?e:e.value;return this.multiple?(o=this.selectedValue)==null?void 0:o.find(a=>a&&a.value===n):((t=this.selectedValue)==null?void 0:t.value)===n},selectAll(){this.selectedValue=this.allOptions},clearAll(){this.selectedValue=[]}}};function Ke(e){return typeof e=="object"?"option":"value"}const pr={class:"w-full"},mr=["onClick"],vr={class:"flex items-center overflow-hidden"},gr={key:0,class:"truncate text-base leading-5"},hr={key:1,class:"text-base leading-5 text-gray-500"},yr={key:0,class:"sticky top-0 z-10 flex items-stretch space-x-1.5 bg-white py-1.5"},br={class:"relative w-full"},_r={key:0,class:"sticky top-10 truncate bg-white px-2.5 py-1.5 text-sm font-medium text-gray-600"},wr={class:"flex flex-1 gap-2 overflow-hidden"},xr={key:0,class:"flex-shrink-0"},kr={key:1,class:"h-4 w-4"},Sr={class:"flex-1 truncate"},Cr={class:"truncate"},Or={key:0,class:"ml-2 flex-shrink-0"},$r={key:0,class:"text-sm text-gray-600"},qr={key:1,class:"rounded-md px-2.5 py-1.5 text-base text-gray-600"},Pr={key:0,class:"border-t p-1"},Mr={key:0,class:"flex items-center justify-end"};function Ir(e,n,t,o,a,s){const r=ke("ComboboxInput"),l=ke("FeatherIcon"),u=ke("ComboboxOption"),c=ke("ComboboxOptions"),f=ke("Button"),d=ke("Popover"),p=ke("Combobox");return h(),B(p,{modelValue:s.selectedValue,"onUpdate:modelValue":n[3]||(n[3]=k=>s.selectedValue=k),multiple:t.multiple,nullable:""},{default:I(({open:k})=>[q(d,{class:"w-full",show:a.showOptions,"onUpdate:show":n[2]||(n[2]=D=>a.showOptions=D)},{target:I(({open:D,togglePopover:O})=>[L(e.$slots,"target",se(pe({open:D,togglePopover:O})),()=>[b("div",pr,[b("button",{class:U(["flex h-7 w-full items-center justify-between gap-2 rounded px-2 py-1 transition-colors focus:ring-2",{"bg-gray-200":k}]),onClick:()=>O(),style:{"background-color":"#ffffff !important",border:"1px solid #4e60ac !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},[b("div",vr,[L(e.$slots,"prefix"),s.selectedValue?(h(),E("span",gr,K(s.displayValue(s.selectedValue)),1)):(h(),E("span",hr,K(t.placeholder||""),1))]),L(e.$slots,"suffix")],10,mr)])])]),body:I(({isOpen:D,togglePopover:O})=>[Se(b("div",null,[b("div",{class:U(["relative mt-1 rounded-lg text-base shadow-2xl",t.bodyClasses]),style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},[q(c,{class:U(["max-h-[15rem] overflow-y-auto px-1.5 pb-1.5",{"pt-1.5":t.hideSearch}]),static:""},{default:I(()=>[t.hideSearch?H("",!0):(h(),E("div",yr,[b("div",br,[q(r,{ref:"searchInput",class:"form-input w-full",type:"text",onChange:n[0]||(n[0]=x=>{a.query=x.target.value}),value:a.query,autocomplete:"off",placeholder:"Search",style:{"background-color":"#ffffff !important",border:"1px solid #4e60ac !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},null,8,["value"]),b("button",{class:"absolute right-0 inline-flex h-7 w-7 items-center justify-center",onClick:n[1]||(n[1]=x=>s.selectedValue=null)},[q(l,{name:"x",class:"w-4"})])])])),(h(!0),E(oe,null,ue(s.groups,x=>Se((h(),E("div",{key:x.key},[x.group&&!x.hideLabel?(h(),E("div",_r,K(x.group),1)):H("",!0),(h(!0),E(oe,null,ue(x.items.slice(0,50),(T,$)=>(h(),B(u,{as:"template",key:(T==null?void 0:T.value)||$,value:T},{default:I(({active:m,selected:v})=>[b("li",{class:U(["flex cursor-pointer items-center justify-between rounded px-2.5 py-1.5 text-base",{"bg-gray-100":m}])},[b("div",wr,[e.$slots["item-prefix"]||e.$props.multiple?(h(),E("div",xr,[L(e.$slots,"item-prefix",Z({ref_for:!0},{active:m,selected:v,option:T}),()=>[s.isOptionSelected(T)?(h(),B(l,{key:0,name:"check",class:"h-4 w-4 text-gray-700"})):(h(),E("div",kr))])])):H("",!0),b("span",Sr,K(s.getLabel(T)),1),b("span",Cr,K(s.getmobile(T)),1)]),e.$slots["item-suffix"]||T!=null&&T.description?(h(),E("div",Or,[L(e.$slots,"item-suffix",Z({ref_for:!0},{active:m,selected:v,option:T}),()=>[T!=null&&T.description?(h(),E("div",$r,K(T.description),1)):H("",!0)])])):H("",!0)],2)]),_:2},1032,["value"]))),128))])),[[qe,x.items.length>0]])),128)),s.groups.length==0?(h(),E("li",qr," No results found ")):H("",!0)]),_:3},8,["class"]),e.$slots.footer||t.multiple?(h(),E("div",Pr,[L(e.$slots,"footer",se(pe({togglePopover:O})),()=>[t.multiple?(h(),E("div",Mr,[s.areAllOptionsSelected?H("",!0):(h(),B(f,{key:0,label:"Select All",onClick:Oe(s.selectAll,["stop"])},null,8,["onClick"])),s.areAllOptionsSelected?(h(),B(f,{key:1,label:"Clear All",onClick:Oe(s.clearAll,["stop"])},null,8,["onClick"])):H("",!0)])):H("",!0)])])):H("",!0)],2)],512),[[qe,D]])]),_:2},1032,["show"])]),_:3},8,["modelValue","multiple"])}const Nt=_t(fr,[["render",Ir]]);var Hn={exports:{}};(function(e,n){(function(t,o){e.exports=o()})(To,function(){var t=1e3,o=6e4,a=36e5,s="millisecond",r="second",l="minute",u="hour",c="day",f="week",d="month",p="quarter",k="year",D="date",O="Invalid Date",x=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,$={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var P=["th","st","nd","rd"],V=A%100;return"["+A+(P[(V-20)%10]||P[V]||P[0])+"]"}},m=function(A,P,V){var z=String(A);return!z||z.length>=P?A:""+Array(P+1-z.length).join(V)+A},v={s:m,z:function(A){var P=-A.utcOffset(),V=Math.abs(P),z=Math.floor(V/60),R=V%60;return(P<=0?"+":"-")+m(z,2,"0")+":"+m(R,2,"0")},m:function A(P,V){if(P.date()<V.date())return-A(V,P);var z=12*(V.year()-P.year())+(V.month()-P.month()),R=P.clone().add(z,d),G=V-R<0,Q=P.clone().add(z+(G?-1:1),d);return+(-(z+(V-R)/(G?R-Q:Q-R))||0)},a:function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},p:function(A){return{M:d,y:k,w:f,d:c,D,h:u,m:l,s:r,ms:s,Q:p}[A]||String(A||"").toLowerCase().replace(/s$/,"")},u:function(A){return A===void 0}},_="en",S={};S[_]=$;var M="$isDayjsObject",w=function(A){return A instanceof j||!(!A||!A[M])},g=function A(P,V,z){var R;if(!P)return _;if(typeof P=="string"){var G=P.toLowerCase();S[G]&&(R=G),V&&(S[G]=V,R=G);var Q=P.split("-");if(!R&&Q.length>1)return A(Q[0])}else{var ee=P.name;S[ee]=P,R=ee}return!z&&R&&(_=R),R||!z&&_},y=function(A,P){if(w(A))return A.clone();var V=typeof P=="object"?P:{};return V.date=A,V.args=arguments,new j(V)},C=v;C.l=g,C.i=w,C.w=function(A,P){return y(A,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var j=function(){function A(V){this.$L=g(V.locale,null,!0),this.parse(V),this.$x=this.$x||V.x||{},this[M]=!0}var P=A.prototype;return P.parse=function(V){this.$d=function(z){var R=z.date,G=z.utc;if(R===null)return new Date(NaN);if(C.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var Q=R.match(x);if(Q){var ee=Q[2]-1||0,le=(Q[7]||"0").substring(0,3);return G?new Date(Date.UTC(Q[1],ee,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,le)):new Date(Q[1],ee,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,le)}}return new Date(R)}(V),this.init()},P.init=function(){var V=this.$d;this.$y=V.getFullYear(),this.$M=V.getMonth(),this.$D=V.getDate(),this.$W=V.getDay(),this.$H=V.getHours(),this.$m=V.getMinutes(),this.$s=V.getSeconds(),this.$ms=V.getMilliseconds()},P.$utils=function(){return C},P.isValid=function(){return this.$d.toString()!==O},P.isSame=function(V,z){var R=y(V);return this.startOf(z)<=R&&R<=this.endOf(z)},P.isAfter=function(V,z){return y(V)<this.startOf(z)},P.isBefore=function(V,z){return this.endOf(z)<y(V)},P.$g=function(V,z,R){return C.u(V)?this[z]:this.set(R,V)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(V,z){var R=this,G=!!C.u(z)||z,Q=C.p(V),ee=function(Be,he){var Ee=C.w(R.$u?Date.UTC(R.$y,he,Be):new Date(R.$y,he,Be),R);return G?Ee:Ee.endOf(c)},le=function(Be,he){return C.w(R.toDate()[Be].apply(R.toDate("s"),(G?[0,0,0,0]:[23,59,59,999]).slice(he)),R)},ie=this.$W,ve=this.$M,we=this.$D,je="set"+(this.$u?"UTC":"");switch(Q){case k:return G?ee(1,0):ee(31,11);case d:return G?ee(1,ve):ee(0,ve+1);case f:var Fe=this.$locale().weekStart||0,Qe=(ie<Fe?ie+7:ie)-Fe;return ee(G?we-Qe:we+(6-Qe),ve);case c:case D:return le(je+"Hours",0);case u:return le(je+"Minutes",1);case l:return le(je+"Seconds",2);case r:return le(je+"Milliseconds",3);default:return this.clone()}},P.endOf=function(V){return this.startOf(V,!1)},P.$set=function(V,z){var R,G=C.p(V),Q="set"+(this.$u?"UTC":""),ee=(R={},R[c]=Q+"Date",R[D]=Q+"Date",R[d]=Q+"Month",R[k]=Q+"FullYear",R[u]=Q+"Hours",R[l]=Q+"Minutes",R[r]=Q+"Seconds",R[s]=Q+"Milliseconds",R)[G],le=G===c?this.$D+(z-this.$W):z;if(G===d||G===k){var ie=this.clone().set(D,1);ie.$d[ee](le),ie.init(),this.$d=ie.set(D,Math.min(this.$D,ie.daysInMonth())).$d}else ee&&this.$d[ee](le);return this.init(),this},P.set=function(V,z){return this.clone().$set(V,z)},P.get=function(V){return this[C.p(V)]()},P.add=function(V,z){var R,G=this;V=Number(V);var Q=C.p(z),ee=function(ve){var we=y(G);return C.w(we.date(we.date()+Math.round(ve*V)),G)};if(Q===d)return this.set(d,this.$M+V);if(Q===k)return this.set(k,this.$y+V);if(Q===c)return ee(1);if(Q===f)return ee(7);var le=(R={},R[l]=o,R[u]=a,R[r]=t,R)[Q]||1,ie=this.$d.getTime()+V*le;return C.w(ie,this)},P.subtract=function(V,z){return this.add(-1*V,z)},P.format=function(V){var z=this,R=this.$locale();if(!this.isValid())return R.invalidDate||O;var G=V||"YYYY-MM-DDTHH:mm:ssZ",Q=C.z(this),ee=this.$H,le=this.$m,ie=this.$M,ve=R.weekdays,we=R.months,je=R.meridiem,Fe=function(he,Ee,Xe,it){return he&&(he[Ee]||he(z,G))||Xe[Ee].slice(0,it)},Qe=function(he){return C.s(ee%12||12,he,"0")},Be=je||function(he,Ee,Xe){var it=he<12?"AM":"PM";return Xe?it.toLowerCase():it};return G.replace(T,function(he,Ee){return Ee||function(Xe){switch(Xe){case"YY":return String(z.$y).slice(-2);case"YYYY":return C.s(z.$y,4,"0");case"M":return ie+1;case"MM":return C.s(ie+1,2,"0");case"MMM":return Fe(R.monthsShort,ie,we,3);case"MMMM":return Fe(we,ie);case"D":return z.$D;case"DD":return C.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return Fe(R.weekdaysMin,z.$W,ve,2);case"ddd":return Fe(R.weekdaysShort,z.$W,ve,3);case"dddd":return ve[z.$W];case"H":return String(ee);case"HH":return C.s(ee,2,"0");case"h":return Qe(1);case"hh":return Qe(2);case"a":return Be(ee,le,!0);case"A":return Be(ee,le,!1);case"m":return String(le);case"mm":return C.s(le,2,"0");case"s":return String(z.$s);case"ss":return C.s(z.$s,2,"0");case"SSS":return C.s(z.$ms,3,"0");case"Z":return Q}return null}(he)||Q.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(V,z,R){var G,Q=this,ee=C.p(z),le=y(V),ie=(le.utcOffset()-this.utcOffset())*o,ve=this-le,we=function(){return C.m(Q,le)};switch(ee){case k:G=we()/12;break;case d:G=we();break;case p:G=we()/3;break;case f:G=(ve-ie)/6048e5;break;case c:G=(ve-ie)/864e5;break;case u:G=ve/a;break;case l:G=ve/o;break;case r:G=ve/t;break;default:G=ve}return R?G:C.a(G)},P.daysInMonth=function(){return this.endOf(d).$D},P.$locale=function(){return S[this.$L]},P.locale=function(V,z){if(!V)return this.$L;var R=this.clone(),G=g(V,z,!0);return G&&(R.$L=G),R},P.clone=function(){return C.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},A}(),W=j.prototype;return y.prototype=W,[["$ms",s],["$s",r],["$m",l],["$H",u],["$W",c],["$M",d],["$y",k],["$D",D]].forEach(function(A){W[A[1]]=function(P){return this.$g(P,A[0],A[1])}}),y.extend=function(A,P){return A.$i||(A(P,j,y),A.$i=!0),y},y.locale=g,y.isDayjs=w,y.unix=function(A){return y(1e3*A)},y.en=S[_],y.Ls=S,y.p={},y})})(Hn);var Dr=Hn.exports;const Er=Eo(Dr),Tr=Er;function fe(e){Vo.create({position:"top-center",...e})}function Vr(e,n,t,o=null,a=null,s=null){s||(s="bg-yellow-600 text-ink-white rounded-md p-px"),fe({title:e,message:ln?ln(n):n,icon:t,iconClasses:s,timeout:5,style:{backgroundColor:o||"white",color:a||"black"}})}function ln(e){let n=document.createElement("div");return n.innerHTML=e,n.textContent||n.innerText||""}const Ar={class:"w-full",style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},Gn={__name:"Customer",setup(e){let n=re("base"),t=!1;const o=wt({doctype:"Customer",fields:["name","mobile_no","customer_group","territory","is_internal_customer"],filters:{disabled:!1},pageLength:Number.MAX_VALUE*2,auto:!0,onSuccess(l){t=!1},onError(l){t||(fe({title:"error",message:Array.isArray(l==null?void 0:l.messages)?l.messages[0]:(l==null?void 0:l.messages)||l||"An error occurred",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),t=!0)},transform:l=>l.map(u=>({label:u.name,value:u.name,mobile_no:u.mobile_no,name:u.name,customer_group:u.customer_group,territory:u.territory,is_internal_customer:u.is_internal_customer}))}),a=F(()=>o!=null&&o.data?o.data.map(l=>({mobile_no:l.mobile_no||"",label:l.label||"Unnamed",value:l.value,name:l.name,customer_group:l.customer_group,territory:l.territory,is_internal_customer:l.is_internal_customer})):[]),s=async l=>{await o.fetch(),r.value={mobile_no:l.mobile_no||"",label:l.name||"Unnamed",value:l.name,name:l.name,customer_group:l.customer_group,territory:l.territory,is_internal_customer:l.is_internal_customer}};_e(()=>{ye.on("customerCreated",s)}),Ie(()=>{ye.off("customerCreated",s)});const r=F({get:()=>n.customer,set:l=>{n.is_return||(n.customer=l)}});return(l,u)=>(h(),E("div",Ar,[q(Nt,{options:a.value,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),placeholder:"Select Customer"},null,8,["options","modelValue"])]))}},Fr={class:"w-full h-[94%] flex p-2 gap-4",style:{"background-color":"#f8f8fc !important",color:"#82868f !important","font-family":"'futura-pt', sans-serif !important","font-size":"17px !important"}},Br={class:"w-full h-full"},Rr={class:"w-full h-full flex gap-6"},Nr={class:"w-[65%] h-full"},zr={class:"w-full h-full shadow-2xl p-4 rounded",style:{"background-color":"#ffffff !important"}},Lr={class:"h-[6%]"},jr={class:"w-full h-[94%] flex flex-col gap-4"},Ur={class:"flex justify-evenly text-center rounded-md p-3 h-[6%] items-center",style:{"background-color":"#4e60ac !important",color:"white !important","font-size":"17px !important"}},Wr={class:"w-[4%]"},Kr=["checked"],Yr={class:"h-[92%] overflow-y-scroll rounded scrollbar-hide flex flex-col gap-3 text-center"},Hr={key:0,class:"flex justify-center items-center h-full"},Gr={class:"flex justify-evenly items-center rounded text-center p-2.5",style:{"background-color":"#f8f8fc !important"}},Qr={class:"w-[4%]"},Xr=["checked","onChange"],Jr={class:"w-[19%]"},Zr={class:"w-[19%]"},ei={class:"w-[19%]"},ti={class:"w-[19%]"},ni={class:"w-[35%] h-full"},oi={class:"w-full h-full shadow-2xl p-4 rounded flex flex-col justify-between",style:{"background-color":"#ffffff !important"}},li={class:"flex flex-col gap-4"},ai={class:"flex flex-col gap-6 h-fit"},si={class:"text-right"},ri={__name:"PaymentSelect",setup(e){const n=re("base"),t=N(""),o=N(!1),a=N([]),s=N(0),r=wt({doctype:"Sales Invoice",fields:["name","customer","grand_total","outstanding_amount"],filters:F(()=>{var $;return{outstanding_amount:[">",0],docstatus:1,is_return:0,customer:(($=n.customer)==null?void 0:$.name)||""}}),transform:$=>$.map(m=>({...m,selected:!1})),auto:!0}),l=F(()=>r.data?t.value?r.data.filter($=>$.name.toLowerCase().includes(t.value.toLowerCase())):r.data:[]),u=()=>{s.value=r.data.filter($=>$.selected).reduce(($,m)=>$+m.outstanding_amount,0)},c=()=>{o.value=!o.value,r.data.forEach($=>$.selected=o.value),u()},f=$=>{$.selected=!$.selected,o.value=r.data.every(m=>m.selected),u()},d=F(()=>a.value.reduce(($,m)=>$+Number(m.amount||0),0)),p=F(()=>s.value-d.value),k=F(()=>{var v;const $=(v=r.data)==null?void 0:v.some(_=>_.selected),m=d.value>0;return $&&m&&p.value>=0}),D=$=>{a.value.forEach((m,v)=>{m.amount=v===$?s.value:0})},O=Me({url:"ant_pos.ant_pos.api.payment_entry.settle_invoices_with_payment",method:"POST",auto:!1}),x=async()=>{var v;const $=r.data.filter(_=>_.selected).map(_=>_.name),m=a.value.filter(_=>Number(_.amount||0)>0);await O.submit({customer:n.customer.name,references:$,payments:m,pos_profile:n.pos_profile.name}),O.error?fe({title:"Error",message:((v=O.error.messages)==null?void 0:v[0])||"An error occurred"}):(fe({title:"Success",message:"Payment submitted successfully!"}),T())},T=()=>{r.reload(),a.value.forEach($=>$.amount=0),s.value=0,o.value=!1};return _e(()=>{var $;($=n.pos_profile)!=null&&$.payments&&(a.value=n.pos_profile.payments.map(m=>({mode_of_payment:m.mode_of_payment,amount:0})))}),te(()=>n.customer,$=>{$!=null&&$.name?r.reload():r.data=[],T()},{deep:!0}),($,m)=>{const v=ke("Button");return h(),E("div",Fr,[b("div",Br,[b("div",Rr,[b("div",Nr,[b("div",zr,[b("div",Lr,[q(Gn)]),b("div",jr,[q(i(mt),{type:"text",modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=_=>t.value=_),placeholder:"Search"},{prefix:I(()=>[q(i(ne),{class:"w-4",name:"search"})]),_:1},8,["modelValue"]),b("div",Ur,[b("div",Wr,[b("input",{type:"checkbox",checked:o.value,class:"text-black rounded-sm focus:outline-none focus:ring-0 focus:border-transparent",onChange:c},null,40,Kr)]),m[3]||(m[3]=b("p",{class:"w-[19%]"},"Name",-1)),m[4]||(m[4]=b("p",{class:"w-[19%]"},"Customer",-1)),m[5]||(m[5]=b("p",{class:"w-[19%]"},"Amount",-1)),m[6]||(m[6]=b("p",{class:"w-[19%]"},"Outstanding",-1))]),b("div",Yr,[l.value.length===0?(h(),E("div",Hr,[...m[7]||(m[7]=[b("p",{class:"text-gray-500"},"No invoices found",-1)])])):H("",!0),(h(!0),E(oe,null,ue(l.value,_=>(h(),E("div",{key:_.name,class:"w-full"},[b("div",Gr,[b("div",Qr,[b("input",{type:"checkbox",checked:_.selected,class:"text-black rounded-sm focus:outline-none focus:ring-0 focus:border-transparent",onChange:S=>f(_)},null,40,Xr)]),b("p",Jr,K(_.name),1),b("p",Zr,K(_.customer),1),b("p",ei,K(_.grand_total),1),b("p",ti,K(_.outstanding_amount),1)])]))),128))])])])]),b("div",ni,[b("div",oi,[b("div",li,[b("div",ai,[m[8]||(m[8]=b("div",{class:"flex justify-evenly rounded-md p-3",style:{"background-color":"#4e60ac !important",color:"white !important"}},[b("p",null,"Payment Total")],-1)),q(i(X),{type:"number",size:"sm",variant:"subtle",placeholder:"0",disabled:!0,label:"Total Selected Outstanding",modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=_=>s.value=_)},null,8,["modelValue"])]),b("div",null,[m[9]||(m[9]=b("p",{class:"text-2xl font-bold"},"Payment Method",-1)),(h(!0),E(oe,null,ue(a.value,(_,S)=>(h(),E("div",{class:"grid grid-cols-2 gap-4 p-2 items-center",key:S},[q(i(X),{type:"number",size:"sm",variant:"subtle",placeholder:"0",disabled:!1,label:`${_.mode_of_payment}:`,modelValue:_.amount,"onUpdate:modelValue":M=>_.amount=M},null,8,["label","modelValue","onUpdate:modelValue"]),q(v,{class:"w-full h-full",variant:"solid",size:"lg",onClick:M=>D(S),style:{"background-color":"#4e60ac !important",color:"white !important"}},{default:I(()=>[ce(K(_.mode_of_payment),1)]),_:2},1032,["onClick"])]))),128)),q(i(X),{type:"number",size:"sm",variant:"subtle",placeholder:"0",disabled:!0,modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=_=>p.value=_),label:"Difference:"},null,8,["modelValue"])])]),b("div",si,[q(v,{class:"w-full p-2 h-full",variant:"solid",size:"lg",loading:i(O).loading,onClick:x,disabled:!k.value,style:{"background-color":"#4e60ac !important",color:"white !important"}},{default:I(()=>[...m[10]||(m[10]=[ce(" Submit ",-1)])]),_:1},8,["loading","disabled"])])])])])])])}}},ii={class:"md:w-1/2 w-full shadow-2xl pt-2 px-2 rounded"},ui={class:"mt-4 h-[calc(100%-40px)] overflow-y-auto scrollbar-hide"},di={key:0,class:"text-center text-gray-500"},ci={key:1,class:"text-center text-gray-500"},fi={key:2,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},pi=["onClick"],mi={class:"h-28 w-full bg-gray-100 flex items-center justify-center"},vi=["src","alt"],gi={class:"p-2 flex-grow flex flex-col justify-between"},hi=["title"],yi={class:"text-gray-600 text-xs"},bi={class:"text-gray-500 text-xs"},_i={__name:"ItemSelector",setup(e){const n=N([]),t=N(""),o=re("base"),a=()=>{var l;(l=o.pos_profile)!=null&&l.name&&s.fetch()},s=Me({url:"ant_pos.ant_pos.api.item.items",method:"GET",auto:!1,makeParams(){var l;return{pos_profile:o.pos_profile.name,search_value:t.value,customer:((l=o.customer)==null?void 0:l.name)||""}},onSuccess(l){n.value=l||[]},onError(l){console.error("Failed to fetch items:",l),fe({title:"Error",message:"Failed to load items"})}});_e(()=>{var l;(l=o.pos_profile)!=null&&l.name&&a()}),te(()=>{var l;return(l=o.pos_profile)==null?void 0:l.name},l=>{l&&a()},{immediate:!0});const r=l=>{var c,f;if(!((c=o.customer)!=null&&c.name)){fe({title:"Warning",message:"Please select a customer first"});return}if(!((f=o.employee)!=null&&f.name)){fe({title:"Warning",message:"Please select an employee"});return}const u=o.items.find(d=>d.item_code===l.item_code&&!d.is_return);if(u)u.qty+=1,u.amount=u.rate*u.qty,fe({title:"Info",message:`Increased quantity for ${l.item_name}`});else{const d={item_code:l.item_code,item_name:l.item_name,rate:l.rate,image:l.image,stock_uom:l.stock_uom,uom:l.stock_uom,qty:1,amount:l.rate*1,sales_person:o.employee.name,doctype:"Sales Invoice Item",parenttype:"Sales Invoice",custom_id:`cart-item-${Date.now()}`};o.items.push(d),fe({title:"Success",message:`${l.item_name} added to cart`})}};return(l,u)=>(h(),E("div",ii,[q(i(X),{type:"text",modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=c=>t.value=c),placeholder:"Search Items",size:"sm",variant:"subtle",onInput:a,disabled:i(o).is_return},{prefix:I(()=>[q(i(ne),{class:"w-4",name:"search"})]),_:1},8,["modelValue","disabled"]),b("div",ui,[!n.value.length&&i(s).loading?(h(),E("div",di," Loading items... ")):n.value.length?(h(),E("div",fi,[(h(!0),E(oe,null,ue(n.value,c=>(h(),E("div",{key:c.item_code,onClick:f=>r(c),class:"border rounded-lg cursor-pointer hover:shadow-lg transition-shadow flex flex-col overflow-hidden bg-white"},[b("div",mi,[c.image?(h(),E("img",{key:0,src:c.image,alt:c.item_name,class:"h-full w-full object-cover"},null,8,vi)):(h(),B(i(ne),{key:1,name:"image",class:"text-gray-400 w-10 h-10"}))]),b("div",gi,[b("div",{class:"font-semibold text-sm truncate",title:c.item_name},K(c.item_name),9,hi),b("div",null,[b("div",yi,"Price: "+K(c.rate)+" "+K(i(o).pos_profile.currency),1),b("div",bi,"In Stock: "+K(c.stock_qty),1)])])],8,pi))),128))])):(h(),E("div",ci," No items found. Try searching again. "))])]))}},wi={class:"md:w-1/2 w-full shadow-2xl pt-2 px-2 rounded"},xi={class:"h-[85%] w-full"},ki={class:"grid grid-cols-2 gap-4 p-2"},Si={class:"p-2 flex items-center gap-2"},Ci={class:"flex items-center gap-2"},Oi={class:"grid grid-cols-2 gap-4 p-2"},$i={class:"grid grid-cols-3 gap-4 p-2"},qi={class:"h-[14%] w-full mt-2 flex flex-col gap-2"},Pi={class:"h-1/2"},Mi={class:"flex gap-8 h-full mb-3 justify-center items-center"},Ii={class:"h-1/2"},Di={__name:"Invoice",setup(e){let n=re("base");const t=re("emitter"),o=N(0),a=N(0);te(o,O=>{const x=Number(O)||0;n.invoice.grand_total=a.value+x,n.invoice.custom_tips_amount=x});const s=N(!1),r=N({});te(s,O=>{O?(n.invoice.net_total=Number(r.value.net_total*.95).toFixed(2),n.invoice.total=Number(r.value.total*.95).toFixed(2),n.invoice.grand_total=Number(r.value.grand_total*.95).toFixed(2)):(n.invoice.net_total=Number(r.value.net_total).toFixed(2),n.invoice.total=Number(r.value.total).toFixed(2),n.invoice.grand_total=Number(r.value.grand_total).toFixed(2)),a.value=Number(n.invoice.grand_total)});const l=()=>{const O=Number(n.invoice.grand_total)||0;n.invoice.paid_amount=O,n.pos_profile.payments.forEach(x=>{!n.invoice.payments.some(T=>T.mode_of_payment===x.mode_of_payment)&&(n.is_return&&x.allow_in_returns||!n.is_return)&&n.invoice.payments.push({mode_of_payment:x.mode_of_payment,amount:Number(x.default)?O:0,base_amount:Number(x.default)?O:0})})},u=O=>{const x=Number(n.invoice.grand_total);n.invoice.payments.forEach((T,$)=>{T.amount=$===O?x:0}),n.invoice.paid_amount=x},c=F({get:()=>n.invoice.delivery_date||_n().format("YYYY-MM-DD"),set:O=>{n.invoice.delivery_date=O}});_e(()=>{r.value={net_total:n.invoice.net_total,total:n.invoice.total,grand_total:n.invoice.grand_total},a.value=Number(n.invoice.grand_total),l()});const f=Me({url:"ant_pos.ant_pos.utils.get_domain_url"}),d=Me({url:"frappe.desk.form.save.savedocs",makeParams(O){return{doc:JSON.stringify({...n.invoice,docstatus:1}),action:"Submit"}},async onSuccess(O){fe({title:"Success",message:"Invoice Submitted Successfully"}),d.params.print&&(await f.fetch(),window.open(`${f.data}/printview?doctype=Sales+Invoice&name=${O.docs[0].name}&format=${encodeURIComponent(n.pos_profile.print_format)}&trigger_print=1`,"_blank")),k()},onError(O){var x;fe({title:"Error",message:((x=O.messages)==null?void 0:x[0])||"An error occurred"})}}),p=(O=null)=>{const x=O?{print:!0}:{};d.fetch(x)},k=()=>{n.invoice={},n.items=[],n.customer={},o.value=0,t.emit("updatePage","Pos")},D=()=>{let O=0;n.invoice.payments.forEach(x=>{O+=Number(x.amount)||0}),n.invoice.paid_amount=O};return(O,x)=>{var T,$;return h(),E("div",wi,[b("div",xi,[b("div",ki,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Amount Paid",value:Number(i(n).invoice.paid_amount).toFixed(2),modelValue:i(n).invoice.paid_amount,"onUpdate:modelValue":x[0]||(x[0]=m=>i(n).invoice.paid_amount=m)},null,8,["value","modelValue"]),i(n).invoice.paid_amount>i(n).invoice.grand_total?(h(),B(i(X),{key:0,type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Placeholder",disabled:!0,label:"Paid Change",value:Number(i(n).invoice.paid_amount-i(n).invoice.grand_total).toFixed(2)},null,8,["value"])):H("",!0)]),(h(!0),E(oe,null,ue(($=(T=i(n))==null?void 0:T.pos_profile)==null?void 0:$.payments,(m,v)=>{var _,S,M,w,g,y,C,j;return h(),E("div",{class:"grid grid-cols-2 gap-4 p-2 items-center",key:v},[(S=(_=i(n).invoice)==null?void 0:_.payments)!=null&&S[v]&&((w=(M=i(n).invoice)==null?void 0:M.payments)==null?void 0:w[v].amount)!==void 0?(h(),B(i(X),{key:0,type:"number",size:"sm",variant:"subtle",placeholder:"0.00",disabled:!1,label:m.mode_of_payment,value:Number(i(n).invoice.payments[v].amount).toFixed(2),modelValue:i(n).invoice.payments[v].amount,"onUpdate:modelValue":W=>i(n).invoice.payments[v].amount=W,onChange:x[1]||(x[1]=W=>D())},null,8,["label","value","modelValue","onUpdate:modelValue"])):H("",!0),(y=(g=i(n).invoice)==null?void 0:g.payments)!=null&&y[v]&&((j=(C=i(n).invoice)==null?void 0:C.payments)==null?void 0:j[v].amount)!==void 0?(h(),B(i(ae),{key:1,class:"w-full h-full",variant:"solid",size:"lg",label:"Button",loading:!1,disabled:!1,onClick:W=>u(v),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:I(()=>[ce(K(m.mode_of_payment),1)]),_:2},1032,["onClick"])):H("",!0)])}),128)),b("div",Si,[b("label",Ci,[Se(b("input",{type:"checkbox","onUpdate:modelValue":x[2]||(x[2]=m=>s.value=m),class:"toggle-checkbox"},null,512),[[Ao,s.value]]),x[12]||(x[12]=b("span",null,"Exclusive VAT (-5%)",-1))])]),b("div",Oi,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Net Total",value:Number(i(n).invoice.net_total).toFixed(2),modelValue:i(n).invoice.net_total,"onUpdate:modelValue":x[3]||(x[3]=m=>i(n).invoice.net_total=m)},null,8,["value","modelValue"]),q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total Amount",value:Number(i(n).invoice.total).toFixed(2),modelValue:i(n).invoice.total,"onUpdate:modelValue":x[4]||(x[4]=m=>i(n).invoice.total=m)},null,8,["value","modelValue"]),q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Discount Amount",value:Number(i(n).invoice.discount_amount).toFixed(2),modelValue:i(n).invoice.discount_amount,"onUpdate:modelValue":x[5]||(x[5]=m=>i(n).invoice.discount_amount=m)},null,8,["value","modelValue"]),q(i(X),{type:"number",size:"sm",variant:"subtle",placeholder:"0.00",disabled:!1,label:"Tips (AED)",modelValue:o.value,"onUpdate:modelValue":x[6]||(x[6]=m=>o.value=m)},null,8,["modelValue"]),q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Grand Total",value:Number(i(n).invoice.grand_total).toFixed(2),modelValue:i(n).invoice.grand_total,"onUpdate:modelValue":x[7]||(x[7]=m=>i(n).invoice.grand_total=m)},null,8,["value","modelValue"])]),(h(!0),E(oe,null,ue(i(n).invoice.advances,(m,v)=>(h(),E("div",{key:v},[b("div",$i,[q(i(X),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Credit Origin",modelValue:m.reference_name,"onUpdate:modelValue":_=>m.reference_name=_},null,8,["modelValue","onUpdate:modelValue"]),q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total Credit",value:Number(m.advance_amount).toFixed(2),modelValue:m.advance_amount,"onUpdate:modelValue":_=>m.advance_amount=_},null,8,["value","modelValue","onUpdate:modelValue"]),q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!1,label:"Credit To Redeem",value:Number(m.allocated_amount).toFixed(2),modelValue:m.allocated_amount,"onUpdate:modelValue":_=>m.allocated_amount=_,onChange:x[8]||(x[8]=_=>D())},null,8,["value","modelValue","onUpdate:modelValue"])])]))),128)),b("div",null,[i(n).pos_profile.custom_set_sales_order?(h(),B(i($t),{key:0,size:"md",modelValue:c.value,"onUpdate:modelValue":x[9]||(x[9]=m=>c.value=m),variant:"subtle",placeholder:"Delivery Date",disabled:!1},null,8,["modelValue"])):H("",!0)])]),b("div",qi,[b("div",Pi,[b("div",Mi,[q(i(ae),{class:"w-1/2 h-[90%]",variant:"solid",size:"lg",label:"Submit",loading:i(d).loading,disabled:i(d).loading,onClick:x[10]||(x[10]=m=>p()),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:I(()=>[...x[13]||(x[13]=[ce(" Submit ",-1)])]),_:1},8,["loading","disabled"]),q(i(ae),{class:"w-1/2 h-[90%]",variant:"solid",size:"lg",label:"Submit & Print",loading:i(d).loading,disabled:i(d).loading,onClick:x[11]||(x[11]=m=>p("print")),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:I(()=>[...x[14]||(x[14]=[ce(" Submit & Print ",-1)])]),_:1},8,["loading","disabled"])])]),b("div",Ii,[q(i(ae),{class:"w-full h-[90%]",variant:"ghost",size:"lg",label:"Cancel",loading:!1,disabled:!1,onClick:k,theme:"red"},{default:I(()=>[...x[15]||(x[15]=[ce(" Cancel ",-1)])]),_:1})])])])}}},Ei={class:"w-full",style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},Ti={__name:"Employee",setup(e){let n=re("base"),t=!1;const o=wt({doctype:"Employee",fields:["name","employee_name","department","designation","status"],filters:{status:"Active"},pageLength:Number.MAX_VALUE*2,auto:!0,onSuccess(l){t=!1},onError(l){t||(fe({title:"error",message:Array.isArray(l==null?void 0:l.messages)?l.messages[0]:(l==null?void 0:l.messages)||l||"An error occurred",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),t=!0)},transform:l=>l.map(u=>({label:u.employee_name||u.name,value:u.name,name:u.name,employee_name:u.employee_name,department:u.department,designation:u.designation,status:u.status}))}),a=F(()=>o!=null&&o.data?o.data.map(l=>({label:l.label||"Unnamed",value:l.value,name:l.name,employee_name:l.employee_name,department:l.department,designation:l.designation,status:l.status})):[]),s=async l=>{await o.fetch(),r.value={label:l.employee_name||l.name||"Unnamed",value:l.name,name:l.name,employee_name:l.employee_name,department:l.department,designation:l.designation,status:l.status}};_e(()=>{ye.on("employeeCreated",s)}),Ie(()=>{ye.off("employeeCreated",s)});const r=F({get:()=>n.employee,set:l=>{n.is_return||(n.employee=l)}});return(l,u)=>(h(),E("div",Ei,[q(Nt,{options:a.value,modelValue:r.value,"onUpdate:modelValue":u[0]||(u[0]=c=>r.value=c),placeholder:"Select Employee"},null,8,["options","modelValue"])]))}};var Vi=typeof global=="object"&&global&&global.Object===Object&&global,Ai=typeof self=="object"&&self&&self.Object===Object&&self,Qn=Vi||Ai||Function("return this")(),gt=Qn.Symbol,Xn=Object.prototype,Fi=Xn.hasOwnProperty,Bi=Xn.toString,Je=gt?gt.toStringTag:void 0;function Ri(e){var n=Fi.call(e,Je),t=e[Je];try{e[Je]=void 0;var o=!0}catch{}var a=Bi.call(e);return o&&(n?e[Je]=t:delete e[Je]),a}var Ni=Object.prototype,zi=Ni.toString;function Li(e){return zi.call(e)}var ji="[object Null]",Ui="[object Undefined]",an=gt?gt.toStringTag:void 0;function Wi(e){return e==null?e===void 0?Ui:ji:an&&an in Object(e)?Ri(e):Li(e)}function Ki(e){return e!=null&&typeof e=="object"}var Yi="[object Symbol]";function Hi(e){return typeof e=="symbol"||Ki(e)&&Wi(e)==Yi}var Gi=/\s/;function Qi(e){for(var n=e.length;n--&&Gi.test(e.charAt(n)););return n}var Xi=/^\s+/;function Ji(e){return e&&e.slice(0,Qi(e)+1).replace(Xi,"")}function Pt(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var sn=NaN,Zi=/^[-+]0x[0-9a-f]+$/i,eu=/^0b[01]+$/i,tu=/^0o[0-7]+$/i,nu=parseInt;function rn(e){if(typeof e=="number")return e;if(Hi(e))return sn;if(Pt(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Pt(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Ji(e);var t=eu.test(e);return t||tu.test(e)?nu(e.slice(2),t?2:8):Zi.test(e)?sn:+e}var Ot=function(){return Qn.Date.now()},ou="Expected a function",lu=Math.max,au=Math.min;function su(e,n,t){var o,a,s,r,l,u,c=0,f=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(ou);n=rn(n)||0,Pt(t)&&(f=!!t.leading,d="maxWait"in t,s=d?lu(rn(t.maxWait)||0,n):s,p="trailing"in t?!!t.trailing:p);function k(S){var M=o,w=a;return o=a=void 0,c=S,r=e.apply(w,M),r}function D(S){return c=S,l=setTimeout(T,n),f?k(S):r}function O(S){var M=S-u,w=S-c,g=n-M;return d?au(g,s-w):g}function x(S){var M=S-u,w=S-c;return u===void 0||M>=n||M<0||d&&w>=s}function T(){var S=Ot();if(x(S))return $(S);l=setTimeout(T,O(S))}function $(S){return l=void 0,p&&o?k(S):(o=a=void 0,r)}function m(){l!==void 0&&clearTimeout(l),c=0,o=u=a=l=void 0}function v(){return l===void 0?r:$(Ot())}function _(){var S=Ot(),M=x(S);if(o=arguments,a=this,u=S,M){if(l===void 0)return D(u);if(d)return clearTimeout(l),l=setTimeout(T,n),k(u)}return l===void 0&&(l=setTimeout(T,n)),r}return _.cancel=m,_.flush=v,_}const ru={class:"w-[18.4%]"},iu={class:"w-[18.4%]"},uu={class:"w-[18.4%]"},du={class:"w-[18.4%]"},cu={class:"w-[18.4%]"},fu={class:"w-[8%] flex items-center justify-center"},pu={key:0,class:"flex flex-col w-full py-1 px-3 rounded-b-2xl justify-between",style:{"background-color":"#ffffff !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},mu={class:"grid grid-cols-3 w-full gap-4"},vu={class:"p-2"},gu={class:"p-2"},hu={class:"p-2"},yu={class:"p-2"},bu={class:"p-2"},_u={class:"p-2"},wu={class:"p-2"},xu={class:"p-2"},ku={class:"p-2"},Su={class:"p-2"},Cu={class:"p-2"},Ou={class:"p-2"},$u={class:"flex items-center"},qu={class:"w-full"},Pu={class:"p-2"},Mu={class:"grid grid-cols-2 w-full gap-4"},Iu={class:"p-2"},Du={class:"p-2"},Eu={class:"p-2 flex gap-4"},Tu={class:"w-full"},Vu={__name:"Item",props:{items:Object,index:Number},setup(e){const n=re("base"),t=e,o=Me({url:"ant_pos.ant_pos.api.item.get_batches_list",method:"POST",auto:!1,makeParams(m){return{...m}}}),a=wt({url:"frappe.client.get_list",auto:!1,doctype:"Serial No",fields:["name as serial_no","batch_no"],filters:{warehouse:n.pos_profile.warehouse,item_code:t.items.item_code},pageLength:Number.MAX_VALUE*2,onSuccess(m){t.items.serial_no_options=m.map(v=>({label:v.serial_no,value:v.serial_no,batch_no:v.batch_no}))}}),s=()=>{let m=[];const{has_batch_no:v,batch_no:_}=t.items;return n.is_return?(m=t.items._serial||[],m.map(S=>({label:S,value:S}))):(m=a.data||[],t.items.batch_no!=null&&!n.is_return&&(m=m.filter(S=>S.batch_no===t.items.batch_no)),m.map(S=>({label:S.serial_no,value:S.serial_no})))},r=()=>n.is_return?[{label:t.items.batch_no,value:t.items.batch_no}]:o.data.map(m=>({label:m.batch_id,value:m.batch_id})),l=F(()=>{var m,v;return((v=(m=t.items)==null?void 0:m.serial_no_options)==null?void 0:v.length)||0});te(()=>t.items.selected_batch_no,(m,v)=>{if(m&&m.value!==(v==null?void 0:v.value)||!v){let _=u();const S=s();!_&&S.length>0&&(t.items.selected_serial_no=[],t.items.serial_no_options=t.items.serial_no_options.filter(w=>w.batch_no==m).map(w=>({label:w.serial_no,value:w.serial_no})),p());const M=o.data.find(w=>w.batch_no===m);t.items.stock_qty=M?M.stock_qty:0,t.items.expiry_date=M?M.expiry_date:null,t.items.batch_no=typeof m=="object"?m==null?void 0:m.value:m,ye.emit("calctotal")}});const u=()=>{if(!n.pos_profile.custom_new_items_on_new_line){let m=!1;for(let v=0;v<n.items.length;v++)if(t.index!==v&&n.items[t.index].item_code===n.items[v].item_code&&(n.items[t.index].has_batch_no&&n.items[t.index].batch_no===n.items[v].batch_no&&!n.items[t.index].is_return||!n.items[t.index].has_batch_no))return n.items.selected_serial_no=c(n.items[t.index].selected_serial_no,n.items[v].selected_serial_no),n.items.splice(t.index,1),m=!0,m;return m}},c=(m,v)=>{const _=m.map(w=>w.value),S=v.map(w=>w.value);return[...new Set([..._,...S])].map(w=>({label:w,value:w}))},f=()=>{t.items.amount=Math.abs(t.items.qty)*t.items.rate},d=()=>{if(t.items.serial_no_options){const m=s();m.length>0&&t.items.qty>m.length&&(Vr("warning","Qty is greater than available serial no","alert-circle","#ffcc00","#ffffff"),t.items.qty=n.is_return?-Math.abs(m.length):m.length)}},p=()=>{t.items.serial_no=t.items.selected_serial_no.map(m=>m.value).join(`
`)};te(()=>t.items.selected_serial_no,(m,v)=>{(t.items.serial_no_options&&m!==v||!v)&&(p(),k(t.items.qty))}),te(()=>t.items.price_list_rate,(m,v)=>{t.items.price_list_rate&&m!==v&&(t.items.rate=t.items.price_list_rate)}),te(()=>t.items.qty,(m,v)=>{m!==v&&(s().length>0&&(D(m),d(),p()),ye.emit("calctotal"))});const k=()=>{if(s().length<0)return;const v=t.items.qty,_=t.items.selected_serial_no.length;v!=_&&(t.items.qty=n.is_return?-Math.abs(_):_)},D=m=>{const v=s();if(v.length<0)return;const _=t.items.selected_serial_no,S=_.length;if(Math.abs(S)!==Math.abs(m)){if(Math.abs(S)>Math.abs(m))t.items.selected_serial_no=_.slice(0,m);else if(Math.abs(S)<Math.abs(m)){const M=new Set(_.map(y=>y.value)),w=m-S,g=[];for(let y=0;y<v.length&&g.length<w;y++){const C=v[y];M.has(C.value)||g.push(C)}t.items.selected_serial_no=JSON.parse(JSON.stringify([..._,...g]))}}};te(()=>t.items.discount_percentage,(m,v)=>{(m!==v||!v)&&O()});const O=su(()=>{t.items.rate=x(t.items),t.items.amount=t.items.rate*Math.abs(t.items.qty),t.items.discount_amount=(t.items.price_list_rate-t.items.rate)*Math.abs(t.items.qty),ye.emit("calctotal")},300);n.items.forEach(m=>{te(()=>m,()=>{f()},{deep:!0})});const x=m=>{const v=m.price_list_rate||m.rate,_=m.discount_percentage||0;return v-v*(_/100)},T=F({get(){if(!n.invoice.delivery_date){const m=Tr().format("YYYY-MM-DD");n.invoice.delivery_date=m}return n.invoice.delivery_date},set(m){n.invoice.delivery_date=m}});te(()=>t.items.rate,(m,v)=>{m!==v&&$()});const $=()=>{t.items.rate=x(t.items),f()};return _e(async()=>{$(),d(t.items.qty),t.items.selected_serial_no&&D(t.items.selected_serial_no.length),t.items.selected_serial_no&&p(),await o.fetch({item_code:t.items.item_code,warehouse:n.pos_profile.warehouse}),await a.fetch(),ye.emit("calctotal")}),Ie(()=>{f(),ye.emit("calctotal")}),(m,v)=>{const _=Nt;return h(),E("div",null,[b("div",{class:U(["flex w-full py-2 px-3 justify-between hover:cursor-pointer text-center",e.items.custom_open?"rounded-t-2xl":"rounded"]),style:{"background-color":"#f8f8fc !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},[b("div",{class:"flex items-center h-[100%] rounded",onClick:v[0]||(v[0]=S=>e.items.custom_open=!e.items.custom_open),style:{"background-color":"#7c8bca !important"}},[q(i(ne),{name:e.items.custom_open?"chevron-up":"chevron-down",class:"w-5 h-5"},null,8,["name"])]),b("div",ru,K(e.items.item_code),1),b("div",iu,K(e.items.qty),1),b("div",uu,K(e.items.uom),1),b("div",du,K(Number(e.items.rate).toFixed(2)),1),b("div",cu,K(e.items.amount?e.items.amount.toFixed(2):"0.00"),1),b("div",fu,[q(i(ne),{name:"trash-2",class:"w-5 h-5 rounded hover:bg-red-400 fill-red-700",onClick:v[1]||(v[1]=S=>i(n).items.splice(e.index,1))})])],2),e.items.custom_open?(h(),E("div",pu,[b("div",mu,[b("div",vu,[q(i(X),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"items Code",disabled:!0,label:"items Code",modelValue:e.items.item_code,"onUpdate:modelValue":v[2]||(v[2]=S=>e.items.item_code=S)},null,8,["modelValue"])]),b("div",gu,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0",disabled:!1,label:"QTY",modelValue:e.items.qty,"onUpdate:modelValue":v[3]||(v[3]=S=>e.items.qty=S)},null,8,["modelValue"])]),b("div",hu,[q(i(X),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"UOM",disabled:!0,label:"UOM",modelValue:e.items.uom,"onUpdate:modelValue":v[4]||(v[4]=S=>e.items.uom=S)},null,8,["modelValue"])]),b("div",yu,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",disabled:!i(n).pos_profile.allow_rate_change,label:"Rate",placeholder:"0",value:Number(e.items.rate).toFixed(2),modelValue:e.items.rate,"onUpdate:modelValue":v[5]||(v[5]=S=>e.items.rate=S)},null,8,["disabled","value","modelValue"])]),b("div",bu,[q(i(X),{type:"text",ref_for:!0,size:"sm",variant:"subtle",disabled:!0,label:"Price List Rate",placeholder:"0",value:Number(e.items.price_list_rate).toFixed(2),modelValue:e.items.price_list_rate,"onUpdate:modelValue":v[6]||(v[6]=S=>e.items.price_list_rate=S)},null,8,["value","modelValue"])]),b("div",_u,[q(i(X),{type:"text",ref_for:!0,size:"sm",variant:"subtle",disabled:!0,label:"Net Rate",placeholder:"0",value:Number(e.items.net_rate).toFixed(2),modelValue:e.items.net_rate,"onUpdate:modelValue":v[7]||(v[7]=S=>e.items.net_rate=S)},null,8,["value","modelValue"])]),b("div",wu,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Discount Percentage",disabled:!1,label:"Discount Percentage",modelValue:e.items.discount_percentage,"onUpdate:modelValue":v[8]||(v[8]=S=>e.items.discount_percentage=S)},null,8,["modelValue"])]),b("div",xu,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",disabled:!0,label:"Discount Amount",placeholder:"0",value:Number(e.items.discount_amount).toFixed(2),modelValue:e.items.discount_amount,"onUpdate:modelValue":v[9]||(v[9]=S=>e.items.discount_amount=S)},null,8,["value","modelValue"])]),b("div",ku,[q(i(X),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Group",disabled:!0,label:"Group",modelValue:e.items.item_group,"onUpdate:modelValue":v[10]||(v[10]=S=>e.items.item_group=S)},null,8,["modelValue"])]),b("div",Su,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Stock Qty",disabled:!0,label:"Stock Qty",modelValue:e.items.stock_qty,"onUpdate:modelValue":v[11]||(v[11]=S=>e.items.stock_qty=S)},null,8,["modelValue"])]),b("div",Cu,[q(i(X),{type:"text",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Stock UOM",disabled:!0,label:"Stock UOM",modelValue:e.items.stock_uom,"onUpdate:modelValue":v[12]||(v[12]=S=>e.items.stock_uom=S)},null,8,["modelValue"])]),b("div",Ou,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Serial No Qty",disabled:!0,label:"Serial No Qty",modelValue:l.value,"onUpdate:modelValue":v[13]||(v[13]=S=>l.value=S)},null,8,["modelValue"])]),b("div",$u,[i(n).pos_profile.custom_set_sales_order?(h(),B(i($t),{key:0,size:"sm",variant:"subtle",label:"Delivery Date",placeholder:"Delivery Date",disabled:!1,modelValue:T.value,"onUpdate:modelValue":v[14]||(v[14]=S=>T.value=S),unique:!0},null,8,["modelValue"])):H("",!0)])]),b("div",qu,[b("div",Pu,[q(_,{options:s(),placeholder:"Serial No",multiple:!0,modelValue:e.items.selected_serial_no,"onUpdate:modelValue":v[15]||(v[15]=S=>e.items.selected_serial_no=S)},null,8,["options","modelValue"])]),b("div",Mu,[b("div",Iu,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"Batch No Available QTY",disabled:!1,label:"Batch No Available QTY",modelValue:e.items.stock_qty,"onUpdate:modelValue":v[16]||(v[16]=S=>e.items.stock_qty=S)},null,8,["modelValue"])]),b("div",Du,[q(i($t),{size:"sm",variant:"subtle",label:"Expiry Date",placeholder:"Expiry Date",disabled:!1,modelValue:e.items.expiry_date,"onUpdate:modelValue":v[17]||(v[17]=S=>e.items.expiry_date=S)},null,8,["modelValue"])])]),b("div",null,[b("div",Eu,[b("div",Tu,[q(_,{type:"select",options:r(),size:"sm",variant:"subtle",placeholder:"Batch No",disabled:i(n).is_return,label:"Batch No",modelValue:e.items.selected_batch_no,"onUpdate:modelValue":v[18]||(v[18]=S=>e.items.selected_batch_no=S),hideSearch:!0},null,8,["options","disabled","modelValue"])])])])])])):H("",!0)])}}},Au={class:"md:w-1/2 w-full h-full flex flex-col gap-2",style:{color:"#82868f","font-family":"'futura-pt', sans-serif","font-size":"17px"}},Fu={class:"h-[80%] w-full rounded-lg shadow-2xl px-2 pt-2",style:{"background-color":"#ffffff"}},Bu={class:"flex gap-4 h-[5%]"},Ru={class:"py-2 h-[93%] overflow-y-scroll scrollbar-hide flex flex-col items-center w-full"},Nu={key:0,class:"text-center py-4"},zu={class:"h-[20%] flex shadow-2xl rounded",style:{"background-color":"#ffffff"}},Lu={class:"w-[60%] grid grid-cols-2 gap-4 p-4 h-full"},ju={class:"w-[40%] h-full grid grid-cols-2 gap-2 p-4"},Uu={__name:"ItemDetail",setup(e){const{loadComponent:n}=re("dynamicComponent"),t=Me({url:"ant_pos.ant_pos.utils.get_domain_url"});let o=re("base"),a="";const s=re("emitter");te(()=>o.items,d=>{console.log("Cart items changed:",d),console.log("Number of items:",(d==null?void 0:d.length)||0)},{deep:!0});let r=!1,l=Me({url:"frappe.desk.form.save.savedocs",makeParams(d){var p;if(!((p=o.customer)!=null&&p.name))throw fe({title:"Validation Error",message:"A Customer is required to save or pay."}),new Error("Customer not selected");if(!o.items||o.items.length===0)throw fe({title:"Validation Error",message:"Cannot process an empty cart."}),new Error("Empty cart");return o.items.forEach(k=>{k.has_serial_no&&k.selected_serial_no.length!==k.qty&&(fe({title:"error",message:"Serial number is required",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),r=!0)}),a=d.status,{doc:JSON.stringify({...o==null?void 0:o.invoice,doctype:"Sales Invoice",is_pos:o.invoice.is_return?o.invoice.is_pos:1,pos_profile:o.pos_profile.name,company:o.pos_profile.company,conversion_rate:1,selling_price_list:o.pos_profile.selling_price_list,items:o.items,customer:o.customer.name,update_stock:1,additional_discount_percentage:Number(o.additional_discount_percentage)||0,discount_amount:Number(o.discount_amount)||0,base_total:o.invoice.base_total&&o.invoice.base_total,custom_ant_opening:o.Ant_Opening_Shift.name,apply_discount_on:o.pos_profile.apply_discount_on,payments:u()}),action:d.action}},async onSuccess(d){if(r=!1,a=="pay"){o.invoice=d.docs[0],s.emit("updatePage","payments");return}else a=="print"&&(await t.fetch(),window.open(`${t.data}/printview?doctype=Sales+Invoice&name=${d.docs[0].name}&format=${encodeURIComponent(o.pos_profile.print_format)}&trigger_print=1&no_letterhead=${o.pos_profile.letter_head?1:0}
                    &letterhead=${o.pos_profile.letter_head}`,"_blank"));fe({title:"Success",message:"Invoice saved successfully."}),f()},onError(d){r||(fe({title:"error",message:Array.isArray(d==null?void 0:d.messages)?d.messages[0]:(d==null?void 0:d.messages)||"An error occurred",icon:"x-circle",iconClasses:"bg-surface-red-5 text-ink-white rounded-md p-px",position:"top-center",timeout:5}),r=!0)}});const u=()=>{const d=o.is_return?-Math.abs(o.invoice.rounded_total):o.invoice.rounded_total;return(o.invoice.payments||[]).map(k=>{const D=k.default?d:0;return{...k,amount:D,base_amount:D}})},c=()=>{var p;let d=o.pos_profile.apply_discount_on==="grand_total"?o.invoice.grand_total:o.invoice.base_net_total+((p=o.invoice)==null?void 0:p.discount_amount);o.pos_profile.custom_use_percentage_discount?o.discount_amount=d*o.additional_discount_percentage/100:o.additional_discount_percentage=d?o.discount_amount*100/d:0};te(()=>o.discount_amount,(d,p)=>{!o.pos_profile.custom_use_percentage_discount&&d!==p&&(c(),s.emit("calctotal"))},{flush:"post"}),te(()=>o.additional_discount_percentage,(d,p)=>{o.pos_profile.custom_use_percentage_discount&&d!==p&&(c(),s.emit("calctotal"))},{flush:"post"});const f=()=>{o.invoice={},o.items=[],o.customer={},o.employee={},o.discount_amount=0,o.additional_discount_percentage=0};return(d,p)=>(h(),E("div",Au,[b("div",Fu,[b("div",Bu,[q(Gn),q(Ti),q(i(ae),{class:"w-1/12",onClick:p[1]||(p[1]=k=>{i(n)("CustomerForm")}),variant:"solid",ref_for:!0,size:"sm",label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:I(()=>[q(i(ne),{class:"w-4 cursor-pointer",name:"plus",onClick:p[0]||(p[0]=k=>{i(n)("CustomerForm")})})]),_:1})]),b("div",Ru,[p[12]||(p[12]=Fo('<div class="mb-2 w-full flex flex-col items-center"><div class="flex w-full py-2 px-3 justify-between rounded text-center" style="background-color:#f3f4f6;"><div class="w-[18.4%]"> Item Code </div><div class="w-[18.4%]"> QTY </div><div class="w-[18.4%]"> UOM </div><div class="w-[18.4%]"> Rate </div><div class="w-[18.4%]"> Amount </div><div class="w-[8%]"> Remove </div></div></div>',1)),i(o).items&&i(o).items.length===0?(h(),E("div",Nu," No items in cart. Select items to add them. ")):H("",!0),(h(!0),E(oe,null,ue(i(o).items,(k,D)=>(h(),E("div",{key:k.custom_id,class:"flex flex-col justify-between mb-2 w-full"},[q(Vu,{items:k,index:D},null,8,["items","index"])]))),128))])]),b("div",zu,[b("div",Lu,[q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total Qty",modelValue:i(o).invoice.total_qty,"onUpdate:modelValue":p[2]||(p[2]=k=>i(o).invoice.total_qty=k)},null,8,["modelValue"]),i(o).pos_profile.custom_use_percentage_discount?(h(),B(i(X),{key:0,type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!i(o).pos_profile.allow_discount_change,label:"Additional Discount (%)",modelValue:i(o).additional_discount_percentage,"onUpdate:modelValue":p[3]||(p[3]=k=>i(o).additional_discount_percentage=k)},null,8,["disabled","modelValue"])):(h(),B(i(X),{key:1,type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!i(o).pos_profile.allow_discount_change,label:`Additional Discount (${i(o).pos_profile.currency})`,modelValue:i(o).discount_amount,"onUpdate:modelValue":p[4]||(p[4]=k=>i(o).discount_amount=k),value:Number(i(o).discount_amount).toFixed(2)},null,8,["disabled","label","modelValue","value"])),q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Net Total",class:U(""),value:Number(i(o).invoice.net_total).toFixed(2),modelValue:i(o).invoice.net_total,"onUpdate:modelValue":p[5]||(p[5]=k=>i(o).invoice.net_total=k)},null,8,["value","modelValue"]),q(i(X),{type:"number",ref_for:!0,size:"sm",variant:"subtle",placeholder:"0.00",disabled:!0,label:"Total",class:U(""),value:Number(i(o).invoice.grand_total).toFixed(2),modelValue:i(o).invoice.grand_total,"onUpdate:modelValue":p[6]||(p[6]=k=>i(o).invoice.grand_total=k)},null,8,["value","modelValue"])]),b("div",ju,[q(i(ae),{ref_for:!0,label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,onClick:p[7]||(p[7]=k=>i(n)("Held")),style:{"background-color":"#414fae",color:"#ffffff"}},{default:I(()=>[...p[13]||(p[13]=[ce(" HELD ",-1)])]),_:1}),q(i(ae),{ref_for:!0,label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,onClick:p[8]||(p[8]=k=>i(n)("Return")),style:{"background-color":"#dc2626",color:"#ffffff"}},{default:I(()=>[...p[14]||(p[14]=[ce(" RETURN ",-1)])]),_:1}),q(i(ae),{ref_for:!0,label:"Button",loading:i(l).loading,disabled:i(l).loading,link:null,variant:"solid",onClick:p[9]||(p[9]=k=>i(l).fetch({action:"Save",status:"save_new"})),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:I(()=>[...p[15]||(p[15]=[ce(" SAVE/NEW ",-1)])]),_:1},8,["loading","disabled"]),q(i(ae),{ref_for:!0,label:"Button",loading:i(l).loading,disabled:i(l).loading,link:null,onClick:p[10]||(p[10]=k=>i(l).fetch({action:"Save",status:"pay"})),style:{"background-color":"#149743",color:"#ffffff"}},{default:I(()=>[...p[16]||(p[16]=[ce(" PAY ",-1)])]),_:1},8,["loading","disabled"]),q(i(ae),{ref_for:!0,label:"Button",loading:i(l).loading,disabled:i(l).loading,link:null,variant:"solid",onClick:p[11]||(p[11]=k=>i(l).fetch({action:"Save",status:"print"})),style:{"background-color":"#4e60ac",color:"#ffffff"}},{default:I(()=>[...p[17]||(p[17]=[ce(" SAVE & PRINT ",-1)])]),_:1},8,["loading","disabled"])])])]))}},Wu={class:"w-full h-[94%] flex p-2 gap-4 bg-[#f8f8fc] text-[#82868f]",style:{"font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif","font-size":"17px"}},Ku={class:"w-full h-full flex flex-col md:flex-row gap-4"},Yu={__name:"Pos",setup(e){let n=re("base");const t={Invoice:Di,ItemSelector:_i};return(o,a)=>{var s,r;return h(),E("div",Wu,[b("div",Ku,[(h(),B(Ve(t[(r=(s=i(n))==null?void 0:s.invoice)!=null&&r.status?"Invoice":"ItemSelector"]))),q(Uu)])])}}},Hu={};function Gu(e,n){return null}const Qu=_t(Hu,[["render",Gu]]),Xu={__name:"Platform",props:{collapse:{type:Boolean,required:!0}},setup(e){const n=e,t=re("base"),o={PaymentSelect:ri,Pos:Yu,SalesInvoice:Qu},a=F(()=>t.page==="payments"?"PaymentSelect":t.page==="salesinvoice"?"SalesInvoice":"Pos");return ye.on("updatePage",s=>{t.items=[],t.invoice={},t.customer={},t.page=s}),(s,r)=>(h(),E("div",{class:U(["w-full h-full bg-[#f8f8fc] text-[#82868f]",n.collapse?"xl:w-[97%]":"xl:w-[90%]"]),style:{"font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif","font-size":"17px"}},[q(cr),(h(),B(Ve(o[a.value])))],2))}};function Ju(){const e=N(null);return{currentComponent:e,loadComponent:async t=>{try{const o={OpenShift:()=>Re(()=>import("./Open-Shift-BwDsFe3E.js"),__vite__mapDeps([0,1,2])),CustomerForm:()=>Re(()=>import("./CustomerForm-q0m9GSKP.js"),__vite__mapDeps([3,1,2])),Held:()=>Re(()=>import("./Held-BMNzW_zK.js"),__vite__mapDeps([4,1,2])),Return:()=>Re(()=>import("./Return-ChyWcVvf.js"),__vite__mapDeps([5,1,2])),CloseShift:()=>Re(()=>import("./CloseShift-VX7cfOyW.js"),__vite__mapDeps([6,1,2])),Settings:()=>Re(()=>import("./Settings-DuEvNgyg.js"),__vite__mapDeps([7,1,2])),Attendance:()=>Re(()=>import("./Attendance-WY7T6c_y.js"),__vite__mapDeps([8,1,2]))};if(o[t]){e.value=null,await new Promise(s=>setTimeout(s,0));const a=await o[t]();e.value=a.default}else console.error(`Component "${t}" not found.`),e.value=null}catch(o){console.error("Error loading component:",o),e.value=null}}}}const Zu={class:"w-screen h-screen flex select-none",style:{"background-color":"#f8f8fc !important",color:"#82868f !important","font-family":"'futura-pt', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important","font-size":"17px !important"}},ed={key:0},td={__name:"Pos",setup(e){const n=N(!0),{currentComponent:t,loadComponent:o}=Ju(),{brand:a}=Rt();o("OpenShift"),et("dynamicComponent",{currentComponent:t,loadComponent:o});const s=ht({items:[],customer:{},employee:{},invoice:{},pos_profile:{},page:"Pos"});return et("base",s),Ys(()=>({icon:a.favicon?a.favicon:"/assets/ant_pos/antPOS.png"})),ye.on("trigger_collapse",()=>{n.value=!n.value}),(r,l)=>(h(),E("div",Zu,[i(t)?(h(),E("div",ed,[(h(),B(Ve(i(t)),{onSwitchComponent:i(o)},null,40,["onSwitchComponent"]))])):H("",!0),q(sr,{class:U(r.w-r.full),collapse:n.value},null,8,["class","collapse"]),q(Xu,{collapse:n.value},null,8,["collapse"])]))}},ad=Object.freeze(Object.defineProperty({__proto__:null,default:td},Symbol.toStringTag,{value:"Module"}));export{ad as P,X as _,gs as a,fe as c,ye as e,Rt as g,Ju as u};
//# sourceMappingURL=Pos-KCdXzYUv.js.map
